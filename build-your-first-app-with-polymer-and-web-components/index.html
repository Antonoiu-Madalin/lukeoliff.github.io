<!DOCTYPE html><html lang="en" prefix="og: http://ogp.me/ns#"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/component---src-layouts-index-js-51093b88744bb31359c7.js" as="script"/><link rel="preload" href="/component---src-templates-post-template-js-efb6222c664f8637d165.js" as="script"/><link rel="preload" href="/path---build-your-first-app-with-polymer-and-web-components-4c4a503362ecf2ba2a6f.js" as="script"/><link rel="preload" href="/app-0e1379c963ee306cf932.js" as="script"/><link rel="preload" href="/commons-44750fa6a1ae314db841.js" as="script"/><title data-react-helmet="true">Build Your First App with Polymer and Web Components - technical writer - Luke Oliff</title><link data-react-helmet="true" rel="canonical" href="https://auth0.com/blog/build-your-first-app-with-polymer-and-web-components/"/><meta data-react-helmet="true" name="description" content="Build an app using web components and Polymer that interacts with an API and authenticates users with JSON Web Tokens"/><meta data-react-helmet="true" property="og:url" content="https://lukeoliff.com/build-your-first-app-with-polymer-and-web-components/"/><meta data-react-helmet="true" property="og:title" content="Build Your First App with Polymer and Web Components - technical writer - Luke Oliff"/><meta data-react-helmet="true" property="og:description" content="Build an app using web components and Polymer that interacts with an API and authenticates users with JSON Web Tokens"/><meta data-react-helmet="true" property="og:image" content="[object Object]"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="fb:app_id" content=""/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="mroliff"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#666"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><style id="__jsx-2231607196">.item.jsx-2231607196,.showItem.jsx-2231607196{background:transparent;-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
.item.jsx-2231607196 a,.showItem.jsx-2231607196 a{padding:10px;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
.item.jsx-2231607196 svg,.showItem.jsx-2231607196 svg{margin:0 5px 0 0;opacity:0.3;}
.itemList .hideItem{display:none;}
@media screen and (min-width:1024px){.item.jsx-2231607196 a{color:#3e3e3c;padding:10px;-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;border-radius:5px;}.homepage:not(.fixed) .item.jsx-2231607196 a{color:#ffffff;}.item.jsx-2231607196 a:hover{color:#4e5a6d;background:#ffffff;background:rgba(255,255,255,0.4);}.item.jsx-2231607196 svg{-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;}.item.jsx-2231607196:hover svg{fill:#4e5a6d;opacity:1;}.hero .item.jsx-2231607196:hover svg svg{fill:green;}.showItem.jsx-2231607196{display:none;}.hiddenItem.jsx-2231607196{text-align:left;padding:5px;}.hiddenItem.jsx-2231607196 a.inHiddenItem{color:#3e3e3c;}.hiddenItem.jsx-2231607196 a.inHiddenItem:hover{color:#4e5a6d;}}</style><style id="__jsx-3546659225">.menu.jsx-3546659225{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#ffffff;bottom:0;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;left:0;max-height:50px;padding:0 10px;position:fixed;width:100%;z-index:1;-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;}
.itemList.jsx-3546659225{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;list-style:none;margin:0;padding:0;position:relative;width:100%;}
@media screen and (max-width:1023px){.menu.jsx-3546659225:after{position:absolute;content:"";left:20px;right:20px;top:0;height:1px;background:#4e5a6d;}.menu.open.jsx-3546659225{padding:20px;}.homepage:not(.fixed) .menu.jsx-3546659225{bottom:-100px;}}
@media screen and (min-width:1024px){.menu.jsx-3546659225{border-top:none;background:transparent;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;padding-left:50px;-webkit-transition:none;-webkit-transition:none;transition:none;}.itemList.jsx-3546659225{-webkit-box-pack:end;-ms-flex-pack:end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;padding:0;}.hiddenItemList.jsx-3546659225{list-style:none;margin:0;position:absolute;background:#ffffff;border:1px solid #ecebea;top:48px;right:10px;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;padding:20px;border-radius:5px;border-top-right-radius:0;}.hiddenItemList.jsx-3546659225:after{content:"";background:#ffffff;z-index:10;top:-10px;right:-1px;width:44px;height:10px;position:absolute;border-left:1px solid #ecebea;border-right:1px solid #ecebea;}.homepage:not(.fixed) .hiddenItemList.jsx-3546659225{border:1px solid transparent;background:#ffffff;background:rgba(255,255,255,0.9);top:50px;}.homepage:not(.fixed) .hiddenItemList.jsx-3546659225:after{top:-11px;border-left:1px solid transparent;border-right:1px solid transparent;background:#ffffff;background:rgba(255,255,255,0.9);}.fixed .hiddenItemList.jsx-3546659225{top:44px;}}</style><style id="__jsx-768897745">.header.jsx-768897745{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#ffffff;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:80px;position:relative;top:0;width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
.header.jsx-768897745 a.logoType{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:"column";-webkit-flex-direction:"column";-ms-flex-direction:"column";flex-direction:"column";color:#3e3e3c;}
.header.jsx-768897745 a.logoType .logo.jsx-768897745{-ms-flex-negative:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}
.header.homepage.jsx-768897745{position:absolute;background-color:transparent;height:100px;;}
h1.jsx-768897745{font-size:1.35em;font-weight:400;margin:0 0 5px 0;}
h2.jsx-768897745{font-weight:400;font-size:.8em;-webkit-letter-spacing:0;-moz-letter-spacing:0;-ms-letter-spacing:0;letter-spacing:0;margin:0;}
.logo.jsx-768897745{border-radius:65% 75%;border:1px solid #eee;display:inline-block;height:44px;margin:0 20px 0 0;overflow:hidden;width:44px;-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;}
.homepage.jsx-768897745 .logo.jsx-768897745{height:60px;width:60px;}
.logo.jsx-768897745 img.jsx-768897745{width:100%;}
.sensor.jsx-768897745{display:block;position:absolute;bottom:0;z-index:1;left:0;right:0;height:1px;top:80px;}
@media screen and (min-width:600px){.header.jsx-768897745{padding:40px;}.header.homepage.jsx-768897745{height:100px;;}}
@media screen and (max-width:1023px){.header.homepage.jsx-768897745 .logo.jsx-768897745{border:none;}.header.homepage.jsx-768897745 a.logoType,.header.homepage.jsx-768897745 h1.jsx-768897745{color:#ffffff;}.header.homepage.jsx-768897745 h2.jsx-768897745{color:#dddbda;}}
@media screen and (min-width:1024px){.header.jsx-768897745{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#ffffff;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:absolute;top:0;width:100%;-webkit-box-pack:justify;-ms-flex-pack:justify;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-transition:padding 0.5s;-webkit-transition:padding 0.5s;transition:padding 0.5s;}.header.fixed.jsx-768897745{height:50px;;background-color:#ffffff;left:0;padding:0 20px;position:fixed;top:0;width:100%;z-index:1;}.header.fixed.jsx-768897745 h1.jsx-768897745{margin:0 0 2px 0;}.header.fixed.jsx-768897745 h2.jsx-768897745{display:none;}.header.homepage.jsx-768897745:not(.fixed) a.logoType,.header.homepage.jsx-768897745:not(.fixed) h1.jsx-768897745{color:#ffffff;}.header.homepage.jsx-768897745:not(.fixed) h2.jsx-768897745{color:#dddbda;}.header.jsx-768897745 a.logoType{text-align:left;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-ms-flex-negative:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:auto;}.logo.jsx-768897745{margin:0 20px 0 0;}.fixed.jsx-768897745 .logo.jsx-768897745{height:36px;width:36px;}.header.homepage.jsx-768897745:not(.fixed) .logo.jsx-768897745{border:none;}h2.jsx-768897745{-webkit-animation-duration:0.5s;-webkit-animation-duration:0.5s;animation-duration:0.5s;-webkit-animation-name:h2Entry;-webkit-animation-name:h2Entry-jsx-768897745;animation-name:h2Entry-jsx-768897745;}@-webkit-keyframes h2Entry{from.jsx-768897745{opacity:0;}to.jsx-768897745{opacity:1;}}@-webkit-keyframes h2Entry-jsx-768897745{from{opacity:0;}to{opacity:1;}}@keyframes h2Entry-jsx-768897745{from{opacity:0;}to{opacity:1;}}}</style><style id="__jsx-2210477915">h1.jsx-2210477915{font-size:2.2em;margin:0 0 40px 0;-webkit-animation-name:headlineEntry;-webkit-animation-name:headlineEntry-jsx-2210477915;animation-name:headlineEntry-jsx-2210477915;-webkit-animation-duration:1s;-webkit-animation-duration:1s;animation-duration:1s;}
h1.jsx-2210477915 span{font-weight:400;display:block;font-size:0.5em;-webkit-letter-spacing:0;-moz-letter-spacing:0;-ms-letter-spacing:0;letter-spacing:0;margin:0 0 5px 0;}
h1.jsx-2210477915 svg{height:0.75em;fill:#4e5a6d;}
@-webkit-keyframes headlineEntry{from.jsx-2210477915{opacity:0.5;}to.jsx-2210477915{opacity:1;}}
@-webkit-keyframes headlineEntry-jsx-2210477915{from{opacity:0.5;}to{opacity:1;}}
@keyframes headlineEntry-jsx-2210477915{from{opacity:0.5;}to{opacity:1;}}
@media screen and (min-width:600px){h1.jsx-2210477915{font-size:calc(2em * 1.2);}}
@media screen and (min-width:1024px){h1.jsx-2210477915{font-size:calc(2em * 1.4);}}</style><style id="__jsx-1230805486">.meta.jsx-1230805486{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;font-size:0.8em;margin:20px 0;background:transparent;}
.meta.jsx-1230805486 svg{fill:#4e5a6d;margin:0 5px 0 0;}
.meta.jsx-1230805486 span.jsx-1230805486{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;text-transform:uppercase;margin:5px 10px 5px 0;}
@media screen and (min-width:600px){.meta.jsx-1230805486{margin:calc(20px * 1.5) 0 20px;}}</style><style id="__jsx-1548652502">.bodytext.jsx-1548652502{-webkit-animation-name:bodytextEntry;-webkit-animation-name:bodytextEntry-jsx-1548652502;animation-name:bodytextEntry-jsx-1548652502;-webkit-animation-duration:1s;-webkit-animation-duration:1s;animation-duration:1s;}
.bodytext.jsx-1548652502 h2,.bodytext.jsx-1548652502 h3{margin:1.5em 0 1em;}
.bodytext.jsx-1548652502 h2{line-height:1.2;font-size:1.7em;}
.bodytext.jsx-1548652502 h3{font-size:1.35em;line-height:1.3;}
.bodytext.jsx-1548652502 p{font-size:1.1em;line-height:1.6;margin:0 0 1.5em;}
.bodytext.jsx-1548652502 ul{list-style:circle;margin:0 0 1.5em;padding:0 0 0 1.5em;}
.bodytext.jsx-1548652502 li{margin:0.7em 0;line-height:1.5;}
.bodytext.jsx-1548652502 a{font-weight:600;color:#4e5a6d;-webkit-text-decoration:underline;text-decoration:underline;}
.bodytext.jsx-1548652502 a.gatsby-resp-image-link{border:0;display:block;margin:2.5em 0;border-radius:10px;overflow:hidden;border:1px solid #ecebea;}
.bodytext.jsx-1548652502 code.language-text{background:#ecebea;text-shadow:none;color:inherit;padding:0.1em 0.3em 0.2em;border-radius:0.1em;}
@-webkit-keyframes bodytextEntry{from.jsx-1548652502{opacity:0;}to.jsx-1548652502{opacity:1;}}
@-webkit-keyframes bodytextEntry-jsx-1548652502{from{opacity:0;}to{opacity:1;}}
@keyframes bodytextEntry-jsx-1548652502{from{opacity:0;}to{opacity:1;}}</style><style id="__jsx-646394116">.author.jsx-646394116{margin:40px 0;padding:40px 0;border-top:1px solid #ecebea;border-bottom:1px solid #ecebea;}
.avatar.jsx-646394116{float:left;border-radius:65% 75%;border:1px solid #ecebea;display:inline-block;height:50px;margin:5px 20px 0 0;overflow:hidden;width:50px;}
.avatar.jsx-646394116 img.jsx-646394116{width:100%;}
.note.jsx-646394116{font-size:0.9em;line-height:1.6;}
@media screen and (min-width:600px){.author.jsx-646394116{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.avatar.jsx-646394116{-webkit-box-flex:0;-ms-flex:0 0 auto;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;}}</style><style id="__jsx-126278577">.links.jsx-126278577{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:0 20px 40px;border-bottom:1px solid #ecebea;margin:0 0 40px 0;}
.links.jsx-126278577 a{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}
.links.jsx-126278577 a:nth-child(2){margin:20px 0 0;}
.links.jsx-126278577 svg{fill:orange;width:20px;height:20px;-ms-flex-negative:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-flex:0;-ms-flex-positive:0;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;margin:0 20px 0 0;}
h4.jsx-126278577{font-weight:600;margin:0;font-size:1.1em;}
time.jsx-126278577{color:#969492;display:block;font-weight:400;font-size:0.8em;margin-top:0.5em;}
@media screen and (min-width:1024px){.links.jsx-126278577{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;-webkit-flex-direction:row-reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}.links.jsx-126278577 a{-ms-flex-preferred-size:50%;-webkit-flex-basis:50%;-ms-flex-preferred-size:50%;flex-basis:50%;}.links.jsx-126278577 a:nth-child(2){margin:0;}.links.jsx-126278577 svg{-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;margin:0 10px 0 0;}@media (hover:hover){.links.jsx-126278577 a:hover svg{-webkit-transform:scale(1.5);-webkit-transform:scale(1.5);-ms-transform:scale(1.5);transform:scale(1.5);}}}</style><style id="__jsx-3595558049">.comments.jsx-3595558049{margin:0 -8px 20px;}</style><style id="__jsx-4002454992">.article.jsx-4002454992{padding:20px;margin:0 auto;}
@media screen and (min-width:600px){.article.jsx-4002454992{padding:calc(20px) calc(20px * 2);max-width:650px;}}
@media screen and (min-width:1024px){.article.jsx-4002454992{padding:calc(20px * 2 + 90px) 0 calc(20px * 2);max-width:1000px;}}</style><style id="__jsx-2344609357">.footer.jsx-2344609357{background:#ffffff;padding:20px;padding-top:0;padding-bottom:120px;}
.footer.jsx-2344609357 ul{list-style:none;text-align:center;padding:0;}
.footer.jsx-2344609357 ul li{color:#969492;font-size:.8em;padding:2px 10px;position:relative;display:inline-block;}
.footer.jsx-2344609357 ul li:after{content:"•";position:absolute;right:calc(5px * -1);}
.footer.jsx-2344609357 ul li:last-child:after{content:"";}
@media screen and (min-width:1024px){.footer.jsx-2344609357{padding:0 1em 1.5em;}}</style><style id="__jsx-1304903616">main.jsx-1304903616{min-height:80vh;}</style><style id="__jsx-3347019808">html{-webkit-box-sizing:border-box;box-sizing:border-box;}
*,*:after,*:before{-webkit-box-sizing:inherit;box-sizing:inherit;margin:0;padding:0;}
body{font-family:Arial, sans-serif;;}
h1,h2,h3{font-weight:400;line-height:1.1;-webkit-letter-spacing:-0.03em;-moz-letter-spacing:-0.03em;-ms-letter-spacing:-0.03em;letter-spacing:-0.03em;margin:0;}
h1{-webkit-letter-spacing:-0.04em;-moz-letter-spacing:-0.04em;-ms-letter-spacing:-0.04em;letter-spacing:-0.04em;}
p{margin:0;}
strong{font-weight:400;}
a{-webkit-text-decoration:none;text-decoration:none;color:#666;}
main{width:auto;display:block;}</style><style id="gatsby-inlined-css">@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:300;src:local("Open Sans Light "),local("Open Sans-Light"),url(/static/open-sans-latin-300.60c86674.woff2) format("woff2"),url(/static/open-sans-latin-300.521d17bc.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:300;src:local("Open Sans Light italic"),local("Open Sans-Lightitalic"),url(/static/open-sans-latin-300italic.06bbd318.woff2) format("woff2"),url(/static/open-sans-latin-300italic.8a648ff3.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:400;src:local("Open Sans Regular "),local("Open Sans-Regular"),url(/static/open-sans-latin-400.cffb686d.woff2) format("woff2"),url(/static/open-sans-latin-400.bf2d0783.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:400;src:local("Open Sans Regular italic"),local("Open Sans-Regularitalic"),url(/static/open-sans-latin-400italic.987032ea.woff2) format("woff2"),url(/static/open-sans-latin-400italic.db70d0b9.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:600;src:local("Open Sans SemiBold "),local("Open Sans-SemiBold"),url(/static/open-sans-latin-600.223a277b.woff2) format("woff2"),url(/static/open-sans-latin-600.1cd5320f.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:600;src:local("Open Sans SemiBold italic"),local("Open Sans-SemiBolditalic"),url(/static/open-sans-latin-600italic.4950a720.woff2) format("woff2"),url(/static/open-sans-latin-600italic.318ea1ad.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:700;src:local("Open Sans Bold "),local("Open Sans-Bold"),url(/static/open-sans-latin-700.d08c09f2.woff2) format("woff2"),url(/static/open-sans-latin-700.623e3205.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:700;src:local("Open Sans Bold italic"),local("Open Sans-Bolditalic"),url(/static/open-sans-latin-700italic.c02f5da6.woff2) format("woff2"),url(/static/open-sans-latin-700italic.72e19cbb.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:800;src:local("Open Sans ExtraBold "),local("Open Sans-ExtraBold"),url(/static/open-sans-latin-800.aaeffaf2.woff2) format("woff2"),url(/static/open-sans-latin-800.c6aa0c4a.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:800;src:local("Open Sans ExtraBold italic"),local("Open Sans-ExtraBolditalic"),url(/static/open-sans-latin-800italic.6b3973ff.woff2) format("woff2"),url(/static/open-sans-latin-800italic.79b58175.woff) format("woff")}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#D0E0D8"/><meta name="apple-mobile-web-app-title" content="Lazywill"/><link rel="apple-touch-icon" href="/icons/apple-icon-57x57.png" sizes="57x57"/><link rel="apple-touch-icon" href="/icons/apple-icon-60x60.png" sizes="60x60"/><link rel="apple-touch-icon" href="/icons/apple-icon-72x72.png" sizes="72x72"/><link rel="apple-touch-icon" href="/icons/apple-icon-76x76.png" sizes="76x76"/><link rel="apple-touch-icon" href="/icons/apple-icon-114x114.png" sizes="114x114"/><link rel="apple-touch-icon" href="/icons/apple-icon-120x120.png" sizes="120x120"/><link rel="apple-touch-icon" href="/icons/apple-icon-144x144.png" sizes="144x144"/><link rel="apple-touch-icon" href="/icons/apple-icon-152x152.png" sizes="152x152"/><link rel="apple-touch-icon" href="/icons/apple-icon-180x180.png" sizes="180x180"/><link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png"/></head><body><noscript>You need to enable JavaScript to run this app!</noscript><div id="___gatsby"><header class="jsx-768897745 header  "><a class="logoType" href="/"><div class="jsx-768897745 logo"><img src="/static/avatar.fe8a3f2f.jpg" alt="dad, technical writer, security advocate - Luke Oliff" class="jsx-768897745"/></div><div class="jsx-768897745 type"><h1 class="jsx-768897745">Luke Oliff</h1><h2 class="jsx-768897745">dad, technical writer, security advocate</h2></div></a><nav rel="js-menu" class="jsx-3546659225 menu "><ul class="jsx-3546659225 itemList"><li class="jsx-2231607196 item"><a class="" data-slug="/" href="/"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" style="vertical-align:middle"><g><path d="m32.9 22.1v10.8q0 0.5-0.4 1t-1 0.4h-8.6v-8.6h-5.7v8.6h-8.6q-0.5 0-1-0.4t-0.4-1v-10.8q0 0 0 0t0-0.1l12.9-10.6 12.8 10.6q0 0.1 0 0.1z m5-1.5l-1.4 1.7q-0.2 0.2-0.4 0.2h-0.1q-0.3 0-0.5-0.2l-15.4-12.8-15.5 12.8q-0.2 0.2-0.5 0.2-0.3 0-0.5-0.2l-1.4-1.7q-0.1-0.2-0.1-0.5t0.2-0.5l16.1-13.4q0.7-0.6 1.7-0.6t1.7 0.6l5.4 4.6v-4.4q0-0.3 0.2-0.5t0.5-0.2h4.3q0.3 0 0.5 0.2t0.2 0.5v9.1l4.9 4.1q0.2 0.2 0.3 0.5t-0.2 0.5z"></path></g></svg> <!-- -->Home</a></li><li class="jsx-2231607196 item"><a class="" data-slug="/category/" href="/category/"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" style="vertical-align:middle"><g><path d="m13 10q0-1.2-0.8-2t-2.1-0.9-2 0.9-0.8 2 0.8 2 2 0.9 2.1-0.9 0.8-2z m23.8 12.9q0 1.1-0.8 2l-11 10.9q-0.8 0.9-2 0.9-1.2 0-2-0.9l-16-15.9q-0.8-0.9-1.4-2.3t-0.6-2.6v-9.3q0-1.1 0.8-2t2.1-0.8h9.2q1.2 0 2.7 0.5t2.2 1.5l16 15.9q0.8 0.9 0.8 2.1z"></path></g></svg> <!-- -->Categories</a></li><li class="jsx-2231607196 item"><a class="" data-slug="/search/" href="/search/"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" style="vertical-align:middle"><g><path d="m27.2 18.6q0-4.2-2.9-7.1t-7.1-2.9-7 2.9-3 7.1 2.9 7 7.1 3 7.1-3 2.9-7z m11.4 18.5q0 1.2-0.8 2.1t-2 0.8q-1.2 0-2-0.8l-7.7-7.7q-4 2.8-8.9 2.8-3.2 0-6.1-1.3t-5-3.3-3.4-5-1.2-6.1 1.2-6.1 3.4-5.1 5-3.3 6.1-1.2 6.1 1.2 5 3.3 3.4 5.1 1.2 6.1q0 4.9-2.7 8.9l7.6 7.6q0.8 0.9 0.8 2z"></path></g></svg> <!-- -->Search</a></li><li class="jsx-2231607196 item"><a class="" data-slug="/about/" href="/about/"> <!-- -->About me</a></li></ul></nav></header><div class="jsx-768897745 sensor"></div><main class="jsx-1304903616 jsx-3347019808"><article class="jsx-4002454992 article"><header><h1 class="jsx-2210477915">Build Your First App with Polymer and Web Components</h1><p class="jsx-1230805486 meta"><span class="jsx-1230805486"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="18" width="18" viewBox="0 0 40 40" style="vertical-align:middle"><g><path d="m4.4 37.1h6.4v-6.4h-6.4v6.4z m7.8 0h7.2v-6.4h-7.2v6.4z m-7.8-7.8h6.4v-7.2h-6.4v7.2z m7.8 0h7.2v-7.2h-7.2v7.2z m-7.8-8.6h6.4v-6.4h-6.4v6.4z m16.4 16.4h7.1v-6.4h-7.1v6.4z m-8.6-16.4h7.2v-6.4h-7.2v6.4z m17.2 16.4h6.4v-6.4h-6.4v6.4z m-8.6-7.8h7.1v-7.2h-7.1v7.2z m-7.9-19.3v-6.4q0-0.3-0.2-0.5t-0.5-0.2h-1.4q-0.3 0-0.5 0.2t-0.2 0.5v6.4q0 0.3 0.2 0.5t0.5 0.2h1.4q0.3 0 0.5-0.2t0.2-0.5z m16.5 19.3h6.4v-7.2h-6.4v7.2z m-8.6-8.6h7.1v-6.4h-7.1v6.4z m8.6 0h6.4v-6.4h-6.4v6.4z m0.7-10.7v-6.4q0-0.3-0.2-0.5t-0.5-0.2h-1.5q-0.3 0-0.5 0.2t-0.2 0.5v6.4q0 0.3 0.2 0.5t0.5 0.2h1.5q0.2 0 0.5-0.2t0.2-0.5z m8.5-1.4v28.5q0 1.2-0.8 2.1t-2 0.8h-31.4q-1.2 0-2.1-0.9t-0.8-2v-28.5q0-1.2 0.8-2t2.1-0.9h2.8v-2.1q0-1.5 1.1-2.6t2.5-1h1.4q1.5 0 2.5 1.1t1.1 2.5v2.1h8.6v-2.1q0-1.5 1-2.6t2.5-1h1.5q1.4 0 2.5 1.1t1 2.5v2.1h2.9q1.1 0 2 0.9t0.8 2z"></path></g></svg> <!-- -->2018-01-15</span><span class="jsx-1230805486"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="18" width="18" viewBox="0 0 40 40" style="vertical-align:middle"><g><path d="m35.9 31.4q0 2.6-1.6 4.2t-4.3 1.5h-19.5q-2.7 0-4.4-1.5t-1.6-4.2q0-1.2 0.1-2.3t0.3-2.5 0.6-2.4 0.9-2.2 1.4-1.8 1.9-1.2 2.5-0.4q0.2 0 1 0.5t1.6 1 2.4 1.1 3 0.5 3-0.5 2.4-1.1 1.7-1 0.9-0.5q1.4 0 2.5 0.4t1.9 1.2 1.4 1.8 0.9 2.2 0.6 2.4 0.4 2.5 0 2.3z m-7.1-20q0 3.6-2.5 6.1t-6.1 2.5-6-2.5-2.6-6.1 2.6-6 6-2.5 6.1 2.5 2.5 6z"></path></g></svg> <!-- -->luke oliff</span><span class="jsx-1230805486"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="18" width="18" viewBox="0 0 40 40" style="vertical-align:middle"><g><path d="m13 10q0-1.2-0.8-2t-2.1-0.9-2 0.9-0.8 2 0.8 2 2 0.9 2.1-0.9 0.8-2z m23.8 12.9q0 1.1-0.8 2l-11 10.9q-0.8 0.9-2 0.9-1.2 0-2-0.9l-16-15.9q-0.8-0.9-1.4-2.3t-0.6-2.6v-9.3q0-1.1 0.8-2t2.1-0.8h9.2q1.2 0 2.7 0.5t2.2 1.5l16 15.9q0.8 0.9 0.8 2.1z"></path></g></svg><a href="/category/portfolio">portfolio</a></span></p></header><div class="jsx-1548652502 bodytext"><p><strong>TL;DR:</strong> <a href="https://www.polymer-project.org">Google Polymer</a> is a library that provides syntactic sugar and polyfills for building elements and applications with <a href="http://webcomponents.org/">web components</a>. We’ll build a web app using Polymer and its CLI, call an external API, and add authentication with <a href="http://jwt.io">JSON Web Tokens</a>. The full code is available from <a href="https://github.com/auth0-blog/polymer2-with-jwt-api">this GitHub repo</a>.</p>
<p><strong>This post is original content developed by me for the <a href="https://auth0.com/blog">Auth0’s blog</a> and has been re-posted here as part of an online portfolio with permission. Relevant attribution and canonical links exist. <a href="https://auth0.com/blog/build-your-first-app-with-polymer-and-web-components/">Click here to see the original</a>.</strong></p>
<h2>What Are Web Components?</h2>
<p><em>Components</em> are generally understood to be modular pieces of code that provide UI and/or scripting in a reusable package. Many JS frameworks use the term “components” (e.g., <a href="http://learnangular2.com/components/">Angular</a>, <a href="https://facebook.github.io/react/docs/reusable-components.html">React</a>, <a href="http://emberjs.com/api/classes/Ember.Component.html">Ember</a>). However, to understand Polymer, we’ll do a quick crash-course on a specific kind of component: <em>web</em> components. </p>
<p><strong>Web components</strong> are <a href="http://webcomponents.org">reusable</a> <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components">widgets</a> that can be assembled like building blocks in web documents and apps. They are a set of browser features that are being added to the <a href="https://www.w3.org/standards/techs/components">W3C HTML and DOM specification</a>. A web component is composed of four standards: </p>
<ul>
<li><a href="https://www.w3.org/TR/custom-elements/">Custom Elements</a></li>
<li><a href="https://html.spec.whatwg.org/multipage/scripting.html#the-template-element">HTML Templates</a></li>
<li><a href="https://www.w3.org/TR/shadow-dom/">Shadow DOM</a></li>
<li><a href="https://www.w3.org/TR/html-imports/">HTML Imports</a></li>
</ul>
<p>In a nutshell, web components allow us to architect and <a href="http://www.html5rocks.com/en/tutorials/webcomponents/imports/">import</a> <a href="https://developers.google.com/web/fundamentals/primers/customelements/">custom elements</a> that automatically associate JS behavior with <a href="http://www.html5rocks.com/en/tutorials/webcomponents/template/">templates</a> and can utilize <a href="https://developers.google.com/web/fundamentals/primers/shadowdom">shadow DOM</a> to provide CSS scoping and DOM encapsulation. </p>
<p>Web components can be used natively <em>without</em> any additional libraries or toolsets. However, not all features are supported by all browsers. We need to leverage a library like <strong>Polymer</strong> or <a href="http://webcomponents.org/polyfills/">polyfills, such as webcomponents.js</a>, to bridge the gap between the current state of browser support and the future.</p>
<h2>Enter Google Polymer</h2>
<p><strong><a href="https://www.polymer-project.org">Polymer</a></strong> is a library created by Google that enables us to build cross-browser compatible apps and elements with web components. It provides syntactic sugar to native web components as well as <a href="https://www.polymer-project.org/2.0/docs/browsers">polyfills for browsers</a> that don’t support web components yet. Shadow DOM is difficult and costly to polyfill, so Polymer provides a separate <a href="https://github.com/webcomponents/shadydom">shady DOM polyfill</a> to <a href="https://developers.google.com/web/fundamentals/web-components/shadowdom">implement the features of shadow DOM</a> in browsers that lack support.</p>
<p>The <a href="https://www.webcomponents.org/collection/Polymer/elements">web components collection</a> provides many prepackaged <a href="https://www.webcomponents.org/introduction#how-do-i-use-a-web-component-">custom elements that can be easily implemented</a> in any Polymer project. They provide useful utility elements like <a href="https://www.webcomponents.org/element/PolymerElements/iron-ajax">Ajax</a>, <a href="https://www.webcomponents.org/element/PolymerElements/iron-media-query">media queries</a>, and <a href="https://www.webcomponents.org/element/PolymerElements/app-route">single page application routing</a> as well as the <a href="https://www.webcomponents.org/collection/PolymerElements/paper-elements">visual “Paper” elements</a> of <a href="https://material.io/guidelines/">Google’s Material Design</a>.</p>
<p>Polymer has comprehensive documentation at the <a href="https://www.polymer-project.org/2.0/docs/devguide/feature-overview">Polymer Project Devguide</a> and can be used with or without the custom elements in the Element Catalog. To speed up development, we’ll build our simple Single Page Application (SPA) with a starter kit and Polymer elements.</p>
<h2>What We’ll Build</h2>
<p>We’re going to develop a Polymer app that does the following:</p>
<ul>
<li>calls an external Node API to get Chuck Norris quotes,</li>
<li>posts to the API to register and log in users,</li>
<li>uses JSON Web Tokens to fetch protected Chuck Norris quotes for authenticated users,</li>
<li>stores tokens and user data with local storage,</li>
<li>and logs users out by clearing tokens.</li>
</ul>
<p>The full source code for the completed app can be <a href="https://github.com/auth0-blog/polymer2-with-jwt-api">cloned from this GitHub repo</a>.</p>
<h2>Setup and Installation</h2>
<p>We’ll use the new <a href="https://www.polymer-project.org/2.0/docs/tools/polymer-cli">Polymer CLI</a> to scaffold our Polymer web app with the <a href="https://www.polymer-project.org/2.0/start/toolbox/set-up#initialize-your-project-from-a-template">Polymer Starter Kit</a>. With the starter kit, we’ll gain the advantages of routing, app layout, Material Design, and many core utilities right away. </p>
<p>Let’s get started!</p>
<h3>Dependencies</h3>
<p>First, make sure that you have <a href="https://nodejs.org/en/download/">node.js</a> (with NPM) installed. </p>
<p>If you don’t already have <a href="https://bower.io/">Bower</a>, install it globally with the following command: </p>
<div class="gatsby-highlight">
      <pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> -g bower</code></pre>
      </div>
<p>Install the Polymer CLI: </p>
<div class="gatsby-highlight">
      <pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> -g polymer-cli</code></pre>
      </div>
<p>We also need to have a sample Node API running. Clone the <a href="https://github.com/auth0-blog/nodejs-jwt-authentication-sample">NodeJS JWT Authentication sample repo</a> and follow the instructions in the README to get it up and running on <a href="http://localhost:3001">http://localhost:3001</a>.</p>
<h3>Initializing a Polymer App</h3>
<p>Create a new directory and navigate to it in the terminal or command prompt. Use the following command to initialize the Polymer starter kit in your new folder:</p>
<div class="gatsby-highlight">
      <pre class="language-bash"><code class="language-bash">polymer init polymer-2-starter-kit</code></pre>
      </div>
<p>This command installs the starter kit app and necessary Bower components. Once the command completes, we can view the app in the browser by running:</p>
<div class="gatsby-highlight">
      <pre class="language-bash"><code class="language-bash">polymer serve</code></pre>
      </div>
<p>The site runs at <a href="http://localhost:8081">http://localhost:8081</a>. Adding the optional <code class="language-text">--open</code> flag will automatically launch that address in your default browser.</p>
<blockquote>
<p>Note: If you want to see the shadow DOM nodes in action in the inspector during development, <a href="https://www.google.com/chrome/">Chrome</a> is recommended. The app works in all modern browsers thanks to Polymer’s inclusion of shady DOM and polyfills, but Chrome currently has the best native support for web components. </p>
</blockquote>
<p>When viewing your app in the browser, it looks like this:</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/screenshot_starterkit-10d3a24c36927115c52baa265c5e705d-d8343.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 67.9745493107105%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAAB7klEQVQoz31Qy27TQBT1l8GaTWHDGiQkll2wayS6QKJLBC1suqi6KHbaRsROmnjsQioQJBUvwQJUdgSSUvy2J37OjM31mFoRjxwfj+8dzbnneIQPyv4n1PtypH0dPS/5anCidU5Q5zPqflR77/vqu776poeO+/oIPR2iwUg7GijqoIvknbbg4ZnleqeG6QY4YbkT0jMLW3ZglsSWU9KsaZc8PXO+T83tTUkIwihnLEuzoiCmR29sONceuJfX7CsLubTmraxuC3FGKCEFR5Swg2On99qTh077pb2A8tDdeCgKP34aURRV4pxRmgTYM0g2KwpWFPS/ZNHW5o7gen4cx5WYUuoH+NtkGoZh2bKc5cU883NGcXzvzroAn9qZMeb7/nQyGY/H9cR55BxQJEl8d/WRUGlqcRAEoHddF+NZBRiNeROFUX0yTpKt2w2hSjsvdjhs27IsGwA1r8odaD3PI1kWJemL9Vv/cIajhmlWUlhNDhAahmHZFlwHiOMk7d5v/CnmgRcB8sPqYyw1bpZiQijjIITUVn/D4gRABAi/srzM//ncGW4SBkMweH8XHOAHjgGe+bwA5zRNlq5eF3T9EOnPNE3vdhRFliXxsSSKTUna3W1KIjzN1t7+odJSn7RGSHmrK6i9B5uKcnDh4qVfFI3iorHHxk4AAAAASUVORK5CYII='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Polymer app starter kit browser view"
        title=""
        src="/static/screenshot_starterkit-10d3a24c36927115c52baa265c5e705d-7476a.png"
        srcset="/static/screenshot_starterkit-10d3a24c36927115c52baa265c5e705d-5131c.png 250w,
/static/screenshot_starterkit-10d3a24c36927115c52baa265c5e705d-37136.png 500w,
/static/screenshot_starterkit-10d3a24c36927115c52baa265c5e705d-7476a.png 1000w,
/static/screenshot_starterkit-10d3a24c36927115c52baa265c5e705d-a41db.png 1500w,
/static/screenshot_starterkit-10d3a24c36927115c52baa265c5e705d-d8343.png 1886w"
        sizes="(max-width: 1000px) 100vw, 1000px"
      />
    </span>
  </span>
  
  </a>
    </p>
<h2>Customizing the Polymer Starter Kit App</h2>
<p>You can see that the starter kit app has several views. We want to customize it. When we’ve finished updating the structure and naming, our app should look like this:</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/screenshot_routing-7a2ff4e3efe033060eae9b78af8c8bda-2b90f.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 67.61904761904762%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAACBElEQVQoz3WR3WvTUBjG89eJl7I771QQ7xW8UfHKyi4cKDKYiDaty2RZq+tXmmzIyhy0VXAgIr3S1lptkibpOcnJx/mIb9NuFFkfHk6eN5zfed+TSKeV0jdD6x0d9NvH4EG71Tus94zqd6P+VddOm/qXpv5ZMzrNw47xoW0cdQ5ararequsVZV+aBsR2vT+m5SIcc2FjPjT932P018KrPBg5P4b2tlySpn7AGU3iJBXUwezm88mNZ871p+6V3GSV1x7bVzfQ3Yc7UkyZEFyIFBQlXOs62iev0XXfn0xW2651p5tbZcl23DAMRUYLzmmEsWcmEU5TnqbsQgvBUhEpRVUKCLFMaw4zzqcID34Nse9nJYyULlucOU7o5pOXEmzinKeZICCERqPRz34fDp3Nkl4sypKN9VczmDG2DLuu6zgOBOiPMSaEIIwg+b6/2ClEwpiynrsABnKSybZtWKGch0XpunEcRZSfbD2Q5lddhmGHZVnnAAhKyKZpwgvon8CPpVx/kfsf9jwPRsVoJowXcbaeZYDhgUlYfnRnBidwTiZK6bztKtnZOh6PAc/duz+/86Iz/LAoisJMJDwX8QMCHx8HBPnEJyQIApjy2q3bUq3eqNSb1VpjT1XVXbUg5+V8vijL28VCQZblQlF5o2h7byu7Ox9rpW6jpKnK63yx/G7/0uW1f6+C5BTO7vMyAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Polymer starter kit after renaming for Chuck Norris app"
        title=""
        src="/static/screenshot_routing-7a2ff4e3efe033060eae9b78af8c8bda-7476a.png"
        srcset="/static/screenshot_routing-7a2ff4e3efe033060eae9b78af8c8bda-5131c.png 250w,
/static/screenshot_routing-7a2ff4e3efe033060eae9b78af8c8bda-37136.png 500w,
/static/screenshot_routing-7a2ff4e3efe033060eae9b78af8c8bda-7476a.png 1000w,
/static/screenshot_routing-7a2ff4e3efe033060eae9b78af8c8bda-a41db.png 1500w,
/static/screenshot_routing-7a2ff4e3efe033060eae9b78af8c8bda-2b90f.png 1890w"
        sizes="(max-width: 1000px) 100vw, 1000px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>Let’s dig into the code to understand how Polymer applications and elements are composed and how we can modify it to suit our needs.</p>
<h3>Element Naming</h3>
<p>Open the <code class="language-text">/src</code> folder and take a look at its contents. These are the elements and views that make up the application. Notice that the file names are hyphenated (ie., <code class="language-text">my-app</code>, <code class="language-text">my-view1</code>). This follows the <a href="https://www.w3.org/TR/custom-elements/#valid-custom-element-name">W3C valid custom element naming spec</a>. </p>
<blockquote>
<p>Custom element names must contain <em>at least one hyphen</em>.</p>
</blockquote>
<p>The <code class="language-text">my-app.html</code> file contains the main module that renders the other views based on the route (with <a href="https://www.polymer-project.org/2.0/toolbox/routing"><code class="language-text">app-route</code></a> and <a href="https://www.webcomponents.org/element/PolymerElements/iron-pages"><code class="language-text">iron-pages</code></a>). The name <code class="language-text">my-app</code> suits our purposes so we’ll leave it as-is. The same goes for <code class="language-text">my-icons</code> and <code class="language-text">shared-styles</code>. However, <code class="language-text">my-view1</code> is not descriptive enough. We’ll rename these files and in doing so, learn about more Polymer elements.</p>
<h3>Renaming HTML Files</h3>
<p>Our app will be composed of the following views:</p>
<ol>
<li>A homepage that lets visitors click a button to display random Chuck Norris quotes.</li>
<li>A signup and login page with a form that lets visitors register or log into the app.</li>
<li>A secret quotes page where authenticated users can click a button to get protected Chuck Norris quotes.</li>
</ol>
<p>We’ll rename the generic starter kit views to match our planned view structure. The <code class="language-text">/src</code> folder currently looks like this:</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/rename-files1-33421f242a07cf98f0394a53198d2085-4ee84.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 214px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 81.30841121495328%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAEDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeXLTMH/xAAXEAADAQAAAAAAAAAAAAAAAAAAARAC/9oACAEBAAEFAkOZHP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABkQAAIDAQAAAAAAAAAAAAAAAAEQABEhMf/aAAgBAQABPyHfYIFU2wv/2gAMAwEAAgADAAAAEHDP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHhABAAIBBAMAAAAAAAAAAAAAAREhABAxQeFR0fH/2gAIAQEAAT8QgIuDQvZkggTwfXSg3F+ezCSzte57dP/Z'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Polymer starter kit src file structure"
        title=""
        src="/static/rename-files1-33421f242a07cf98f0394a53198d2085-4ee84.jpg"
        srcset="/static/rename-files1-33421f242a07cf98f0394a53198d2085-4ee84.jpg 214w"
        sizes="(max-width: 214px) 100vw, 214px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>Let’s rename these files:</p>
<div class="gatsby-highlight">
      <pre class="language-bash"><code class="language-bash">/src
  <span class="token operator">|</span>-- my-view1.html
  <span class="token operator">|</span>-- my-view2.html
  <span class="token operator">|</span>-- my-view3.html
  <span class="token operator">|</span>-- my-view404.html</code></pre>
      </div>
<p>to the following:</p>
<div class="gatsby-highlight">
      <pre class="language-bash"><code class="language-bash">/src
  <span class="token operator">|</span>-- home-quotes.html
  <span class="token operator">|</span>-- register-login.html
  <span class="token operator">|</span>-- secret-quotes.html
  <span class="token operator">|</span>-- not-found.html</code></pre>
      </div>
<p>Our final file <code class="language-text">/src</code> folder file structure should look like this:</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/rename-files2-ca798cc01981ae6826b8681cbf0c351f-4ee84.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 214px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 81.30841121495328%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAcskVA//xAAYEAACAwAAAAAAAAAAAAAAAAAAAQIQMf/aAAgBAQABBQJDqI8P/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGRAAAQUAAAAAAAAAAAAAAAAAAQAQESEx/9oACAEBAAE/Ibi1EYA2Cos//9oADAMBAAIAAwAAABCjz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAQACAgMBAAAAAAAAAAAAAAERIQAQQaHhsf/aAAgBAQABPxADFganjswUQnmb+6QWd+mSK5Qq/df/2Q=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Polymer starter kit Chuck Norris app src file structure"
        title=""
        src="/static/rename-files2-ca798cc01981ae6826b8681cbf0c351f-4ee84.jpg"
        srcset="/static/rename-files2-ca798cc01981ae6826b8681cbf0c351f-4ee84.jpg 214w"
        sizes="(max-width: 214px) 100vw, 214px"
      />
    </span>
  </span>
  
  </a>
    </p>
<h3>Editing the Views</h3>
<p>We’ve renamed the HTML files and now we need to rename the elements they contain. For <em>each</em> of the updated views, open the file and do the following:</p>
<p>Locate the <code class="language-text">&lt;dom-module&gt;</code> tag near the top of the file. This specifies the start of an <a href="https://www.polymer-project.org/2.0/docs/devguide/dom-template">element’s DOM template</a>. This is the <a href="https://medium.freecodecamp.com/imperative-vs-declarative-programming-283e96bf8aea">declarative</a> portion of the element definition. Change its ID to match the new file name. </p>
<p>For example: </p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dom-module</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>my-view1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>becomes: </p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dom-module</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>home-quotes<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>Locate the <code class="language-text">&lt;script&gt;</code> tag near the bottom of the file. The <code class="language-text">extends Polymer.Element</code> javascript class is the <a href="https://medium.freecodecamp.com/imperative-vs-declarative-programming-283e96bf8aea">imperative</a> portion of the element definition. Change the <code class="language-text">is</code> function to return the new element name and the class name to something more appropriate.</p>
<p>For example: </p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">MyView1</span> <span class="token keyword">extends</span> <span class="token class-name">Polymer<span class="token punctuation">.</span>Element</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">is</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">'my-view1'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

window<span class="token punctuation">.</span>customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span>MyView1<span class="token punctuation">.</span>is<span class="token punctuation">,</span> MyView1<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>becomes: </p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">HomeQuotes</span> <span class="token keyword">extends</span> <span class="token class-name">Polymer<span class="token punctuation">.</span>Element</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">is</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">'home-quotes'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

window<span class="token punctuation">.</span>customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span>HomeQuotes<span class="token punctuation">.</span>is<span class="token punctuation">,</span> HomeQuotes<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<blockquote>
<p>Note: Read more about an element’s <a href="https://www.polymer-project.org/2.0/docs/devguide/shadow-dom">shadow DOM in the Polymer docs</a>.</p>
</blockquote>
<h3>Modifying <code class="language-text">my-app.html</code></h3>
<p>Our elements are renamed. Now we need to update references to them. The view elements are called in <code class="language-text">/src/my-app.html</code>, so we’ll make the necessary changes while familiarizing with the contents of the file.</p>
<p>Routing is handled by <code class="language-text">&lt;app-location&gt;</code>, <code class="language-text">&lt;app-route&gt;</code>, and <code class="language-text">&lt;iron-pages&gt;</code>. Consult the documentation to learn more about <a href="https://www.polymer-project.org/2.0/toolbox/routing">Polymer routing</a>. </p>
<p>To get our renamed views working with routing, locate the <a href="https://elements.polymer-project.org/elements/app-layout"><code class="language-text">&lt;app-drawer&gt;</code></a> element. This is the menu sidebar and currently contains links to the old routes, like so:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>view1<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[rootPath]]view1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>View One<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>You may notice that the hyphenation (<code class="language-text">my-</code>) is missing. It’s being added programmatically and we’ll need to remove it soon. First, change the anchor links inside the <code class="language-text">&lt;iron-selector&gt;</code> element to match our renamed views for <code class="language-text">home-quotes</code> and <code class="language-text">secret-quotes</code>:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html">...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iron-selector</span> <span class="token attr-name">selected</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[page]]<span class="token punctuation">"</span></span> <span class="token attr-name">attr-for-selected</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>drawer-list<span class="token punctuation">"</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navigation<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>home-quotes<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[rootPath]]home-quotes<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>secret-quotes<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[rootPath]]secret-quotes<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Secret Quotes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iron-selector</span><span class="token punctuation">></span></span>
...</code></pre>
      </div>
<p>The “Log In” link would be best located in the header. Find the <a href="https://www.polymer-project.org/2.0/toolbox/app-layout#header-layout">header layout</a> elements <code class="language-text">&lt;app-header&gt;</code> and <code class="language-text">&lt;app-toolbar&gt;</code>. Add the Log In link after the <code class="language-text">&lt;div main-title&gt;My App&lt;/div&gt;</code> element. While we’re here, let’s change the main title to “Chuck Norris” too. When we’re done, the <code class="language-text">&lt;app-toolbar&gt;</code> element should look like this:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html">...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>app-toolbar</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>paper-icon-button</span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>my-icons:menu<span class="token punctuation">"</span></span> <span class="token attr-name">drawer-toggle</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>paper-icon-button</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">main-title</span><span class="token punctuation">></span></span>My App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>register-login<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[rootPath]]register-login<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Log in<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>app-toolbar</span><span class="token punctuation">></span></span>
...</code></pre>
      </div>
<p>Now we’ll update the markup that places our view elements in the DOM. Locate the <a href="https://www.webcomponents.org/element/PolymerElements/iron-pages"><code class="language-text">&lt;iron-pages&gt;</code></a> tag. This element shows one of its children at a time and is used in conjunction with <code class="language-text">&lt;app-route&gt;</code> to display views based on the URL. Update the elements inside this tag to reflect the renaming of our view elements:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html">...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iron-pages</span>
    <span class="token attr-name">selected</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[page]]<span class="token punctuation">"</span></span>
    <span class="token attr-name">attr-for-selected</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span>
    <span class="token attr-name">fallback-selection</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>not-found<span class="token punctuation">"</span></span>
    <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>main<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>home-quotes</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>home-quotes<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>home-quotes</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>register-login</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>register-login<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>register-login</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>secret-quotes</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>secret-quotes<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>secret-quotes</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>not-found</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>not-found<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>not-found</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iron-pages</span><span class="token punctuation">></span></span>
...</code></pre>
      </div>
<p>Now we’ll make some changes in the Polymer function. This method takes an object prototype for a new element. You can read more about <a href="https://www.polymer-project.org/2.0/docs/devguide/registering-elements">registering elements</a> in the docs.</p>
<p>In the <code class="language-text">&lt;script&gt;</code> tag, locate the <code class="language-text">_routePageChanged()</code> function and change the default <code class="language-text">this.page</code> to <code class="language-text">home-quotes</code>:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token operator">...</span>
<span class="token function">_routePageChanged</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// If no page was found in the route data, page will be an empty string.</span>
  <span class="token comment">// Default to 'home-quotes' in that case.</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>page <span class="token operator">=</span> page <span class="token operator">||</span> <span class="token string">'home-quotes'</span><span class="token punctuation">;</span>

  <span class="token comment">// Close a non-persistent drawer when the page &amp; route are changed.</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>$<span class="token punctuation">.</span>drawer<span class="token punctuation">.</span>persistent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$<span class="token punctuation">.</span>drawer<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span></code></pre>
      </div>
<p>Next, find the <code class="language-text">_pageChanged()</code> function. This is where the page URL is being prefixed with <code class="language-text">my-</code>. Update the <code class="language-text">resolveUrl</code> variable:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token operator">...</span>
<span class="token function">_pageChanged</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Load page import on demand. Show 404 page if fails</span>
  <span class="token keyword">var</span> resolvedPageUrl <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">resolveUrl</span><span class="token punctuation">(</span>page <span class="token operator">+</span> <span class="token string">'.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  Polymer<span class="token punctuation">.</span><span class="token function">importHref</span><span class="token punctuation">(</span>
      resolvedPageUrl<span class="token punctuation">,</span>
      <span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>_showPage404<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span></code></pre>
      </div>
<p>Finally, update the <code class="language-text">_showPage404()</code> function’s <code class="language-text">this.page</code> declaration to <code class="language-text">not-found</code> to match our renamed element:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token operator">...</span>
<span class="token function">_showPage404</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>page <span class="token operator">=</span> <span class="token string">'not-found'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span></code></pre>
      </div>
<h3>Update <code class="language-text">polymer.json</code></h3>
<p>Open the <code class="language-text">/polymer.json</code> file. This file contains the <a href="https://www.polymer-project.org/2.0/docs/tools/polymer-json">build settings</a> for our app when using the Polymer CLI. We’ll update the <code class="language-text">fragments</code> array with our renamed views. These are HTML files that are loaded on-demand or asynchronously.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token comment">// polymer.json</span>
<span class="token operator">...</span>
<span class="token string">"fragments"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
  <span class="token string">"src/home-quotes.html"</span><span class="token punctuation">,</span>
  <span class="token string">"src/register-login.html"</span><span class="token punctuation">,</span>
  <span class="token string">"src/secret-quotes.html"</span><span class="token punctuation">,</span>
  <span class="token string">"src/not-found.html"</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token operator">...</span></code></pre>
      </div>
<p>Click between the routes to make sure everything works. We’re now ready to start developing the features of our app.</p>
<h2>Building a Polymer Element</h2>
<p>We’ll start with the home view. When we’re finished with this step, our app should look like this:  </p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/screenshot_home-quotes-867a03067634d4a65a4e780a6e925267-f5621.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 67.37288135593221%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAAB+ElEQVQoz31Sy27TQBSdb4QVG8SOJX8BYlNWLJAQCMEKoaoIGtSkajFxm+C87DilUklSJX4kJJ6xx4/xPOyYcUIqUCOOju8dyefcc8cyuDr8YOvtq7oyaqqO3naN9tzQnJ42H/Rcs2eZ+qRvTAxjbPRHfXNoDkaDyyu9b2ottaYAu98WReGH0QKimKQoosNZMvGEhXLHl8w2dP+iDfn1IlXqBhhrKo6TVZ4JIYesjDF98Gz58Dm8v+fdeby8+2QnF/f28KOnLeAO9KyQLgnZChTyet9v/ghV0/+qo5087cGzi+jjkQ6GnVaAQ0ZZsUYmOCU4wpAzWuyGjMll62gd8NMwEkICP9hEM87DMERLO4lgUXAhUkKoFFDGCEkp41KV56VSqalgZF6U0/J8M1ZwBjE50Nj7evj2BHeHpFgJSpkQnHORZX+uKOtp7Rx0G5o85Vl+s/Z8iV9V0ZsaelFBzctYmqWNb8EYozQVq6Jb/QSOlUbp2SZLnY8QjVEalzXCyIP/ACEEoRdE5LpRAep3vUy+WVsI+dqDUoHWyh2AnodjMlAOwbfz9m3z/yHNEUm1yj6oHivl2ts7yynhLWBcMsDYD7AvD0Egv9/+wWfw5eRM/l5RlMRxIp/A9y3LsiXWpeyW7TrOzHF+uc5y7i5mznQ6lfEvX7/7DXvCvelzL018AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Polymer app element home quotes"
        title=""
        src="/static/screenshot_home-quotes-867a03067634d4a65a4e780a6e925267-7476a.png"
        srcset="/static/screenshot_home-quotes-867a03067634d4a65a4e780a6e925267-5131c.png 250w,
/static/screenshot_home-quotes-867a03067634d4a65a4e780a6e925267-37136.png 500w,
/static/screenshot_home-quotes-867a03067634d4a65a4e780a6e925267-7476a.png 1000w,
/static/screenshot_home-quotes-867a03067634d4a65a4e780a6e925267-a41db.png 1500w,
/static/screenshot_home-quotes-867a03067634d4a65a4e780a6e925267-f5621.png 1888w"
        sizes="(max-width: 1000px) 100vw, 1000px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>Open the <code class="language-text">/src/home-quotes.html</code> file. This is our <code class="language-text">home-quotes</code> custom element. Right now it contains some lorem ipsum and lacks JS functionality beyond instantiation. We’ll add an Ajax call to the <a href="https://github.com/auth0-blog/nodejs-jwt-authentication-sample">Chuck Norris API</a> and bindings to display the response on the page. We’ll also add a button to get a new random quote when clicked.</p>
<h3>HTML Imports</h3>
<p>The first thing we’ll do is install some Polymer elements. We can leverage <a href="https://www.webcomponents.org/element/PolymerElements/iron-ajax"><code class="language-text">iron-ajax</code></a> to call the API and <a href="https://www.webcomponents.org/element/PolymerElements/paper-button"><code class="language-text">paper-button</code></a> for the UI.</p>
<p>Install these components using Bower:</p>
<div class="gatsby-highlight">
      <pre class="language-bash"><code class="language-bash">bower <span class="token function">install</span> PolymerElements/iron-ajax PolymerElements/paper-button --save</code></pre>
      </div>
<p>We need to import the elements into <code class="language-text">home-quotes</code> using <a href="https://www.webcomponents.org/community/articles/introduction-to-html-imports/">HTML imports</a>. Since we’re building web components, we want to import all the dependencies for a specific element in that element’s HTML file. We don’t want to rely on a parent element loading them first–that could create a missing dependency somewhere down the line. </p>
<p>Doing this would be dangerous if we were loading scripts in the traditional way: we might get the same dependency called multiple times throughout the app. We would need to centralize file requests or use a dependency manager. However, with web components, we don’t need to worry about loading the same imports multiple times because HTML imports dedupe: if an HTML import has already been loaded, it skips loading it again.</p>
<p>The Polymer library and <code class="language-text">shared-styles</code> element are already being imported in our <code class="language-text">home-quotes</code> element. We’ll add the two elements we just installed with Bower:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- home-quotes.html --></span>
...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/iron-ajax/iron-ajax.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/paper-button/paper-button.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>Now we can take advantage of these elements.</p>
<h3>Calling an API with iron-ajax</h3>
<blockquote>
<p>Make sure you have the <a href="https://github.com/auth0-blog/nodejs-jwt-authentication-sample">Chuck Norris Node API</a> cloned and running so that the API is accessible on <a href="http://localhost:3001">http://localhost:3001</a>.</p>
</blockquote>
<p>We’re going to call the API using HTML. The only JavaScript we need to write in this element will be a simple handler to re-send the Ajax request when a button is clicked. Pretty cool, huh?</p>
<p>After the closing <code class="language-text">&lt;/style&gt;</code> tag (we’ll come back to styling shortly), add the following <code class="language-text">iron-ajax</code> element:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iron-ajax</span>
  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>getQuoteAjax<span class="token punctuation">"</span></span>
  <span class="token attr-name">auto</span>
  <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://localhost:3001/api/random-quote<span class="token punctuation">"</span></span>
  <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>get<span class="token punctuation">"</span></span>
  <span class="token attr-name">handle-as</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span>
  <span class="token attr-name">last-response</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{quote}}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iron-ajax</span><span class="token punctuation">></span></span></code></pre>
      </div>
<blockquote>
<p>Note: It’s always worthwhile to take a look at the <a href="https://github.com/PolymerElements/iron-ajax">source code</a> for any custom elements you’re using, including <a href="https://github.com/PolymerElements">Polymer elements</a>.</p>
</blockquote>
<p>We gave <code class="language-text">iron-ajax</code> a descriptive <code class="language-text">id</code> so we can access its instance in JS using <code class="language-text">this.$.getQuoteAjax</code>. Setting the <code class="language-text">auto</code> attribute re-sends the request anytime the URL or parameters change. For our purposes, this fetches a quote when the element first loads. Since we won’t change the URL or parameters again after initialization, we’ll generate subsequent requests with a button click handler. We’re using the <code class="language-text">GET</code> method. The API returns the response as a string, so we’ll set <code class="language-text">handle-as=&quot;text&quot;</code> (other options include <code class="language-text">xml</code>, <code class="language-text">json</code>, <code class="language-text">blob</code>, etc.). </p>
<p>Finally, <code class="language-text">last-response</code> can bind the response from the most recent request. We’re <a href="https://www.polymer-project.org/2.0/docs/devguide/data-binding#two-way-bindings">automatic/two-way data binding</a> it to a property called <code class="language-text">quote</code> with <a href="https://www.polymer-project.org/2.0/docs/devguide/data-binding#binding-annotation">double curly braces</a> as delimiters. <code class="language-text">iron-ajax</code> is bundled with a dependency element called <a href="https://github.com/PolymerElements/iron-ajax/blob/master/iron-request.html"><code class="language-text">iron-request</code></a> which performs the Ajax request. The response needs to be two-way bound to communicate up and down between the request and our instance of the <code class="language-text">iron-ajax</code> element. You can read more about <a href="https://www.polymer-project.org/2.0/docs/devguide/data-system#data-flow">data flow in Polymer here</a>.</p>
<h3>Binding and Fetching Quotes</h3>
<p>We now have the response from the API. We need to display the quote in the view. Locate the card div <code class="language-text">&lt;div class=&quot;card&quot;&gt;</code> and delete the lipsum contents.</p>
<p>Add a heading and a <code class="language-text">&lt;blockquote&gt;</code>. Inside the blockquote element, one-way bind the <code class="language-text">quote</code> API response using <a href="https://www.polymer-project.org/2.0/docs/devguide/data-binding#binding-annotation">double square bracket delimiters</a> (<code class="language-text">[[quote]]</code>). We’re using one-way binding here because data is flowing downward from host to target but not upwards. In order to get new quotes, let’s add a button below the blockquote.</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Quotes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>blockquote</span><span class="token punctuation">></span></span>[[quote]]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>blockquote</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>paper-button</span> <span class="token attr-name">raised</span> <span class="token attr-name">on-tap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>getQuote<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Get a New Quote<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>paper-button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>Check out the <a href="https://elements.polymer-project.org/elements/paper-button">paper-button documentation</a> to read about button styling and API. We’ve added an <a href="https://www.polymer-project.org/2.0/docs/devguide/events#annotated-listeners"><code class="language-text">on-tap</code></a> <a href="https://www.polymer-project.org/2.0/docs/devguide/events">event listener</a> so when we click or tap the button, we can request another quote from the API by executing a function.</p>
<p>In our JS, let’s add the <code class="language-text">getQuote()</code> function and generate another Ajax request. We’ll use the <code class="language-text">iron-ajax</code> method <a href="https://elements.polymer-project.org/elements/iron-ajax#method-generateRequest"><code class="language-text">generateRequest()</code></a> to do this. Remember, we can reference this instance by its ID:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">HomeQuotes</span> <span class="token keyword">extends</span> <span class="token class-name">Polymer<span class="token punctuation">.</span>Element</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">is</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">'home-quotes'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token function">getQuote</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$<span class="token punctuation">.</span>getQuoteAjax<span class="token punctuation">.</span><span class="token function">generateRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

window<span class="token punctuation">.</span>customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span>HomeQuotes<span class="token punctuation">.</span>is<span class="token punctuation">,</span> HomeQuotes<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>We should now be able to click the “Get a New Quote” button in our app to get and display random Chuck Norris quotes.</p>
<h3>Styling</h3>
<p>Web component elements use <a href="https://developers.google.com/web/fundamentals/primers/shadowdom/#styling">shadow DOM styling rules</a>. Styles defined in the shadow root are local. This means we can target IDs and classes within our custom element without contaminating the rest of the page or application. </p>
<p>The quote and button look a bit shabby so let’s spruce them up with CSS. Head back up to the top of the <code class="language-text">/src/home-quotes.html</code> file and find the <code class="language-text">&lt;style&gt;</code> tag. Notice that this tag <code class="language-text">include</code>s the <code class="language-text">shared-styles</code> element. Since we’ll be using the <code class="language-text">blockquote</code> and <code class="language-text">paper-button</code> styles elsewhere in the app for the <code class="language-text">secret-quotes</code> element too, we’ll want to put our styles somewhere they can be accessed globally.</p>
<p>Open <code class="language-text">/src/shared-styles.html</code>. We can add our common styles here as well as clean up some CSS we won’t be using anymore.</p>
<p>Delete the <code class="language-text">.circle</code> ruleset and add the following:</p>
<div class="gatsby-highlight">
      <pre class="language-css"><code class="language-css"><span class="token selector">...
:root</span> <span class="token punctuation">{</span>
  <span class="token property">--primary-color</span><span class="token punctuation">:</span> #4285f4<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">a,
paper-button</span> <span class="token punctuation">{</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">a</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--primary-color<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">paper-button</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">paper-button.primary</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--primary-color<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">blockquote</span> <span class="token punctuation">{</span>
  <span class="token property">border-left</span><span class="token punctuation">:</span> 4px solid #eee<span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
  <span class="token property">padding-left</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>As you can see, we can use <a href="https://www.polymer-project.org/2.0/docs/devguide/custom-css-properties">custom CSS properties</a> with Polymer:</p>
<div class="gatsby-highlight">
      <pre class="language-css"><code class="language-css"><span class="token selector">:root</span> <span class="token punctuation">{</span>
	<span class="token property">--primary-color</span><span class="token punctuation">:</span> #4285f4<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">...
a</span> <span class="token punctuation">{</span>
	<span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--primary-color<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">...
paper-button.primary</span> <span class="token punctuation">{</span>
	<span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--primary-color<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>Many of <a href="https://www.webcomponents.org/collection/PolymerElements/paper-elements">Polymer’s Material Design Paper elements</a> can be customized by setting variables. We can also create our own. We’ll set the primary color on the <code class="language-text">:root</code> selector so that it <a href="https://www.polymer-project.org/2.0/docs/devguide/custom-css-properties">applies to all custom elements</a>. We’ll then use the variable to style our <code class="language-text">paper-button</code> element with a <code class="language-text">.primary</code> class.</p>
<blockquote>
<p>Note: By setting the <code class="language-text">--primary-color</code> variable now, the focus color for inputs will also be preset when we use <a href="https://www.webcomponents.org/element/PolymerElements/paper-input?active=paper-input-container#styling"><code class="language-text">paper-input-container</code></a> later.</p>
</blockquote>
<p>Now the <code class="language-text">.primary</code> class that we added to our button will be styled in the <code class="language-text">home-quotes</code> element.</p>
<h2>Authenticating Users in a Polymer App</h2>
<p>Users should be able to register so they can log in and access secret quotes. We’ll create a form for visitors to enter credentials and <code class="language-text">POST</code> data to the API to sign up or log in and receive a <a href="http://jwt.io">JWT access token</a>. We also need to handle sign up and login errors as well as save to local storage to persist logins. </p>
<p>When this step is complete, our login view will look like this:</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/screenshot_login-7cc3f58659d76775c61dd7d5304a925b-90984.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 67.79303062302007%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAACF0lEQVQoz31SS2/TQBD2H0NcuYE4Ig48jj0XcaECVcGuStIqkKQBpKgQhYoeaNrGcQtKeVRNVSRQOFT0QAqViET8dta7fuyuGa95tBD49Gk0M55vZ2a9Uq+5vK+1PnY2Pndffem+Ptp5ebC5dqCt7mvrvXbrvdp+p7bftrRddbOrvdjROt2NrU5T3VrTmo0VyUW+YTmDoW66noPQVxMN9NHQ8HRzZACtH9QziuTgm3V4NKzXliUH+SyOoyhKeDy0w6tF40rRvlS0z942z/2D52XzQsG+NlWXaJJwzniSgoRM3bPVPWd913q2bf6Hq12rVHkqecgnBAttwhmLAy8mLqMhREnC/iLNyGP/UW1JIkFgmRbnaW/KmON6n/qHlu1EEQ3DOAgjYOZEMYUqUZggHxeVsgQeYyzrTCn1PC8MQ4wxQogQ4gtACBbyyU9ggmdz96VMk6XgFBDDqST4XXccXCAVY7w4ffOEmNJUzGLMKaEC8ThAHobZLl2XslWPd/7QH/X6GPaEOfk4ZJ218q0/xY7jza2400uOBQ8AjRiDPzAG0PnJjYlUDB2yecAxdN21dNfWDcMwTVMXMAwRCqaursOnqcnJbGf260rSqyYBECBMauElAD0fewgckQvDi5cnpIXqw+qDWqVUmSsUCvm8nMvJOVmRFUWWZxTA7Hy+0CjPL96bf15feNOoPL6bV2buVEvlU6fPfAcL3eD7pIA3NgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Polymer register login app view"
        title=""
        src="/static/screenshot_login-7cc3f58659d76775c61dd7d5304a925b-7476a.png"
        srcset="/static/screenshot_login-7cc3f58659d76775c61dd7d5304a925b-5131c.png 250w,
/static/screenshot_login-7cc3f58659d76775c61dd7d5304a925b-37136.png 500w,
/static/screenshot_login-7cc3f58659d76775c61dd7d5304a925b-7476a.png 1000w,
/static/screenshot_login-7cc3f58659d76775c61dd7d5304a925b-a41db.png 1500w,
/static/screenshot_login-7cc3f58659d76775c61dd7d5304a925b-90984.png 1894w"
        sizes="(max-width: 1000px) 100vw, 1000px"
      />
    </span>
  </span>
  
  </a>
    </p>
<h3>Creating the User Credentials Form</h3>
<p>Open <code class="language-text">/src/register-login.html</code>. This is our <code class="language-text">register-login</code> element. We’ll use some more Polymer elements from the catalog, so let’s start by installing <a href="https://www.webcomponents.org/element/PolymerElements/iron-input"><code class="language-text">iron-input</code></a> and <a href="https://www.webcomponents.org/element/PolymerElements/paper-input"><code class="language-text">paper-input</code></a>:</p>
<div class="gatsby-highlight">
      <pre class="language-bash"><code class="language-bash">bower <span class="token function">install</span> PolymerElements/iron-input PolymerElements/paper-input PolymerElements/iron-localstorage --save</code></pre>
      </div>
<p>Now we’ll import these new dependencies along with <code class="language-text">iron-ajax</code>, <code class="language-text">paper-button</code>, and <code class="language-text">iron-localstorage</code>. We don’t need to install <code class="language-text">iron-localstorage</code> with Bower because it came packaged with the starter kit.</p>
<blockquote>
<p>Note: You can check your <code class="language-text">/bower_components</code> directory to see what other Polymer components are automatically installed.</p>
</blockquote>
<p>The HTML imports for <code class="language-text">register-login</code> should now look like this:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- register-login.html --></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/polymer/polymer-element.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/iron-ajax/iron-ajax.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/iron-localstorage/iron-localstorage.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/iron-input/iron-input.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/paper-input/paper-input.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/paper-button/paper-button.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>shared-styles.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>First we’ll set up the basic markup for the form with a username and password. Logging in and signing up require the same fields so we’ll use the same form for both. </p>
<blockquote>
<p>Note: A potential future enhancement might be to split register and login into separate views and add a Confirm Password field when signing up.</p>
</blockquote>
<p>Delete the lorem ipsum inside the <code class="language-text">&lt;div class=&quot;card&quot;&gt;</code> element. We want to create two potential UIs for this area: one for if the user is authenticated and one for if they aren’t. We’ll start with the unauthenticated view, which is the register / login form.</p>
<p>Create a container for the unauthenticated UI and add input elements using <a href="https://www.webcomponents.org/element/PolymerElements/iron-input"><code class="language-text">iron-input</code></a> and <a href="https://www.webcomponents.org/element/PolymerElements/paper-input?active=paper-input-container"><code class="language-text">paper-input-container</code></a>, which comes bundled with <code class="language-text">paper-input</code>. The reason we aren’t using <code class="language-text">paper-input</code> by itself is because <code class="language-text">iron-input</code> allows us to two-way bind input values. It also provides validation options. We won’t do validation in this tutorial, but using this element provides more room for extensibility. Using <code class="language-text">paper-input-container</code> applies Material Design styles to labels and inputs. This way we can utilize both the iron element utilities <em>and</em> the paper element styles.</p>
<p>Our initial markup should look like this:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>unauthenticated<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Log In<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>Log in<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span> or <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>sign up<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span> to access secret Chuck Norris quotes!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>paper-input-container</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>input<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Username<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iron-input</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>input<span class="token punctuation">"</span></span> <span class="token attr-name">bind-value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{formData.username}}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{formData.username}}<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Username<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iron-input</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>paper-input-container</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>paper-input-container</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span>Password<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iron-input</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>input<span class="token punctuation">"</span></span> <span class="token attr-name">bind-value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{formData.password}}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{formData.password}}<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Password<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iron-input</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>paper-input-container</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrapper-btns<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>paper-button</span> <span class="token attr-name">raised</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">on-tap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>postLogin<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Log In<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>paper-button</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>paper-button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link<span class="token punctuation">"</span></span> <span class="token attr-name">on-tap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>postRegister<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Sign Up<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>paper-button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>We’ll also add some local CSS in the <code class="language-text">&lt;style&gt;</code> tags:</p>
<div class="gatsby-highlight">
      <pre class="language-css"><code class="language-css"><span class="token selector">...
.wrapper-btns</span> <span class="token punctuation">{</span>
	<span class="token property">margin-top</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">paper-button.link</span> <span class="token punctuation">{</span>
	<span class="token property">color</span><span class="token punctuation">:</span> #757575<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>Now we have a form, but it doesn’t do anything. We’ll wire it up with JS to take advantage of <code class="language-text">iron-input</code> and bind the values to data that we can submit to the API. Create a property that holds an object for our form data:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token operator">...</span>
<span class="token keyword">class</span> <span class="token class-name">RegisterLogin</span> <span class="token keyword">extends</span> <span class="token class-name">Polymer<span class="token punctuation">.</span>Element</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">is</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">'register-login'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

  <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      formData<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        type<span class="token punctuation">:</span> Object<span class="token punctuation">,</span>
        value<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span></code></pre>
      </div>
<p><a href="https://www.polymer-project.org/2.0/docs/devguide/properties">Polymer properties</a> are members of the element’s public API and can be declared on the prototype. We’ll set the default value of <code class="language-text">formData</code> to an empty object so we can add properties to it simply by typing in the input fields.</p>
<blockquote>
<p>Note: Why weren’t we required to declare <code class="language-text">quote</code> as a property in the <code class="language-text">home-quotes</code> element? The fetched <code class="language-text">quote</code> is not a member of the element’s public API <em>and</em> did not need a default value or options. The <code class="language-text">quote</code> property could be added as type <code class="language-text">String</code> to <code class="language-text">home-quotes</code> to no ill effect, but it was left off to demonstrate that Polymer will bind without it and there is no need to expose it to the element’s API: we won’t set the quote as an attribute when calling the <code class="language-text">&lt;home-quotes&gt;</code> element.</p>
</blockquote>
<p>We already bound the <code class="language-text">formData</code> object to the inputs in the HTML using <code class="language-text">bind-value</code> attributes. This allows the data to flow between the markup (declarative API) and the JS (imperative API).</p>
<h3>Submitting the Form with Ajax</h3>
<p>We’ll use <code class="language-text">iron-ajax</code> again to post our form data to the API to register or log in users:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iron-ajax</span>
	<span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>registerLoginAjax<span class="token punctuation">"</span></span>
	<span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span>
	<span class="token attr-name">content-type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>application/json<span class="token punctuation">"</span></span>
	<span class="token attr-name">handle-as</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span>
	<span class="token attr-name">on-response</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>handleUserResponse<span class="token punctuation">"</span></span>
	<span class="token attr-name">on-error</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>handleUserError<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iron-ajax</span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>We’ll use the <code class="language-text">POST</code> method and set the content type to JSON. We’re going to handle the response as text because although a successful login returns JSON, a failure returns a string. This way we can easily parse the JSON on success or handle plain text in case of an error.</p>
<p>There is no <code class="language-text">url</code> attribute on our <code class="language-text">iron-ajax</code> element this time. We’ll set the URL based on whether the user clicks “Log In” or “Sign Up”. We’ve already added <code class="language-text">on-tap</code> attributes to the two buttons to attach handlers.</p>
<p>Now we’ll add the corresponding <code class="language-text">postLogin()</code> and <code class="language-text">postRegister()</code> event handlers to the JS. We also need to set the request body containing the form data when the user clicks a button to submit. Then we’ll generate the Ajax request. Add the following to the <code class="language-text">Polymer()</code> function in the JS:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token operator">...</span>
<span class="token function">_setReqBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$<span class="token punctuation">.</span>registerLoginAjax<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>formData<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">postLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$<span class="token punctuation">.</span>registerLoginAjax<span class="token punctuation">.</span>url <span class="token operator">=</span> <span class="token string">'http://localhost:3001/sessions/create'</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_setReqBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$<span class="token punctuation">.</span>registerLoginAjax<span class="token punctuation">.</span><span class="token function">generateRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">postRegister</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$<span class="token punctuation">.</span>registerLoginAjax<span class="token punctuation">.</span>url <span class="token operator">=</span> <span class="token string">'http://localhost:3001/users'</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_setReqBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$<span class="token punctuation">.</span>registerLoginAjax<span class="token punctuation">.</span><span class="token function">generateRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span></code></pre>
      </div>
<h3>Handling API Responses</h3>
<p>We’re successfully <code class="language-text">POST</code>ing to the API. Next we need to handle the API response. At this time, we have listener methods defined in the markup but not in the JS:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iron-ajax</span>
	<span class="token attr-name">...</span>
	<span class="token attr-name">on-response</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>handleUserResponse<span class="token punctuation">"</span></span>
	<span class="token attr-name">on-error</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>handleUserError<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iron-ajax</span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>Let’s add <code class="language-text">handleUserResponse()</code> and <code class="language-text">handleUserError()</code>:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    storedUser<span class="token punctuation">:</span> Object<span class="token punctuation">,</span>
    error<span class="token punctuation">:</span> String
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span>
<span class="token function">handleUserResponse</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> response <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>id_token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>error <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>storedUser <span class="token operator">=</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>formData<span class="token punctuation">.</span>username<span class="token punctuation">,</span>
      id_token<span class="token punctuation">:</span> response<span class="token punctuation">.</span>id_token<span class="token punctuation">,</span>
      access_token<span class="token punctuation">:</span> response<span class="token punctuation">.</span>access_token<span class="token punctuation">,</span>
      loggedin<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// reset form data</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>formData <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">handleUserError</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>error <span class="token operator">=</span> event<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>request<span class="token punctuation">.</span>xhr<span class="token punctuation">.</span>response<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span></code></pre>
      </div>
<p>We’re adding two more properties: <code class="language-text">storedUser</code> (an object to store name, id token, access token, and state of an authenticated user), and <code class="language-text">error</code> (a string to display when the API returns a failure). Later we’ll add <code class="language-text">storedUser</code> to local storage and access it in other areas of the app. We can use shorthand <code class="language-text">property: [Type]</code> because we don’t need any additional options set.</p>
<p>Next we’ll handle a successful API response: <code class="language-text">handleUserResponse()</code>. Recall that we’re handling all responses as text, so we need to parse the JSON. If a token is present we’ll clear any errors from previous failures, define the <code class="language-text">storedUser</code> object and its properties, and reset <code class="language-text">formData</code> to an empty object.</p>
<p>We’ve also defined a handler for errors: <code class="language-text">handleUserError()</code>. When the sample API fails, it returns an error message as a string. We’ll set the <code class="language-text">error</code> property to this XHR response. You can <code class="language-text">console.log()</code> the <code class="language-text">event</code> parameter in these two handlers to become more familiar with its structure.</p>
<p>Now we have the error message but we’re not displaying it to the user. We’d like to show something like this:</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/screenshot_login-error-06c86cc049d0369089dc87fd1e5b63ee-90984.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 68.21541710665258%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAACJElEQVQoz3WS72/SQBjH7580/gGLia99rQwcsIUY0DF9YSLxjXvjNjboUAGNjBG2bLrEVEGn/Nig/Gh7d70WpO1d67XdFha3bz65e9I83/vekyv4mkmfbK6LQrZZFNqVcnuv3KkUG7ubDWFLzGdPcjtHO3nOwbZQyxWq+Q9VocQpb+VL2V3QrJSwbsgqlMYyJDo2JgNoDGQyljVFnYfIKglWjjRCzV9d0Nz/xM3Uti3Tch1bUsx7aeX+C7yQRncS8DbuPsELTwegdVy3XddxmON6msxYrg5zdbRdg2/31NvY2EcbnyXQPKjp04lpmr7XZYxSkzBTdxj/wlyXXocH2Y7DV0awDMTDQ2MygarqOF42pRRrpH12jojOvEaXBriu5Re8ifmdw6EMvh998QNZkEwZ0wnRen2105Vbbdg9UzmdLofX0+GIIWyr0CX6aDACx9VaEHhlNjQNij+Q2ODwIkD5Jho/T61Wx/zdmp3+od1zWeqDwvuPvvkimY9MCMGaFkwxLyeQt3vNcDwAxUo9CLxIplTXdduaOcxmvuiV2KX8a8LxEJRvMo9VQ8V/Ayf7T8GMylACOaHIK/5Uwen8X1Egjqyj8BuIkKZp2PZFfbiP8c22+NX7vR54V6rMzxxoanlcG9iHv691+VQIYfDgYTz1bG117WUqmVqOx+Ox2GLoUTSyGH0cjoQ9hUKRRCz2OrnyKpkoZFbLmeTzlejSUjwWXf4H0jfjbgchmDgAAAAASUVORK5CYII='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Polymer register login with error"
        title=""
        src="/static/screenshot_login-error-06c86cc049d0369089dc87fd1e5b63ee-7476a.png"
        srcset="/static/screenshot_login-error-06c86cc049d0369089dc87fd1e5b63ee-5131c.png 250w,
/static/screenshot_login-error-06c86cc049d0369089dc87fd1e5b63ee-37136.png 500w,
/static/screenshot_login-error-06c86cc049d0369089dc87fd1e5b63ee-7476a.png 1000w,
/static/screenshot_login-error-06c86cc049d0369089dc87fd1e5b63ee-a41db.png 1500w,
/static/screenshot_login-error-06c86cc049d0369089dc87fd1e5b63ee-90984.png 1894w"
        sizes="(max-width: 1000px) 100vw, 1000px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>Let’s add some markup after the instructions paragraph to support this:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html">...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dom-if<span class="token punctuation">"</span></span> <span class="token attr-name">if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[error]]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>alert-error<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>Error:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span> [[error]]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
...
```html

Templates with `is="dom-if"` are [conditionally stamped](https://www.polymer-project.org/2.0/docs/devguide/templates#dom-if) when their `if` property is truthy. 

We can now see an error message if we try to submit empty or invalid credentials to the API. Let's add some styling to make error messages more prominent. Add the following ruleset to the `register-login` element's local `<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span>` tag:

```css
...
.alert-error {
	background: #ffcdd2;
	border: 1px solid #f44336;
	border-radius: 3px;
	color: #333;
	font-size: 14px;
	padding: 10px;
}</code></pre>
      </div>
<h3>Saving Data to Local Storage</h3>
<p>To persist user sessions, add the <a href="https://www.webcomponents.org/element/PolymerElements/iron-localstorage"><code class="language-text">iron-localstorage</code></a> element near the top of our element markup:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iron-localstorage</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user-storage<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{storedUser}}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iron-localstorage</span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>Now users don’t have to log in repeatedly after refresh or return visit.</p>
<h3>Showing UI Based on Authentication State</h3>
<p>We’re now authenticating, but there’s no indication to the user that they’re logged in. We’ll hide the form and show a message upon successful authentication.</p>
<p>Add a <code class="language-text">hidden</code> attribute to the <code class="language-text">#authenticated</code> div:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>unauthenticated<span class="token punctuation">"</span></span> <span class="token attr-name">hidden$</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[storedUser.loggedin]]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>We want <code class="language-text">hidden</code> to have a binding and be conditionally applied. If we don’t do this, its presence implies truthiness regardless of its value. To <a href="https://www.polymer-project.org/2.0/docs/devguide/data-binding#attribute-binding">bind to an attribute</a>, we need to add a dollar sign <code class="language-text">$</code> after the attribute name.</p>
<p>We’ll show the user a logged-in UI if they’re authenticated. Add another div:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html">...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>authenticated<span class="token punctuation">"</span></span> <span class="token attr-name">hidden$</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[!storedUser.loggedin]]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>Hello, [[storedUser.name]]!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>You are currently logged in. You can access <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[rootPath]]secret-quotes<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Secret Quotes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>Now when the user logs in, they won’t see the form anymore and will see this greeting instead. However, we can take this one step further and redirect them to the Secret Quotes view on successful authentication.</p>
<h3>Redirecting After Authentication</h3>
<p>To redirect the user to another view with Polymer app routing in place, we need to include the <a href="https://www.webcomponents.org/element/PolymerElements/app-route?active=app-location"><code class="language-text">app-location</code></a> element. This synchronizes browser location and application state and gives us access to a <code class="language-text">route</code> object. </p>
<p>Add <code class="language-text">app-location</code> to the imports at the top of the file. It’s already installed because it came bundled with the starter kit (we’ve seen it in <code class="language-text">/src/my-app.html</code>):</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/app-route/app-location.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>Now add the element:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>app-location</span> <span class="token attr-name">route</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{route}}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>app-location</span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>In our <code class="language-text">handleUserResponse()</code> function, we can now set the <code class="language-text">route.path</code> to the path we want to redirect to:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token function">handleUserResponse</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token operator">...</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>id_token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token operator">...</span>
		<span class="token comment">// redirect to Secret Quotes</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'route.path'</span><span class="token punctuation">,</span> <span class="token string">'/secret-quotes'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre>
      </div>
<blockquote>
<p>Note: Using <code class="language-text">this.set(&#39;property.subproperty&#39;, ...)</code> instead of <code class="language-text">this.property.subproperty =</code> ensures that <a href="https://www.polymer-project.org/2.0/docs/devguide/data-system#make-observable-changes">we’re making observable changes</a> to object subproperties.</p>
</blockquote>
<h3>Making User Data Available Globally</h3>
<p>What if we want to access and manipulate user authentication state from other areas of the app? For instance, the header still says “Log In” when the user is authenticated. We should change this to a greeting and a “Log Out” button. We can also see “Secret Quotes” in the menu while logged out. This should be hidden from unauthenticated users. But most importantly, we need to use the authenticated user’s token to access the protected API to get secret quotes.</p>
<p>Recall that <code class="language-text">iron-localstorage</code> has a binding to <code class="language-text">storedUser</code> which is a property of the <code class="language-text">register-login</code> element. Even though local storage is accessible globally, we don’t have a <em>simple</em> way to be sure that changes are observed on all parents and children throughout the app.</p>
<p>Polymer does not have an elegant, out-of-the-box solution to this problem at this time. This is something any full-featured JS framework would make short work of, but it’s important to remember that Polymer is <em>not</em> a framework: it’s a library that helps us leverage web components.</p>
<p>To solve this, we’re going to install and use the component <code class="language-text">brum-global-variable</code>. This makes data available across the application and notifies on changes.</p>
<div class="gatsby-highlight">
      <pre class="language-bash"><code class="language-bash">bower <span class="token function">install</span> SieBrum/brum-global-variable --save</code></pre>
      </div>
<blockquote>
<p>Note: To learn more about <code class="language-text">brum-global-variable</code> <a href="https://www.webcomponents.org/element/SieBrum/brum-global-variable">check out its docs</a>.</p>
</blockquote>
<p>In <code class="language-text">/src/register-login.html</code>, import the new <code class="language-text">brum-global-variable</code> dependency:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/brum-global-variable/brum-global-variable.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>Add the <code class="language-text">brum-global-variable</code> element to the markup. We need to supply an identifying <code class="language-text">key</code> and the <code class="language-text">value</code> we want is, of course, the <code class="language-text">storedUser</code> object.</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>brum-global-variable</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userData<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{storedUser}}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>brum-global-variable</span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>We can now add the <code class="language-text">brum-global-variable</code> element to any other components that need access to this global data. All instances will be notified when the data is changed.</p>
<h2>Creating a Log Out Element</h2>
<p>Now that we can register and authenticate users, we need a way for them to log out. This should be a component that can live in a couple of locations, so we’re going to build a new element.</p>
<p>Create a new file: <code class="language-text">/src/log-out.html</code>. Import Polymer, <code class="language-text">paper-button</code>, and <code class="language-text">brum-global-variable</code>:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- log-out.html --></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/polymer/polymer-element.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/paper-button/paper-button.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/brum-global-variable/brum-global-variable.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>Now we’ll scaffold our new element by adding <code class="language-text">&lt;dom-module id=&quot;log-out&quot;&gt;</code>. We’ll set up the <code class="language-text">&lt;template&gt;</code>, <code class="language-text">&lt;style&gt;</code>, and <code class="language-text">&lt;script&gt;</code> tags as well. The <code class="language-text">:host</code> styles should have no margin or padding.</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dom-module</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>log-out<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css">
      <span class="token selector">:host</span> <span class="token punctuation">{</span>
        <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- MARKUP GOES HERE --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">
      <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">class</span> <span class="token class-name">LogOut</span> <span class="token keyword">extends</span> <span class="token class-name">Polymer<span class="token punctuation">.</span>Element</span> <span class="token punctuation">{</span>
              <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">is</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">return</span> <span class="token string">'log-out'</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>

          window<span class="token punctuation">.</span>customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span>LogOut<span class="token punctuation">.</span>is<span class="token punctuation">,</span> LogOut<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dom-module</span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>Here are our plans for the <code class="language-text">log-out</code> element:</p>
<ul>
<li>Display a log out link in the app’s global header when the user is authenticated.</li>
<li>Display a log out button in the authenticated <code class="language-text">register-login</code> view.</li>
<li>When the link or button is clicked, clear the user’s token and information from global app data.</li>
<li>Call the element, pass in the <code class="language-text">storedUser</code>, and be able to add an optional <code class="language-text">link</code> attribute to toggle the <code class="language-text">paper-button</code> styling between button and text.</li>
</ul>
<p>Keeping these requirements in mind, let’s build out our element, starting with the markup:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>brum-global-variable</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userData<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{storedUser}}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>brum-global-variable</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dom-if<span class="token punctuation">"</span></span> <span class="token attr-name">if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{!link}}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>paper-button</span> <span class="token attr-name">raised</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>indigo<span class="token punctuation">"</span></span> <span class="token attr-name">on-tap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>logout<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Log Out [[[storedUser.name]]]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>paper-button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dom-if<span class="token punctuation">"</span></span> <span class="token attr-name">if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{link}}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>paper-button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link<span class="token punctuation">"</span></span> <span class="token attr-name">on-tap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>logout<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Log Out [[[storedUser.name]]]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>paper-button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>This should look familiar. We’re accessing <code class="language-text">brum-global-variable</code> so when we log out, changes to the data are set throughout the app. We’ll check for a <code class="language-text">link</code> property and if it’s false, show a different button. Both buttons will call the same <code class="language-text">on-tap</code> handler, <code class="language-text">logout()</code>.</p>
<blockquote>
<p>Note: You may have noticed that we didn’t include <code class="language-text">iron-localstorage</code>. Changes to <code class="language-text">storedUser</code> in <code class="language-text">log-out</code> use <code class="language-text">brum-global-variable</code> to notify other instances which update <code class="language-text">iron-localstorage</code>. In turn, local storage is retrieved by the parent upon app initialization and the property is then sent to the child <code class="language-text">log-out</code> via its <code class="language-text">stored-user</code> attribute.</p>
</blockquote>
<p>Here’s the JS to facilitate our required <code class="language-text">log-out</code> behavior:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">LogOut</span> <span class="token keyword">extends</span> <span class="token class-name">Polymer<span class="token punctuation">.</span>Element</span> <span class="token punctuation">{</span>
<span class="token operator">...</span>
    <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            storedUser<span class="token punctuation">:</span> Object<span class="token punctuation">,</span>
            link<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                type<span class="token punctuation">:</span> Boolean<span class="token punctuation">,</span>
                value<span class="token punctuation">:</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>storedUser <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>The <code class="language-text">storedUser</code> object will be passed into the element from the parent but we’ll need to manipulate it to perform logout. The <code class="language-text">link</code> property will be true if it’s present as an attribute on the <code class="language-text">&lt;log-out&gt;</code> element. The default value of a boolean property must be set to false in order for it to <a href="https://www.polymer-project.org/2.0/docs/devguide/properties#configuring-boolean-properties">function as an attribute</a> that can be configured by markup.</p>
<p>To log out, all we need to do is set the <code class="language-text">storedUser</code> object to <code class="language-text">null</code>.</p>
<p>Now let’s finish up by adding some styles: </p>
<div class="gatsby-highlight">
      <pre class="language-css"><code class="language-css"><span class="token selector">:host</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">paper-button</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">paper-button.link</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 13px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">paper-button.indigo</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--paper-indigo-500<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token selector">;
  --paper-button-raised-keyboard-focus:</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--paper-pink-a200<span class="token punctuation">)</span> <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> white <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">paper-button.indigo:hover</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--paper-indigo-400<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>The link style will display in the blue header area so the text should be white. If we need to add additional links in other contexts, we can always adjust the styling to add variables or other options.</p>
<p>Now that we have our <code class="language-text">log-out</code> element, let’s add it to the <code class="language-text">/src/register-login.html</code> view:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- register-login.html --></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>authenticated<span class="token punctuation">"</span></span> <span class="token attr-name">hidden$</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[!storedUser.loggedin]]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
	...
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>log-out</span> <span class="token attr-name">stored-user</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{storedUser}}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>log-out</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>Our authenticated <code class="language-text">register-login</code> now looks like this in the browser:</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/screenshot_logout-3835d7936136c065ae1f9a84e7566bf2-e6542.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 67.76595744680851%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAACDUlEQVQoz3WSzYvTQBjG8+8JHkQQRFCEvXrQi7CIoCJbxVU8yMLinkSouG6TprZJozRtta2wfh5W68fB1W3tZjIzmUyaNulMxmnSFdxtn3l4GV7y432YN8rH4uZOtfzVtnY7jd1O81e73q3qXVP/bJY+GZX3FeNdxdgum28qVsd82TZrnapt60atZOj5ooIJAcjrOwD51KPDHgz6DnFcH0DfhdN6YPrv3h/An7/3848KCgmChLM4ioWY7Dnjs/fA0gN87j4+sQIX+WQOnr7rLV97orAkEYmUkApGXGuhYhurLbTZhE8bi+xuvcZr63IypVEUZTTnjMe+4KFIRkKMhWALzcP842eKT6mHcQYzxjzi/wGugzCmAZcdnnAuq5iklWcpExGOxmurDxXJJDwNncLU90Pg0H6P9PYoIeEwHA4Dnw4HiO3jSTyZfRlF49XcxhTmjM1gzimCzp3rvYtLgxuXJxBMu8kMyJRlDMdR/nYuhWWyg8kYIffHN/BlB3zvEizXJ6McFfF8ur1x9TAMEYKehwiRdiF05wkAIJ+mur5yGEZSEM68SBDKydrNS1M4jmOWSu4MzJObVTc1AI4z3catK8v/TZaPEcyTTwN55B9BaHqnNI6jM+cvKI3Gq3qzZdeblmWZpqkWtlS1oKlqUdMKBVVVtZKuN4znL8qltzXzg23aFV32zap17Pipv3bp4K6Q9HXXAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Polymer login view when authenticated show log out button"
        title=""
        src="/static/screenshot_logout-3835d7936136c065ae1f9a84e7566bf2-7476a.png"
        srcset="/static/screenshot_logout-3835d7936136c065ae1f9a84e7566bf2-5131c.png 250w,
/static/screenshot_logout-3835d7936136c065ae1f9a84e7566bf2-37136.png 500w,
/static/screenshot_logout-3835d7936136c065ae1f9a84e7566bf2-7476a.png 1000w,
/static/screenshot_logout-3835d7936136c065ae1f9a84e7566bf2-a41db.png 1500w,
/static/screenshot_logout-3835d7936136c065ae1f9a84e7566bf2-e6542.png 1880w"
        sizes="(max-width: 1000px) 100vw, 1000px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>Recall that after login, users are redirected to the <code class="language-text">secret-quotes</code> view. We’ll replace the “Log In” link in the header shortly. However, the <code class="language-text">/register-login</code> route will be accessible regardless of authentication state: the user can access it via the URL or the browser Back button. If they visit this route while logged in, they’ll see this message and be able to log out.</p>
<h2>Fetching Secret Quotes</h2>
<p>It’s time to access the protected API to get secret quotes. When we’re finished with this step, our app will look like this:</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/screenshot_secret-quotes-b4a311f3e368b8cd738d638c5605fed1-d418e.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 68.15286624203821%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAACMElEQVQoz22QzWsTQRjG9w8Tz94F6dGDFq+5Fo2nKljRUrINRjcJsUtas+bTQkhojalQ7aFFlOjFJCqF7sfM7NfMfu86u5uEBH34MfPuzjwz7zPMucB/e9f40euMB73JoD8ZdEcdYdQWvrbr563mWbP9udk+bXQ+Ng+Hre6Hdm/Y6feFdr9x2OKbjKobMkCXVyLUdQ0TSTVFRQNAQ0hHSJtDax0m0EKUwJ/Lqwp3wCDd8D3XcZwocEXorOeUe3l0l1VvbcGYJ/+wBdeewts7aCNbZsIoCsMgpFMUYTsQhrB2olKqA5U/BntHyhIghT8C1QHc3qkymmFalhUloqf4tuZZqkuQb6tR5EaRP8dbJvTNEsczJiEIoTC5OggCmnA6/f1zPB1PfmFiu17guL5DpzCaXZBgYvJ8M8eknnTB933DMBzHJoRYFtHmUlXV8zzXjZ+GjnQn3fDoIcuknoXZNGkKIkmiosgYY3qWLMuSJNHuCCbYxGlGan6VfZCaZzcHgY9Ug+ubmzX9Wct4LBgve9j15x0viXY23M4k5mBhppnVs+/w+AIMv4D3F+DTCBom7QCbS6Kfmq532exK5sSMiAEdPMMyIfifIEL7G+uxmT6Dl4gWNKEoSqK4GOWFgBKjpDUA9zOZlczpQfaqLNuO39CyDEx0bGEr/ke33Vy7w+wfCNU3b3meLxWLHMexuVyeZfO7uym05AqF1utircyd1PdO6xWhVNjNv6iUK9eu3/gLkwvZmdHsPqAAAAAASUVORK5CYII='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Polymer secret quotes view when logged in"
        title=""
        src="/static/screenshot_secret-quotes-b4a311f3e368b8cd738d638c5605fed1-7476a.png"
        srcset="/static/screenshot_secret-quotes-b4a311f3e368b8cd738d638c5605fed1-5131c.png 250w,
/static/screenshot_secret-quotes-b4a311f3e368b8cd738d638c5605fed1-37136.png 500w,
/static/screenshot_secret-quotes-b4a311f3e368b8cd738d638c5605fed1-7476a.png 1000w,
/static/screenshot_secret-quotes-b4a311f3e368b8cd738d638c5605fed1-a41db.png 1500w,
/static/screenshot_secret-quotes-b4a311f3e368b8cd738d638c5605fed1-d418e.png 1884w"
        sizes="(max-width: 1000px) 100vw, 1000px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>Open <code class="language-text">/src/secret-quotes.html</code> and add the following dependencies: <code class="language-text">iron-ajax</code>, <code class="language-text">iron-localstorage</code>, <code class="language-text">paper-button</code>, and <code class="language-text">brum-global-variable</code>. Clean up the contents of the <code class="language-text">&lt;div class=&quot;card&quot;&gt;</code> element:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- secret-quotes.html --></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/polymer/polymer-element.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/iron-ajax/iron-ajax.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/iron-localstorage/iron-localstorage.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/paper-button/paper-button.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>shared-styles.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Secret Quotes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
...</code></pre>
      </div>
<p>Add the <code class="language-text">iron-localstorage</code> and <code class="language-text">brum-global-variable</code> elements:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iron-localstorage</span> 
  <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user-storage<span class="token punctuation">"</span></span> 
  <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{storedUser}}<span class="token punctuation">"</span></span> 
  <span class="token attr-name">on-iron-localstorage-load</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>initStoredUser<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iron-localstorage</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>brum-global-variable</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userData<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{storedUser}}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>brum-global-variable</span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>We’ll use the <code class="language-text">on-iron-localstorage-load</code> event to get a quote automatically if an authenticated user enters the app on this page.</p>
<p>Next add <code class="language-text">iron-ajax</code>:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iron-ajax</span>
  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>getSecretQuoteAjax<span class="token punctuation">"</span></span>
  <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>get<span class="token punctuation">"</span></span>
  <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://localhost:3001/api/protected/random-quote<span class="token punctuation">"</span></span>
  <span class="token attr-name">handle-as</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span>
  <span class="token attr-name">last-response</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{secretQuote}}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iron-ajax</span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>This looks similar to the <code class="language-text">iron-ajax</code> element we used to get public quotes in the <code class="language-text">home-quotes</code> element except that we’re not using the <code class="language-text">auto</code> attribute. We’ll add authorization to this request in the JS when we generate the request.</p>
<p>We’ll display the quotes in the UI. We want to show authenticated users a greeting and private quotes. If an unauthenticated user visits this route, we should show a message instructing them to log in:</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/screenshot_secret-quotes_unauth-c49088f3e611750a5ef46df174c859cf-f5621.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 68.0084745762712%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAAB7klEQVQoz5WQy2sTQRzH9x8Tr95F6dGDBDzao9LmpAcrKDEPDGwSYpemuiabjcWSWEkbodRDLz4ogkbRQtPsPPYxM/uaHSe7ColB0A8fmB8/5vsbfqMc69r7F52Tfu/LsD8eDsbD3Y89/YOpvzPbx13jrWEeGeZhp/fG2Dno7u6b/YPeYKCbrzo7hmYo2HGnAJ2eTaDjYELPsTexbABshOZ1pDBVFpNz8P30rKluK8hx4ygMgkDwcAKD3CPrRgXlyvjKBrwqvbfkBly5D68V0K31hpIIkSQ8kYcQxOf6COojLG3tY+012Nyz5gSZ2h5oDeHDwpZiux6jVE4Q6ZTYt0OKYoYiCpLYF4ILEQsR/WESe3VVUzxKAQBJ+jTnHCI8/vrt8/jHyacxtp0w4swPYs6TdHymxCP0wZ2ikmXSjojj2HGcMAxcGhHGKSGu68qO/BE5nc9BCLmbLytZJgvLLkqxMcIY2b9By2Cs5vNZmM+HwQyY+gu4DMKjwmoa5gth+A/Ip1+W1hd2/o8wxq3buVlY/keUIovp37GsqTWdKZG7rK3eXNg5G+QvwnzfY4wy5hLqEEbYrCevXV65rrS29a2nzzVNq9dqqqqWisVKqVQplzNlqVar3Se1Zw111N48bDf1erVcedxsNC9cvPQT50/bZ6ma+vEAAAAASUVORK5CYII='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Polymer unauthenticated view of secret quotes"
        title=""
        src="/static/screenshot_secret-quotes_unauth-c49088f3e611750a5ef46df174c859cf-7476a.png"
        srcset="/static/screenshot_secret-quotes_unauth-c49088f3e611750a5ef46df174c859cf-5131c.png 250w,
/static/screenshot_secret-quotes_unauth-c49088f3e611750a5ef46df174c859cf-37136.png 500w,
/static/screenshot_secret-quotes_unauth-c49088f3e611750a5ef46df174c859cf-7476a.png 1000w,
/static/screenshot_secret-quotes_unauth-c49088f3e611750a5ef46df174c859cf-a41db.png 1500w,
/static/screenshot_secret-quotes_unauth-c49088f3e611750a5ef46df174c859cf-f5621.png 1888w"
        sizes="(max-width: 1000px) 100vw, 1000px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>Add the following markup:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Secret Quotes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">hidden$</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[!storedUser.loggedin]]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Hello, [[storedUser.name]]! You have access to secret quotes:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>blockquote</span><span class="token punctuation">></span></span>[[secretQuote]]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>blockquote</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>paper-button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">raised</span> <span class="token attr-name">on-tap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>getSecretQuote<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Get a New Secret Quote<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>paper-button</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">hidden$</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[storedUser.loggedin]]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>You must <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[rootPath]]register-login<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>log in<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span> to access secret quotes!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>We can use <code class="language-text">hidden</code> because although the authenticated content is stamped in the template on initiation, unauthenticated users cannot access the protected quotes API.</p>
<blockquote>
<p>Note: Using <code class="language-text">hidden</code> is much faster than creating and destroying elements with <code class="language-text">dom-if</code>, which can cause noticeable runtime latency. You can read more about this in the <a href="https://www.polymer-project.org/2.0/docs/devguide/templates#dom-if">dom-if Polymer docs</a>.</p>
</blockquote>
<p>In JS, add the <code class="language-text">storedUser</code> property, <code class="language-text">initStoredUser()</code>, and <code class="language-text">getSecretQuote()</code>:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">SecretQuotes</span> <span class="token keyword">extends</span> <span class="token class-name">Polymer<span class="token punctuation">.</span>Element</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">is</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">'secret-quotes'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            storedUser<span class="token punctuation">:</span> Object
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">initStoredUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// if entering site on the secret quotes page, verify if logged in and if so, preload a secret quote</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>storedUser<span class="token punctuation">.</span>loggedin<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSecretQuote</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">getSecretQuote</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// add token authorization and generate Ajax request</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$<span class="token punctuation">.</span>getSecretQuoteAjax<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'Authorization'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Bearer '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>storedUser<span class="token punctuation">.</span>access_token<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$<span class="token punctuation">.</span>getSecretQuoteAjax<span class="token punctuation">.</span><span class="token function">generateRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

window<span class="token punctuation">.</span>customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span>SecretQuotes<span class="token punctuation">.</span>is<span class="token punctuation">,</span> SecretQuotes<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<p><code class="language-text">getSecretQuote()</code> is executed when the user clicks the button to fetch a new quote from the API. We’ll use the <code class="language-text">generateRequest()</code> method and provide an <code class="language-text">Authorization</code> header with the user’s access token.</p>
<p>Authenticated users can now get secret quotes!</p>
<h2>Header and Menu States</h2>
<p>The last thing we’ll do is improve the user experience. When the user is logged in, let’s hide the Secret Quotes link and add a greeting and log out link in the header. </p>
<p>Open <code class="language-text">/src/my-app.html</code>. Import <code class="language-text">iron-localstorage</code>, <code class="language-text">brum-global-variable</code>, and <code class="language-text">log-out</code> dependencies and add the <code class="language-text">&lt;iron-localstorage&gt;</code> and <code class="language-text">&lt;brum-global-variable&gt;</code> elements to the DOM:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- my-app.html --></span>
...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/brum-global-variable/brum-global-variable.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/iron-localstorage/iron-localstorage.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>log-out.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iron-localstorage</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user-storage<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{storedUser}}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iron-localstorage</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>brum-global-variable</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userData<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{storedUser}}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>brum-global-variable</span><span class="token punctuation">></span></span></code></pre>
      </div>
<h3>Hiding “Secret Quotes” in the Menu</h3>
<p>Locate the <code class="language-text">&lt;iron-selector&gt;</code> element inside the <code class="language-text">&lt;app-drawer&gt;</code>. Each <code class="language-text">&lt;a&gt;</code> tag  needs to be wrapped in its own container element in order to be hidden and shown conditionally. You can read more about <a href="https://www.webcomponents.org/element/PolymerElements/iron-selector">iron-selector here</a>.</p>
<p>Change the code to:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html">...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>home-quotes<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[rootPath]]home-quotes<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>secret-quotes<span class="token punctuation">"</span></span> <span class="token attr-name">hidden$</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[!storedUser.loggedin]]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[rootPath]]secret-quotes<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Secret Quotes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
...</code></pre>
      </div>
<p>As you can see, we’ve moved the <code class="language-text">name</code> attributes to the containing divs and added a <code class="language-text">hidden</code> attribute to the Secret Quotes link.</p>
<p>The result is that we no longer see a link to the <code class="language-text">secret-quotes</code> page while we are logged out.</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/screenshot_quotes-link-auth-14d06da7add3c61d7115f4624383c5ee-d418e.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 67.94055201698514%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAAB6klEQVQoz52R72vTQBjH88fpW1+ICL7wlQP9A9wbQUoFQX2lc5uvJiiODgdZW+/SlrSk3bJfRRzKpL4QnE7HsiaXyyVtc727nJfEOjsUhl8+PPdcuM9xd9H29NI+rHwy4cF6K6Vj9uBaD+j7oLz3pvq2CrpVsFOBm9WaDRobwLSNZlMHzbJRWS5rmIR9hH84fUTCYDB0/IHjkr6LPUTQBC/HTyvyw2PH+3508mrptYbDkDNGYyrF+ATRG3PuzQU8M4+vPET/4uoj7/oTcqfwUuOJlImKVBnGQrfR2hbWN/0Vyz1L+5RVG8/Nr2iUcZmr6SaCjQI68BklUgopeVb/bBQskUwmoxdLJS11hMhlIYSPg8NvX53jo3TGWUzHdMzGjKuqUFMu0mOOYvr4/uK0zHkYRod9/vFL9P4z7h0EgyjNcDjMxiiMIp4tppQ+KGaymMhqF+STZwYuLKN7JbwAg8l1ft0rX6wyovR5sTglp8f2feyj3+RRHxE67dVE/WD76exZGZ0jnucpub5Y+E85CKPVu7dSmXOeZFGNd464rksIKc7enn6wJAn/FkIUJCAEqyHrKY0vX5vRdrvdre3u9s5up9NuW5YBAYTAgLBWU0Wl1qjX7WajbTberbc+2K0Nsw4AtKzOhYuXfgJSFuGS5A58qgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Polymer unauthenticated user menu"
        title=""
        src="/static/screenshot_quotes-link-auth-14d06da7add3c61d7115f4624383c5ee-7476a.png"
        srcset="/static/screenshot_quotes-link-auth-14d06da7add3c61d7115f4624383c5ee-5131c.png 250w,
/static/screenshot_quotes-link-auth-14d06da7add3c61d7115f4624383c5ee-37136.png 500w,
/static/screenshot_quotes-link-auth-14d06da7add3c61d7115f4624383c5ee-7476a.png 1000w,
/static/screenshot_quotes-link-auth-14d06da7add3c61d7115f4624383c5ee-a41db.png 1500w,
/static/screenshot_quotes-link-auth-14d06da7add3c61d7115f4624383c5ee-d418e.png 1884w"
        sizes="(max-width: 1000px) 100vw, 1000px"
      />
    </span>
  </span>
  
  </a>
    </p>
<h3>Authentication State in the Header</h3>
<p>We want our logged in user to see something like this in the app header:</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/screenshot_quotes-header-auth-375c745c51afcc39ace8829936bf32c4-b4be3.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 67.76947705442903%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAACMklEQVQoz22SzU8TQRjG91/0JnrBhH/Am148eKiJabCJRk3EaKLxIKlYtqUWS4u0stCW3bXEA6UgBkVidztf+70zO767aBHrk1+ezGbeZ953Jqsc651Ba32obXw3uidG99TsHPe0E7P3zex9NfRD3TjQjeGOMdgx94z+nrm73//c3+qa293a0jsllhJR9sOyMGPU80+RO6IR8RMWpDjhBAEwX7BA2CQYs6CqNpQxoYngURhJEdskvFYYzd23Zwv2pZw1zZW8PZO3ZgvWzDy7mVtR4kTKBCRBQSRKm2h5Cy9ruNjGixv26w8XKLZS3rStJY0+e1FXYNowDGWmJBGxT3hA44CCyySSUkjJM48nJAl4VC2/Vwhj4/H4LCyEQJgMD4/2h18A5vgxT6KYA2ejZQ2gLOGJeLWwqKTfQkzCjDEpAsk9APqHPgEhhIIgiOMYZoQamR4knj4upmHB+d9h/cBf7aGmSeo6bu0Sx/F83wO5rgu7UQR3SW+iPnqonGUmYUzo8zrJLaJ7b/HdInpQwV6Y7v6ZOq0RPA6E/PTyzr9huD9GNkE2TrHAp2WNRtjx+qUn/wmDEDpnWpBmflgr3ErDnHN4QEjCk9hWKvC0Q7a0rfOe48xHP0eu7y/M5y90hn/Fy+Rmz/PbXZc6LnMczBxMHeo4lFIovn7jtqJp25vbO9pWp9loNNbWysslVVUr5XJ1pQILtVyprlR7zdV2fXWgNY8663qzViqp7fbHy1fnfgGxu+riTXEFqAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Polymer authenticated user state in header"
        title=""
        src="/static/screenshot_quotes-header-auth-375c745c51afcc39ace8829936bf32c4-7476a.png"
        srcset="/static/screenshot_quotes-header-auth-375c745c51afcc39ace8829936bf32c4-5131c.png 250w,
/static/screenshot_quotes-header-auth-375c745c51afcc39ace8829936bf32c4-37136.png 500w,
/static/screenshot_quotes-header-auth-375c745c51afcc39ace8829936bf32c4-7476a.png 1000w,
/static/screenshot_quotes-header-auth-375c745c51afcc39ace8829936bf32c4-a41db.png 1500w,
/static/screenshot_quotes-header-auth-375c745c51afcc39ace8829936bf32c4-b4be3.png 1874w"
        sizes="(max-width: 1000px) 100vw, 1000px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>Let’s update the <code class="language-text">&lt;app-header&gt;</code> to show the “Log In” link when the user is logged out and a greeting with the <code class="language-text">log-out</code> element when authenticated.</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html">...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>app-header</span> <span class="token attr-name">condenses</span> <span class="token attr-name">reveals</span> <span class="token attr-name">effects</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>waterfall<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>app-toolbar</span><span class="token punctuation">></span></span>
    ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>register-login<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[rootPath]]register-login<span class="token punctuation">"</span></span> <span class="token attr-name">hidden$</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[storedUser.loggedin]]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Log in<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">hidden$</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[!storedUser.loggedin]]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>greeting<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Hi [[storedUser.name]]!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>log-out</span> <span class="token attr-name">stored-user</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{storedUser}}<span class="token punctuation">"</span></span> <span class="token attr-name">link</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>log-out</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>app-toolbar</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>app-header</span><span class="token punctuation">></span></span>
...</code></pre>
      </div>
<p>Add the <code class="language-text">storedUser</code> object to the Polymer properties in the JS:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">Polymer<span class="token punctuation">.</span>Element</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">is</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">'my-app'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token operator">...</span>
            storedUser<span class="token punctuation">:</span> Object<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>

window<span class="token punctuation">.</span>customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span>MyApp<span class="token punctuation">.</span>is<span class="token punctuation">,</span> MyApp<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>Finally, we’ll add some CSS in the <code class="language-text">&lt;style&gt;</code> block:</p>
<div class="gatsby-highlight">
      <pre class="language-css"><code class="language-css"><span class="token selector">...
app-header .greeting,
app-header a</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 13px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">app-header .greeting</span> <span class="token punctuation">{</span>
  <span class="token property">border-right</span><span class="token punctuation">:</span> 1px solid <span class="token function">rgba</span><span class="token punctuation">(</span>255,255,255,.5<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
  <span class="token property">padding-right</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>We now have a functioning user state in the global header. When we log in or out, no matter what view we’re on, the header and menu will update according to authentication status.</p>
<h2>Aside: Authenticating a Polymer App with Auth0</h2>
<p>Let’s explore authenticating the client side of a Polymer app with a more robust solution. We’ll do a quick implementation of <a href="https://auth0.com/docs/hosted-pages/login">Auth0’s Centralized Login Page</a> to manage user identity. We’ll leverage local storage and the <code class="language-text">brum-global-variable</code> package again to ensure users aren’t logged out unexpectedly. You can clone the full code from <a href="https://github.com/auth0-blog/polymer2-with-auth0">this GitHub repo</a>.</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/screenshot_auth0-js-593a25e7269768152848c0452e5cc369-d8343.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 68.29268292682927%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAADDklEQVQozyVSWWsTURSe36ImaaudZjIzd+7MvXf2pGmtVeNSIuKKy4Mo4oMoiqBWrD5ILPqgID5UKy64gSBCVdypTQLWJTVJM5O22kpqbWwTGzXeVDgcDpzvO9/ZmLH4K+fpw/SzvszzJ18T/V/ib/JvX48l4yOJuJNIZOPJzEAyPZAcir9LJQZTyQ+p5Pvky/6BF/33eu8x334Ux0ZHPw87Q9nhrJvP5kdq3nGH3XzOcZ18Pue6w47j5F3HdbO5XH50JJ3N0NTVy7eYgIgxNmVZVxQDIYPGkqSKIgayISEbAEJjmsXYogAINShrgogQNo8dOsN46zkuAAO8AoAqiMQ0Wy5evHTl2s0r3bGeU8d7eq5d7b2+ZevOpiYoQY0XUYCXWRZwAbnrRDfT6JdoMVk2ELZlxVi+Yq2TyxV+TE+nB6cHnk5+nywWpzs7u/wc1LSQrJhUnBcUIGknO7sZjkdIMTG2Nb2ZqKFIJJpOZ1KpoUyWDu5++PhpfHyckmtNWa2EBBVkAqhCWT+w6wjD12a2VTVkmq2aHu7o2FAs/iyVypXK72q1WiqVqI/FztGhgqF2KkDB8wsyd28/yoiSSuZlLWupYbRE122empqam5ubmZmlTBpQ8tmz5yWoh5rbdSNM1CCUDawYp3dsYyDUEbY0rUbW9XA0ummyUCiXZmd+Fn+VS38qlf/KNXKonQIIsSlZRfr9gx0MPYaCLKLaVJY2v7Zjw2y5/Ktanf3zt1ytzvyuNR87d0EQcDC4TNVC9Ga0EEFa7+GtjCAguuR5fhCTYKRt5cSjW1OPbxf67hT67k48vFF59aBr394A0Aw9jJBFwQJQIUCxTW1MUxOgqxdETG8gYbtVQf0rGwZXLR6M8u/Xg+SqJek1DQdNgZNtDZuKrAOJ0KcQeGVjJMLYdgu1pW0R3WiRoEGQsVola6iRedPIaoIIJBzQGwOozq+wAcRxcAkrsqLFsBxU1LAEFJ+3ftFCn2eRz+Nb7Klr9Naznjp2gc/Pc2A5klYguKfd2r8MG37W423k/ZK3QfwH/a5+KExNufMAAAAASUVORK5CYII='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Polymer register login app view with auth0.js"
        title=""
        src="/static/screenshot_auth0-js-593a25e7269768152848c0452e5cc369-7476a.png"
        srcset="/static/screenshot_auth0-js-593a25e7269768152848c0452e5cc369-5131c.png 250w,
/static/screenshot_auth0-js-593a25e7269768152848c0452e5cc369-37136.png 500w,
/static/screenshot_auth0-js-593a25e7269768152848c0452e5cc369-7476a.png 1000w,
/static/screenshot_auth0-js-593a25e7269768152848c0452e5cc369-a41db.png 1500w,
/static/screenshot_auth0-js-593a25e7269768152848c0452e5cc369-d8343.png 1886w"
        sizes="(max-width: 1000px) 100vw, 1000px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>When users are logged in, they’ll see something like this:</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/screenshot_auth0-loggedin-9a55bee818fce928a7131ceea4db514a-f5621.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 68.22033898305084%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAACIElEQVQoz22SS2/TQBSF/asQa34BKxbdAUVCInukUDawQ6nzaB5Ko6glJW2iRGniqIW0Sts0SAgWICFALFCQmqcfM+O3Y4/tMJ6IKmn66Yx17etz5o5s5lul+KNZ+91q/r1o9c4/9NrHv7jKT676vVH7Wq9/qTc+H3Kfalz38KjTeN/hWpfNk9Mqd1o7ahQbDFJUAaChIMiabnu+bLkTSZGATKUAKum/RFETJGU4lv70+m9zB4xqmB7G0+l05jlDyQll4dMMWtuEK0JrrPQw219PovWU8ijGh1/mGctxPNedURTDrXZBtYv2z2HxDKxIKl3ypQtQ7sD9Nh+NvWPGvGCZ1tzskRhbNVXRw8ZsRhLxiuYPPUuH+e09cmYlmJmCMVY1/epqoOtGkOXflE9FkCQYeZVgdMMkzM2u66qqOuj3R6ORg/HsVqgZAPh6Y4uh03rXZk3TJAopdDKAEWTrtCaFTyFvIgC2N14wc8+iWRRFQRDIlecntOYFCs8LJBQh5Hq+AkH7TeiWnUkbQIBkWQ6WDCEgFQECSG4ty/J8X0HgOBG+aSZtbQEyrbYMPYspTsaF508Cs+M4xEYibNuez7yIeC1RkIImT4YfDgbh0LOlnenn8b1lSO4UuzZ2TdsxbEyK4HdStfsPHjM7u3u7hYN8Pp9Jp9KpJBuJRFk2Fo3GyYqym2wsm0xWcplSLnNW3vlYzhUyiXg8mdpK37l77x/ju9xcNBjOlwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Polymer logged in with Auth0"
        title=""
        src="/static/screenshot_auth0-loggedin-9a55bee818fce928a7131ceea4db514a-7476a.png"
        srcset="/static/screenshot_auth0-loggedin-9a55bee818fce928a7131ceea4db514a-5131c.png 250w,
/static/screenshot_auth0-loggedin-9a55bee818fce928a7131ceea4db514a-37136.png 500w,
/static/screenshot_auth0-loggedin-9a55bee818fce928a7131ceea4db514a-7476a.png 1000w,
/static/screenshot_auth0-loggedin-9a55bee818fce928a7131ceea4db514a-a41db.png 1500w,
/static/screenshot_auth0-loggedin-9a55bee818fce928a7131ceea4db514a-f5621.png 1888w"
        sizes="(max-width: 1000px) 100vw, 1000px"
      />
    </span>
  </span>
  
  </a>
    </p>
<h3>Sign Up for Auth0</h3>
<p>You’ll need an <a href="https://auth0.com">Auth0</a> account to manage authentication. You can sign up for a <a href="https://auth0.com/signup">free account here</a>. Next, set up an Auth0 Client and API so Auth0 can interface with your app and API.</p>
<h3>Set Up a Client App</h3>
<ol>
<li>Go to your <a href="https://manage.auth0.com/#/"><strong>Auth0 Dashboard</strong></a> and click the ”<a href="https://manage.auth0.com/#/clients/create">create a new client</a>” button. </li>
<li>Name your new app and select “Single Page Web Applications”. </li>
<li>In the <strong>Settings</strong> for your newly created app, add <code class="language-text">http://localhost:8081</code> to the Allowed Callback URLs and Allowed Logout URLs.</li>
<li>If you’d like, you can <a href="https://manage.auth0.com/#/connections/social">set up some social connections</a>. You can then enable them for your app in the <strong>Client</strong> options under the <strong>Connections</strong> tab. The example shown in the screenshot above utilizes username/password database, Facebook, Google, and Twitter.</li>
</ol>
<h3>Setup and Dependencies</h3>
<p>Create a new directory, <code class="language-text">init</code> a fresh Polymer starter kit app, then <code class="language-text">serve</code> it:</p>
<div class="gatsby-highlight">
      <pre class="language-bash"><code class="language-bash">polymer init starter-kit
polymer serve --open</code></pre>
      </div>
<h3>Creating the Auth0 Login Element</h3>
<p>Create a new file: <code class="language-text">/src/auth0-login.html</code>. This will be our <code class="language-text">auth0-login</code> custom element.</p>
<p>Our <code class="language-text">auth0-login</code> element will include the following: </p>
<ul>
<li>An element containing <a href="https://cdn.auth0.com/js/auth0/9.0.0/auth0.min.js">auth0.js v9</a>.</li>
<li>A link with an event handler to open authenticate with Auth0js.</li>
<li>Auth0 configuration.</li>
<li>A greeting with profile image and logout button to show when the user is authenticated.</li>
</ul>
<blockquote>
<p><strong>Important security note:</strong> In this demo, we’re adding authentication to the client side but we are not securing a backend. If you have an API for your application, the API should <em>always</em> be secured. The <a href="https://auth0.com/blog/why-should-use-accesstokens-to-secure-an-api"><code class="language-text">id_token</code> should not be used to secure an API</a>; instead, use an <code class="language-text">access_token</code> with the appropriate configuration. You can read about how to <a href="https://auth0.com/docs/apis">implement API authentication with Auth0</a> with <a href="https://auth0.com/docs/api-auth/tutorials/implicit-grant">implicit grant</a>.</p>
</blockquote>
<p>Let’s create the dependency element: <code class="language-text">/src/auth0-js.html</code>. Create a new file and add the following:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- auth0-js.html --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.auth0.com/js/auth0/9.0.0/auth0.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>This is best practice in Polymer for loading third party dependencies. This way, we can use HTML import to load this file and be certain that it will only be imported once. If it’s called again, it will be deduped.</p>
<p>Now we can build <code class="language-text">/src/auth0-login.html</code>:</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- auth0-login.html --></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/polymer/polymer-element.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/iron-localstorage/iron-localstorage.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/brum-global-variable/brum-global-variable.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/paper-button/paper-button.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>auth0-js.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dom-module</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>auth0-login<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css">
      <span class="token selector">:host</span> <span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 13px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.greeting</span> <span class="token punctuation">{</span>
        <span class="token property">border-right</span><span class="token punctuation">:</span> 1px solid <span class="token function">rgba</span><span class="token punctuation">(</span>255,255,255,.5<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
        <span class="token property">padding-right</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.greeting img</span> <span class="token punctuation">{</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
        <span class="token property">margin-right</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
        <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">a</span> <span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">paper-button</span> <span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">paper-button.link</span> <span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
        <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 13px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">paper-button.indigo</span> <span class="token punctuation">{</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--paper-indigo-500<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token selector">;
        --paper-button-raised-keyboard-focus:</span> <span class="token punctuation">{</span>
          <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--paper-pink-a200<span class="token punctuation">)</span> <span class="token important">!important</span><span class="token punctuation">;</span>
          <span class="token property">color</span><span class="token punctuation">:</span> white <span class="token important">!important</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">paper-button.indigo:hover</span> <span class="token punctuation">{</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--paper-indigo-400<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iron-localstorage</span> 
      <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user-storage<span class="token punctuation">"</span></span> 
      <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{storedUser}}<span class="token punctuation">"</span></span> 
      <span class="token attr-name">on-iron-localstorage-load</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_setProfileImg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iron-localstorage</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>brum-global-variable</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userData<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{storedUser}}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>brum-global-variable</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>paper-button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link<span class="token punctuation">"</span></span> <span class="token attr-name">on-tap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>authorize<span class="token punctuation">"</span></span> <span class="token attr-name">hidden$</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[storedUser.loggedin]]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Log In<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>paper-button</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">hidden$</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[!storedUser.loggedin]]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>greeting<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[[profileImgSrc]]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>[[storedUser.profile.nickname]]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>paper-button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link<span class="token punctuation">"</span></span> <span class="token attr-name">on-tap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>logOut<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Log Out<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>paper-button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">
      <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> webAuth <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">auth0<span class="token punctuation">.</span>WebAuth</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              domain<span class="token punctuation">:</span> <span class="token string">'&lt;DOMAIN>'</span><span class="token punctuation">,</span>
              clientID<span class="token punctuation">:</span> <span class="token string">'&lt;CLIENTID>'</span><span class="token punctuation">,</span>
              responseType<span class="token punctuation">:</span> <span class="token string">'token'</span><span class="token punctuation">,</span>
              redirectUri<span class="token punctuation">:</span> <span class="token string">'&lt;REDIRECT_URI>'</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

          <span class="token keyword">class</span> <span class="token class-name">Auth0Login</span> <span class="token keyword">extends</span> <span class="token class-name">Polymer<span class="token punctuation">.</span>Element</span> <span class="token punctuation">{</span>
              <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">is</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">'auth0-login'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

              <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">return</span> <span class="token punctuation">{</span>
                      storedUser<span class="token punctuation">:</span> Object<span class="token punctuation">,</span>
                      profileImgSrc<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                          type<span class="token punctuation">:</span> String<span class="token punctuation">,</span>
                          value<span class="token punctuation">:</span> <span class="token string">''</span>
                      <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>

              <span class="token function">connectedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">connectedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token keyword">const</span> _self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

                  <span class="token comment">// Parse the hash</span>
                  <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                      webAuth<span class="token punctuation">.</span><span class="token function">parseHash</span><span class="token punctuation">(</span><span class="token punctuation">{</span> hash<span class="token punctuation">:</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>error<span class="token punctuation">,</span> authResult<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                          <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                              console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Error reading hash:'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
                              <span class="token keyword">return</span><span class="token punctuation">;</span>
                          <span class="token punctuation">}</span>

                          <span class="token keyword">if</span> <span class="token punctuation">(</span>authResult<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                              webAuth<span class="token punctuation">.</span>client<span class="token punctuation">.</span><span class="token function">userInfo</span><span class="token punctuation">(</span>authResult<span class="token punctuation">.</span>accessToken<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>error<span class="token punctuation">,</span> profile<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                  <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Error getting profile:'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                      <span class="token keyword">return</span><span class="token punctuation">;</span>
                                  <span class="token punctuation">}</span>

                                  _self<span class="token punctuation">.</span>storedUser <span class="token operator">=</span> <span class="token punctuation">{</span>
                                      name<span class="token punctuation">:</span> profile<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
                                      id_token<span class="token punctuation">:</span> authResult<span class="token punctuation">.</span>idToken<span class="token punctuation">,</span>
                                      access_token<span class="token punctuation">:</span> authResult<span class="token punctuation">.</span>accessToken<span class="token punctuation">,</span>
                                      loggedin<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                                      profile<span class="token punctuation">:</span> profile
                                  <span class="token punctuation">}</span><span class="token punctuation">;</span>
                                  _self<span class="token punctuation">.</span>profileImgSrc <span class="token operator">=</span> profile<span class="token punctuation">.</span>picture<span class="token punctuation">;</span>
                              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                          <span class="token punctuation">}</span>
                      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>

              <span class="token function">_setProfileImg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">this</span><span class="token punctuation">.</span>profileImgSrc <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>storedUser<span class="token punctuation">.</span>profile<span class="token punctuation">.</span>picture<span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token function">authorize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  webAuth<span class="token punctuation">.</span><span class="token function">authorize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>

              <span class="token function">logOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">this</span><span class="token punctuation">.</span>storedUser <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                  <span class="token keyword">this</span><span class="token punctuation">.</span>profileImgSrc <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>

          window<span class="token punctuation">.</span>customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span>Auth0Login<span class="token punctuation">.</span>is<span class="token punctuation">,</span> Auth0Login<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dom-module</span><span class="token punctuation">></span></span></code></pre>
      </div>
<p>Make sure you update your <code class="language-text">auth0.js</code> configuration. To get your <code class="language-text">client ID</code> and <code class="language-text">domain</code>, find your app in the <a href="https://manage.auth0.com/#/clients">Auth0 Dashboard</a> and look in <strong>Settings</strong>. Your <code class="language-text">redirect uri</code> will be <a href="http://localhost:8081">http://localhost:8081</a>.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> webAuth <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">auth0<span class="token punctuation">.</span>WebAuth</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    domain<span class="token punctuation">:</span> <span class="token string">'&lt;DOMAIN>.auth0.com'</span><span class="token punctuation">,</span>
    clientID<span class="token punctuation">:</span> <span class="token string">'&lt;CLIENTID>'</span><span class="token punctuation">,</span>
    responseType<span class="token punctuation">:</span> <span class="token string">'token'</span><span class="token punctuation">,</span>
    redirectUri<span class="token punctuation">:</span> <span class="token string">'http://localhost:8081'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>You can read all about <code class="language-text">auth0.js</code> in the <a href="https://auth0.com/docs/hosted-pages/login">Auth0’s Centralized Login Page</a> docs. </p>
<blockquote>
<p>Note: We’re setting the profile image with JS rather than binding directly to <code class="language-text">storedUser.profile.picture</code> because if we don’t, the image <code class="language-text">src</code> will populate as <code class="language-text">undefined</code> and result in a 404 network error when not set.</p>
</blockquote>
<p>We now have an <code class="language-text">auth0.js</code> element that can be launched by clicking a “Log In” button. We need to place it in our app and pass in the appropriate Auth0 configuration.</p>
<h3>Adding auth0.js to a Polymer App</h3>
<p>Open <code class="language-text">/src/my-app.html</code> and import the <code class="language-text">iron-localstorage</code>, <code class="language-text">brum-global-variable</code>, and <code class="language-text">auth0-login</code> dependencies. Add the <code class="language-text">&lt;iron-localstorage&gt;</code> and <code class="language-text">&lt;brum-global-variable&gt;</code> elements to the DOM and add the <code class="language-text">storedUser</code> object to the Polymer properties in the JS.</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- my-app.html --></span>
...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/iron-localstorage/iron-localstorage.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../bower_components/brum-global-variable/brum-global-variable.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>auth0-login.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iron-localstorage</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user-storage<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{storedUser}}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iron-localstorage</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>brum-global-variable</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userData<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{storedUser}}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>brum-global-variable</span><span class="token punctuation">></span></span>
...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">
    <span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">Polymer<span class="token punctuation">.</span>Element</span> <span class="token punctuation">{</span>
        <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">is</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">'my-app'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                <span class="token operator">...</span>
                storedUser<span class="token punctuation">:</span> Object<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token operator">...</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
...</code></pre>
      </div>
<p>Now we’ll add our <code class="language-text">&lt;auth0-login&gt;</code> element to the DOM. We want to display the “Log In” link/user greeting in the header, just like we did in the Chuck Norris app.</p>
<div class="gatsby-highlight">
      <pre class="language-html"><code class="language-html">...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>app-header</span> <span class="token attr-name">condenses</span> <span class="token attr-name">reveals</span> <span class="token attr-name">effects</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>waterfall<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>app-toolbar</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>paper-icon-button</span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>menu<span class="token punctuation">"</span></span> <span class="token attr-name">drawer-toggle</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>paper-icon-button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">main-title</span><span class="token punctuation">></span></span>My App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>auth0-login</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>auth0-login</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>app-toolbar</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>app-header</span><span class="token punctuation">></span></span>
...</code></pre>
      </div>
<p>Now users can sign up for an account, log in, and log out. You can utilize the techniques we learned earlier to access protected API routes, show and hide UI, set up redirection, and more. Check out the <a href="https://auth0.com/docs">Auth0 Docs</a> to read about features, APIs, guides, and more.</p>
<h2>The Future of Web (Components)</h2>
<p>The beauty of web components is that they’re composed of native DOM features: they’re literally the future of the web. Web developers have a long history of struggling with DOM encapsulation and CSS scoping—and subsequently <a href="https://www.smashingmagazine.com/2011/12/an-introduction-to-object-oriented-css-oocss/">inventing</a> <a href="http://getbem.com/introduction/">paradigms</a> <a href="https://smacss.com/">to compensate</a>. Web components offer solutions.</p>
<p>Remember that Polymer itself is <em>not a framework</em>. It’s a library to facilitate easy, compatible web component usage. When you use Polymer, your framework is the DOM. It’s also important to know that <a href="http://blog.thoughtram.io/angular/2015/06/29/shadow-dom-strategies-in-angular2.html">JS frameworks like Angular 2 are currently leveraging web component concepts</a>. </p>
<p>Web components may be the future, but there’s no reason not to get started with them today. Google uses Polymer in many of its sites, <a href="http://webcomponents.org/articles/interview-with-joshua-peek/">GitHub uses web components</a>, and <a href="https://youtu.be/fD2As5RmM8Q?t=15m56s">there are</a> many others leveraging these technologies. Custom elements are being built and shared with the community every day. In addition to Google’s <a href="https://elements.polymer-project.org/">Polymer Element Catalog</a>, developers can take advantage of <a href="https://vaadin.com/elements">element libraries like Vaadin</a>.</p>
<p><strong>Polymer</strong> delivers a way to use web components cross-browser while learning the native spec at the same time. Learning Polymer isn’t like tackling a massive JS framework: it’s a veneer over native features. You can build something simple or complex with web components. Polymer is intuitive to learn and the experience with web components will be invaluable for many projects, frameworks, and libraries to come.</p></div><footer><div>Loading...</div><div class="jsx-646394116 author"><div class="jsx-646394116 avatar"><img src="/static/avatar.fe8a3f2f.jpg" alt="dad, technical writer, security advocate - Luke Oliff" class="jsx-646394116"/></div><div class="jsx-646394116 note"><p><strong>Luke Oliff</strong> dad, technical writer, security advocate - writing about digital transformation, software security and new technology</p></div></div><div class="jsx-126278577 links"><a href="/oauth2-the-complete-guide/"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" style="vertical-align:middle"><g><path d="m36.4 21.4q0 1.2-0.9 2.1l-14.5 14.5q-0.9 0.8-2 0.8-1.2 0-2-0.8l-1.7-1.7q-0.9-0.8-0.9-2t0.9-2l6.5-6.6h-15.7q-1.1 0-1.9-0.8t-0.7-2v-2.9q0-1.2 0.7-2t1.9-0.9h15.7l-6.5-6.5q-0.9-0.8-0.9-2t0.9-2l1.7-1.7q0.8-0.9 2-0.9 1.2 0 2 0.9l14.5 14.5q0.9 0.8 0.9 2z"></path></g></svg><h4 class="jsx-126278577">OAuth 2.0: The Complete Guide<!-- --> <time class="jsx-126278577">2018-02-07<!-- --> </time></h4></a><a href="/elixir-and-phoenix-tutorial-build-an-authenticated-app/"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" style="vertical-align:middle"><g><path d="m36.3 20v2.9q0 1.1-0.7 2t-1.9 0.8h-15.7l6.5 6.6q0.9 0.8 0.9 2t-0.9 2l-1.7 1.7q-0.8 0.8-2 0.8-1.1 0-2-0.8l-14.5-14.6q-0.9-0.8-0.9-2 0-1.1 0.9-2l14.5-14.5q0.8-0.9 2-0.9 1.2 0 2 0.9l1.7 1.6q0.9 0.9 0.9 2.1t-0.9 2l-6.5 6.5h15.7q1.1 0 1.9 0.9t0.7 2z"></path></g></svg><h4 class="jsx-126278577">Elixir &amp; Phoenix Tutorial: Build an Authenticated App<!-- --> <time class="jsx-126278577">2017-12-14</time></h4></a></div><div id="post-comments" class="jsx-3595558049 comments"><div><div class="fb-comments" data-href="https://lukeoliff.com/build-your-first-app-with-polymer-and-web-components/" data-width="100%"></div></div></div></footer></article></main><footer class="jsx-2344609357 footer"><ul>
<li>owned by <a href="/">Luke Oliff</a></li>
<li>powered by <a href="https://www.gatsbyjs.org/">GatsbyJS</a></li>
<li>hosted by <a href="https://pages.github.com/">GitHub Pages</a></li>
<li>cached and secured by <a href="https://www.cloudflare.com/">Cloudflare</a></li>
<li>graphics from <a href="https://pxhere.com">pxhere.com</a></li>
<li><a href="/privacy/">privacy policy</a></li>
<li><a href="/terms/">terms &#x26; conditions</a></li>
</ul></footer></div><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"0":"0-c54303c9791f2f3ceb85.js","231608221292675":"app-0e1379c963ee306cf932.js","99219681209289":"component---node-modules-gatsby-plugin-offline-app-shell-js-5c4c5a0f7af9dc69d6d7.js","78839606078735":"component---src-templates-category-template-js-ccbdb357ea067077af6d.js","198517197184460":"component---src-templates-post-template-js-efb6222c664f8637d165.js","235131596041995":"component---src-templates-page-template-js-277489605b32655c14af.js","162898551421021":"component---src-pages-404-js-cf325d2e9bf981eec2f6.js","118442821920679":"component---src-pages-category-js-bbb34571e9395b2ce79b.js","35783957827783":"component---src-pages-index-js-4cdfe22c0237c1694edf.js","142807904292071":"component---src-pages-search-js-31e1970d09f08933da90.js","60335399758886":"path----1c45b9cbfed9af352b94.js","210333531512890":"path---offline-plugin-app-shell-fallback-a0e39f21c11f6a62c5ab.js","3422700230939":"path---category-portfolio-943fcf8c337cdf892327.js","24663704475854":"path---helloworld-with-auth-0-987b9b28137f91515b1e.js","179155616915032":"path---common-threats-in-web-app-security-a5f6771fa003b3228bef.js","48830299300409":"path---building-a-blog-with-gatsby-react-and-webtask-f48d119a26bdd82c5e3a.js","102443490631562":"path---oauth-2-the-complete-guide-39d028d86fec6034ab46.js","255549171910776":"path---build-your-first-app-with-polymer-and-web-components-4c4a503362ecf2ba2a6f.js","135457678329293":"path---elixir-and-phoenix-tutorial-build-an-authenticated-app-db077bbb6eaa9c6bfea1.js","273950069227526":"path---about-ce27028b0d4204d2e34d.js","89335538696419":"path---terms-b80415cd83c07b9cac75.js","166922164162147":"path---privacy-89341dd48dc54a723e27.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","115052432080904":"path---category-83a770a0561be5ad7608.js","142629428675168":"path---index-c5116b558c1ca501b4d6.js","254572558124955":"path---search-a1eea1489feed082ff7d.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","114276838955818":"component---src-layouts-index-js-51093b88744bb31359c7.js"}/*]]>*/</script><script>
            
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'undefined', 'auto');
      }
      </script><script>/*<![CDATA[*/["/commons-44750fa6a1ae314db841.js","/app-0e1379c963ee306cf932.js","/path---build-your-first-app-with-polymer-and-web-components-4c4a503362ecf2ba2a6f.js","/component---src-templates-post-template-js-efb6222c664f8637d165.js","/component---src-layouts-index-js-51093b88744bb31359c7.js"].forEach(function(s){document.write('<script src="'+s+'" defer></'+'script>')})/*]]>*/</script></body></html>