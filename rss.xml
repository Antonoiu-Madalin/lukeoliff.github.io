<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[dad, technical writer, security advocate - Luke Oliff]]></title><description><![CDATA[dad, technical writer, security advocate - writing about digital transformation, software security and new technology]]></description><link>https://lukeoliff.com</link><generator>RSS for Node</generator><lastBuildDate>Fri, 16 Nov 2018 11:50:57 GMT</lastBuildDate><item><title><![CDATA[HelloWorld: With Auth0]]></title><description><![CDATA[TL;DR:  In this guide, you’ll finish adding authentication to our simple  single page application , customize Auth0  Lock , enable  social…]]></description><link>https://lukeoliff.com/helloworld-with-auth0/</link><guid isPermaLink="false">https://lukeoliff.com/helloworld-with-auth0/</guid><content:encoded>&lt;p&gt;&lt;strong&gt;TL;DR:&lt;/strong&gt; In this guide, you’ll finish adding authentication to our simple &lt;a href=&quot;https://auth0.com/docs/sso/current/single-page-apps&quot;&gt;single page application&lt;/a&gt;, customize Auth0 &lt;a href=&quot;https://auth0.com/docs/libraries/lock/v11&quot;&gt;Lock&lt;/a&gt;, enable &lt;a href=&quot;https://auth0.com/blog/social-login-on-the-rise/&quot;&gt;social login&lt;/a&gt; with Facebook, and set up &lt;a href=&quot;https://auth0.com/docs/multifactor-authentication&quot;&gt;multi-factor authentication&lt;/a&gt;. If none of this makes any sense, don’t worry. We’re going to explain that as well.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;This post is original content developed by me for the &lt;a href=&quot;https://auth0.com/blog&quot;&gt;Auth0’s blog&lt;/a&gt; and has been re-posted here as part of an online portfolio with permission. Relevant attribution and canonical links exist. &lt;a href=&quot;https://auth0.com/blog/helloworld-with-auth0/&quot;&gt;Click here to see the original&lt;/a&gt;.&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Note:&lt;/em&gt;&lt;/strong&gt; This guide assumes you’re on a Mac. Drop us a comment below and we can provide updated instructions for a Windows machine or Ubuntu machine.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Before you get started, you’re going to need &lt;strong&gt;NodeJS&lt;/strong&gt; installed on your computer. This bit of software allows you to run stuff locally, like web servers and code.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Note:&lt;/em&gt;&lt;/strong&gt; This guide has been developed with a target audience that may have no exposure to development. If you’re a developer, you might want to try out &lt;a href=&quot;https://www.auth0.com/blog&quot;&gt;one of our many other blog articles&lt;/a&gt;, on a language you might be familiar with.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Pre-requisites&lt;/h2&gt;
&lt;p&gt;You’re going to need some bits before we get started.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Tip:&lt;/em&gt;&lt;/strong&gt; With no exposure to development or editing code, you might find yourself scratching your head. Use the comments section at the bottom of this guide to get help from an Auth0 engineer – you might also find some helpful info.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;NodeJS&lt;/h3&gt;
&lt;p&gt;If you do not have &lt;strong&gt;NodeJS&lt;/strong&gt; installed on your computer, install that now. If you don’t know whether or not you have it, it shouldn’t hurt to install it anyway.&lt;/p&gt;
&lt;p&gt;Go to &lt;a href=&quot;https://nodejs.org/en/&quot;&gt;nodejs.org&lt;/a&gt; where you’re looking to download a version labelled &lt;strong&gt;LTS&lt;/strong&gt;, or &lt;em&gt;long-term support&lt;/em&gt;. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Note:&lt;/em&gt;&lt;/strong&gt; &lt;strong&gt;LTS&lt;/strong&gt; is the version most likely to be supported for the next few months. &lt;em&gt;Long-term support&lt;/em&gt; versions usually are the most robust, tested and adopted versions which are only subject to smaller updates that try not to introduce changes that could break your software.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Double-click on your downloaded &lt;strong&gt;NodeJS&lt;/strong&gt; package and install it.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/nodejs-install-6016120945332a0b1ce30b37ad6dedad-e8ca7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 75.13661202185793%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAACX0lEQVQ4y52TTW8SYRDHwXJoUggHTcMB+QLd9BuY+MFMNKnxUpJ68ODRpDdTjUoVxbS1Csg7UqCgvMOuQHlnodBn2Wec2RRMKZjGSf6Z3dmdX/7zzK5Oh/H61Zvb7/c/bB5/Od5wf3ULJP93nxAJRwX3gUNw7juEd28dguebR/Bh3evxzoT3G0eHR5t7L/fu6KaBDx5K0m8QK+IIxcrlMivkCyyXy7Nfpz9YLBplCGfJRJIVi0VWLFwKr0ul0kiSJPB6vVszYCgUsiuTCVQqlUm1WoVutwuUU6kUFIolyOVymhqNBjDGQFEULY/HYzg/P1cBIxwOP50Bff7AdrPdgSg6yWazHBv5YDDgnU6Hx2IxnslkeD6fx3qT1+p1XqvVeL1+xkejEUeWQkC/3/8XiDf2wUAmFwq65KIoAgI1J9gMjbMGtNttzWGz2QSEQa/XB1VVCTghYCAQuAocDoeA7hQ8F07jEvAGMQNec9jv9yGdTisIo5FBlmWtA10A53yZFgN9Pp+diq1mS+n1epzGmzqch8zVFgNx5fZWqwVSTVTwLDhtdx64cN5lwMODI/unzx/hhfO58vjJFt/d3QU6gkUOl40c8AeuONxWJxxSuVP2s5BWcXQVz5C+r5uIXTrcmQGDweAOFeW+TB8q0MYvxheaC1rKvKg+wR+BMr1PEYlEns2ATqfzAW5YjifiYiKRqE4Vj8cXip6dnJxUk5jxD5Gw1nW5XI80mNVq1WO6i7qHuv+fol7b+vq6XoNaLBa92WxeWVtbMxiNRsM0/0urq6sGk8lkwHbDCobNZrtFrD/LVk5ElnGNYAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Install NodeJS&quot;
        title=&quot;&quot;
        src=&quot;/static/nodejs-install-6016120945332a0b1ce30b37ad6dedad-7476a.png&quot;
        srcset=&quot;/static/nodejs-install-6016120945332a0b1ce30b37ad6dedad-5131c.png 250w,
/static/nodejs-install-6016120945332a0b1ce30b37ad6dedad-37136.png 500w,
/static/nodejs-install-6016120945332a0b1ce30b37ad6dedad-7476a.png 1000w,
/static/nodejs-install-6016120945332a0b1ce30b37ad6dedad-e8ca7.png 1464w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h3&gt;What is Terminal?&lt;/h3&gt;
&lt;p&gt;Nothing to install this time. But, take a look at what Terminal looks like.&lt;/p&gt;
&lt;p&gt;Press &lt;strong&gt;Command+Space&lt;/strong&gt; together. This opens &lt;em&gt;Spotlight Search&lt;/em&gt;, where you can type &lt;strong&gt;&lt;em&gt;Terminal&lt;/em&gt;&lt;/strong&gt; and press enter. This opens up &lt;strong&gt;&lt;em&gt;Terminal&lt;/em&gt;&lt;/strong&gt; for you.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/use-spotlight-to-open-terminal-e468ba22893f1ab88b41ef43dec02ba8-a8340.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 68.43434343434343%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAAB6ElEQVQ4y6WTy4/SUBTGKQjsTIDKO7zKsy+YTorBhMwQ1jXjkoQVYcU7Yef8Fc52mvi/uVcbNTEOtsfv1rZBETc0+eX2Ps53v3PuvSFJkgqdTudVvV7XBUHoi6IYgPF+rVY7S7Va7TebzZftdrv3guefhdhXLBYfFEUhXdd/6H3dLpVKdi6Xs/P5vF0oFGxsZDcajX9SF4SfoiSRrCifEomE4ApOp1Pz7f097ff7w263o9VqRYvFgtbrNc1mM8LuhGCCE4J4ABsDjjf+jed5xRWcTCbmcrmk7Xb7BDFns9k4rEXfmc/nTqvVchDgIsmyo3a7botyOJ57Qqm+QlB1BdPptInUKJPJHLLZLGvJb5G274RQM9Kur2k8HpOmaSTLMnPmnAhioYkDIDg5APobFhCkifS6qkoq8FI9FaxUKiYLxOTBd+OLHP/7/d8bBfW8UBCuhsOhy0UOjzkuw9Ep/yH46Ak+sVM75uTeYUwUJXswGNi9Xs/te4JfUqmU4gu+xxUIdjsHc8XWQYzu3tzRaDRyT94z8z1wiJfxDhMO+Aisc+CZWXhR1tWVZt3c3lioo1Uulz+z+mHuQzKZFF3BaDTajsfjRiwW+y9sDdYakUjECIfDBsdxhhf3Gu0t+s9D3seB8IVwvtgvKp066JGn8xgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Use Spotlight to open Terminal&quot;
        title=&quot;&quot;
        src=&quot;/static/use-spotlight-to-open-terminal-e468ba22893f1ab88b41ef43dec02ba8-7476a.png&quot;
        srcset=&quot;/static/use-spotlight-to-open-terminal-e468ba22893f1ab88b41ef43dec02ba8-5131c.png 250w,
/static/use-spotlight-to-open-terminal-e468ba22893f1ab88b41ef43dec02ba8-37136.png 500w,
/static/use-spotlight-to-open-terminal-e468ba22893f1ab88b41ef43dec02ba8-7476a.png 1000w,
/static/use-spotlight-to-open-terminal-e468ba22893f1ab88b41ef43dec02ba8-a41db.png 1500w,
/static/use-spotlight-to-open-terminal-e468ba22893f1ab88b41ef43dec02ba8-a8340.png 1584w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Being in &lt;strong&gt;&lt;em&gt;Terminal&lt;/em&gt;&lt;/strong&gt; is like being in a folder that you can tell what to do, without using your mouse.&lt;/p&gt;
&lt;p&gt;You should be able to issue a command like this, to change to your &lt;strong&gt;&lt;em&gt;Downloads&lt;/em&gt;&lt;/strong&gt; directory.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;cd&lt;/span&gt; ~/Downloads/&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/change-directory-to-downloads-a519f66a65331cf8f361891c71aea353-53433.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 69.50672645739911%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAABnklEQVQ4y9WUz0vCYBjHZx6CTkGnt3t0qP8lz5076qFTR6/aoR+H1AQx0FBIBb0oLrXmRN1EzQ1CVJY6/4CoF8vc3p75Y0klJZ368n422LPn87zjhVEUJBQKLTsc5+gqFEY0nUQ36WsUTWbQ0WUMnZ0eI4/Hg1wuF7LZbMhqtSKv9wIFg0EUCASQ3+9H0Wh0nef5FWqaVCq9m8/nhyW+9FSv159FQcDifR1n+QpmGQYXOQ5DDUMNi6KIJUnCnU4Ht9tt3O12H2VZJjRNH+jCWCxmbjWbpHZXI9JDmzQaDSJ3ZSK1WqQn90i//0IURSFzomqXYrF4qAtZlrWMKqo6hECvosJSYamTBnVcHufTs4HWW61WP4S5XM4ymaZMJ+rjof8H3rT3yuXy98LpJmaZir9864ywUqnMF5Jf5h8L4ZTNI5uiDIDhgrxODsWuCzmO2yd/jCAIJ7rQ7XbvFAoFJpvN3i4KwzAZ2FDB5/PtjWR2u90At1VgA9gGthZE69kE1kwm09JI6nQ6DYlEwhiJRBYmHA4b4/G4EX4g2saod8k3LSTS67jbAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Change directory to Downloads&quot;
        title=&quot;&quot;
        src=&quot;/static/change-directory-to-downloads-a519f66a65331cf8f361891c71aea353-7476a.png&quot;
        srcset=&quot;/static/change-directory-to-downloads-a519f66a65331cf8f361891c71aea353-5131c.png 250w,
/static/change-directory-to-downloads-a519f66a65331cf8f361891c71aea353-37136.png 500w,
/static/change-directory-to-downloads-a519f66a65331cf8f361891c71aea353-7476a.png 1000w,
/static/change-directory-to-downloads-a519f66a65331cf8f361891c71aea353-53433.png 1338w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Remember what you did here, because you’ll need to get to use &lt;strong&gt;&lt;em&gt;Terminal&lt;/em&gt;&lt;/strong&gt; to access a directory in this guide.&lt;/p&gt;
&lt;h2&gt;Lab 1 - Sign up for Auth0&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://auth0.com/signup&quot;&gt;Sign up for an Auth0 account&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You can use an existing account, or an existing tenant, but I would recommend a nice clean place to start by signing up a fresh and creating a new tenant from there.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/sign-up-to-auth0-and-create-a-tenant-a7eb18755840491094c882fdf18b35ae-c2288.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 63.17638791286016%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAABq0lEQVQ4y62Sz07CQBDGezIaieLNK/U5PBLjo/gowsVH8eAVjYkRTQyFUGsNlSh/G9Eq3Uq37e6Os6U0BUQvTvLLdndmv3wzW6VyflFoaPXyo9EsG+ZDqdN5KRmGUTJNs2RZVkyr1YqZ7bPI8yfLOm7q+km1Wj1Sbm5vD+Gfot/t3it1/b7IvggDECGerUSIX/NUCnqEXCm1Wq3IOZd7kQRkkUEphfHYhSDygQYUFmsQJutcQqqxYHJRJCwJRlEE1KcoPAHf9yEMw7TNrCCRgpqmFRljgAiJvJwtnjoM0FkAYcQhZFwm0tySoK7rRc/zYDQaCcdxBK6xiyhiqfBk4sPHJwHn04Wx9zUnlqzzDjk6FNNsXCFnmm05xLl5BGdIaTxPyUqH2RnOHmW+ZQEU2xz7ATqdpIJyTCsF2dQhXwSdy+fnrqnx18szHuI+G5naePCu614rjUbj4M8/ljgA9vOfZdjBnVKpVPb7GMPhsId0kzVlMBj07NFbz3Y+ekP8XswnNR3btt/b7fapksvl1vP5fAFRl9lW8zs76tbmhrq1vqb+XBMj7+8hu99cYI+UClqk+wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Sign up to Auth0 and create a new tenant&quot;
        title=&quot;&quot;
        src=&quot;/static/sign-up-to-auth0-and-create-a-tenant-a7eb18755840491094c882fdf18b35ae-7476a.png&quot;
        srcset=&quot;/static/sign-up-to-auth0-and-create-a-tenant-a7eb18755840491094c882fdf18b35ae-5131c.png 250w,
/static/sign-up-to-auth0-and-create-a-tenant-a7eb18755840491094c882fdf18b35ae-37136.png 500w,
/static/sign-up-to-auth0-and-create-a-tenant-a7eb18755840491094c882fdf18b35ae-7476a.png 1000w,
/static/sign-up-to-auth0-and-create-a-tenant-a7eb18755840491094c882fdf18b35ae-a41db.png 1500w,
/static/sign-up-to-auth0-and-create-a-tenant-a7eb18755840491094c882fdf18b35ae-dcd0a.png 2000w,
/static/sign-up-to-auth0-and-create-a-tenant-a7eb18755840491094c882fdf18b35ae-c2288.png 2846w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/tell-us-more-about-you-760e7e79e50132873390c7835db2aff2-c2288.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 63.17638791286016%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACTklEQVQ4y42TXW/SUBiAC5hoiAkwWMugA1rGNh1TZ4x6oVfamP0U/4HGXyC7WbzbBhiX3cB0Ll56bcaNiRfORASJWzvAKAwoFCg95/WcDiZkI1mTJ2/PyenT96NlfuRywnG1stJp1Vda7VYMAGKa1jLp9Xqxcrkcy2azsXw+fy65XC72M59/+XV/fzWTyTxlnj1/sZyIJyGRTMIGYX09QYhDMvkG4vHXIMsKXPQ6kuVvzOWrLsnn4Qz3BKc7nKzudFE4fcI9pdsu2fXNzS2dnNUNwzDjGDpU2FTVT0wgIEqR2QUg4D70HubmF8HnD0E6/dZ8u67rZzLCGA8w6LqhqhnGz4ckQZwDAqaI4XmgzESuA8tNnwprtRq0O13oEjHpLSCEhqWmUKVCnz8o9SVUhkPCLFDo3iTLnwrJYfhTb4LW1anFFJ0rdHu80o2bd+DR42V87/4DHF28DZRbS3fNklOp7ZMMqxX4e1yHqqqNlNyP/4Ve77RE+7UQXcLhmWsjPeS8AUgPhCSxNu1+zyATQmCgMRnyvCD1y8T9PtJ+ApEDy/oh/f4DwO8D+LX1Cqp7H8HAdOR4vHBoKIj0DQ0iGQpiOR6ltt8hwDpSv39B3dIBIg+TNTbjED1zyo3GHh3Kk5Myo+YgaGYUukdL3tnZvfCHrWnaZ8Y7xT8MhSJHpGQlEAzLgeCMEiQIZO2Z9ClraxtKs6kqsnyolIpFpVQqnaFYLB6SX7RSKBR2GZvNdoVhGIEgWq3WESwWi2i320WXyyU6HA7R6XSOQyCECd5/8h+38+cv3WkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Tell us more about you&quot;
        title=&quot;&quot;
        src=&quot;/static/tell-us-more-about-you-760e7e79e50132873390c7835db2aff2-7476a.png&quot;
        srcset=&quot;/static/tell-us-more-about-you-760e7e79e50132873390c7835db2aff2-5131c.png 250w,
/static/tell-us-more-about-you-760e7e79e50132873390c7835db2aff2-37136.png 500w,
/static/tell-us-more-about-you-760e7e79e50132873390c7835db2aff2-7476a.png 1000w,
/static/tell-us-more-about-you-760e7e79e50132873390c7835db2aff2-a41db.png 1500w,
/static/tell-us-more-about-you-760e7e79e50132873390c7835db2aff2-dcd0a.png 2000w,
/static/tell-us-more-about-you-760e7e79e50132873390c7835db2aff2-c2288.png 2846w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;Lab 2 - Create and run an application&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Go to your &lt;a href=&quot;https://manage.auth0.com/#/&quot;&gt;&lt;strong&gt;Auth0 Dashboard&lt;/strong&gt;&lt;/a&gt; and click the ”&lt;a href=&quot;https://manage.auth0.com/#/applications/create&quot;&gt;create a new application&lt;/a&gt;” button.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Name your new application and give it the type “Single Page Web Applications”, and click the “Create” button.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/create-a-new-spa-fa4d7f2faf9c0169718d3ff967815883-c2288.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 63.17638791286016%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAAB1ElEQVQ4y51Sy27TQBT1kkXUSA0LtoHvYFkhPoVPwd3wKZUqtghU4xaJTYG0KXYcEuqkBFK/7fG8LmcmFlKrVi21dHQfMz733DvXeff+w/DL8fHu99Nvuz/mMzeOY3c8HrtBELiTycQNAWMnUWT98FrO2Gg6fT0ajd4cHh29cj563kstJREpQJMSgiTn9JBvPpuNHP/gYKdIU1kXBa/ynNcG8M2nlOKkNRdC8KZpbGygkWsZ43ma8SrLeZllTDJGq+XSc3zP20GCQKZhdedTXddUlSW1UMuNatsF+lDKWhBSkVzau/hH4gL9WiwOrxJuSDeETUOXaU6sbamsGkvKUMQQci4IEu9PiJaJQUGSIg+S5WJJVcPoYvWbBBSnSWpt0RW/W6EhhMIctqwqSpIEBaAUI2hMIcQctryLsJsjgRhvoS24kNS0nFqpECsSpnWQcTOK/yGU5iFARkrSuhb09Q+DK+3jmDm26OBmQqxNjhZwoHBggTX652/iTGVpdiV3DUJhphdx7DuffP+FhHwNRSZ5E3SH286xpHaV1qvVZ+ft/v7z8OwsjoLgHPjZ2fsjDM/DIJhPo2h9enKy5/R6vUf9fn8IPH0oHg8Gw8H29rP+1taTv4Nzf55PDP9iAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Create a new Single Page Application&quot;
        title=&quot;&quot;
        src=&quot;/static/create-a-new-spa-fa4d7f2faf9c0169718d3ff967815883-7476a.png&quot;
        srcset=&quot;/static/create-a-new-spa-fa4d7f2faf9c0169718d3ff967815883-5131c.png 250w,
/static/create-a-new-spa-fa4d7f2faf9c0169718d3ff967815883-37136.png 500w,
/static/create-a-new-spa-fa4d7f2faf9c0169718d3ff967815883-7476a.png 1000w,
/static/create-a-new-spa-fa4d7f2faf9c0169718d3ff967815883-a41db.png 1500w,
/static/create-a-new-spa-fa4d7f2faf9c0169718d3ff967815883-dcd0a.png 2000w,
/static/create-a-new-spa-fa4d7f2faf9c0169718d3ff967815883-c2288.png 2846w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;As your technology, select JavaScript (JS). You can also search for it in the search box.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/select-js-as-our-preferred-technology-b2bcf61e615eb25a0a3a521a6c20cf59-c2288.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 63.17638791286016%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACU0lEQVQ4y51STW/TQBD1gQMSUUgDSFxrfgfHgvgp/BTIhTsHJHqmopfQVqGoCuCoJR9N3SZxEudr4yQ0DiFx7PXa62F2E1AVKEKM9DTjmbdvZ8ejZA4PN0vFYso411Onp+XnRr2eqiMqlUqqVqtJVKtV6Q3DSDWajVSz2VzCNCUX42e6rr/QNO2pksvlnsAV4z4FHnL4HxsOh+dKoVDYiqIoxG8mwJnPwiBgAWI8HjPbttl8Ppc1iCKG3F+ehyFbnaNCcDKZfBSCjziXHUUC1HOBugtgLABnsQDXoxIBdo0iILhhGAJeCCFf5lYNiQ41KSiSPwU9SsHzPEleeD54fiAhYsf1wKVMxrKGMVwRHI1GfxBEMdd1gWNudGlDlwyAWEPo9AjGFljDr9AfDGXOWXhydn8VFGILfGqIT5zjgTDw0LswmTnQ7Vtgf5+Bz/iqa/rvgmJWU4fCfv4bVIwOpN/ugD2ewmw8gyNNg8LZmTzAl3O8XtD3faA4xyjiMJlTeP3hEvLlJmy/fAVTewak0oHdgz149z6zXLN1wXw+vyX+mqhhYQXO8a9yx3H4rPSJO3aPM6/My+cXPHt8zEvFOtd1E9cViUsLhMB0Ov2slEqlx9duKt7eerMNpJYDOtmB3MkJHBxlYT+twV46+xsdG/iiZDKZh320wWBAED3Lkp4Q0idmu0uMdo8YZoc0231SNTqkrJuk1yekYbZIq9OVXMuyuriDdqPR2FVisdjNRCKxiVDXEY/H1XsbCfVOMqEmN26pinIDoWDttppM3l3nP0Dc/wEBs3t7UJhxUQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Select JS as our preferred technology&quot;
        title=&quot;&quot;
        src=&quot;/static/select-js-as-our-preferred-technology-b2bcf61e615eb25a0a3a521a6c20cf59-7476a.png&quot;
        srcset=&quot;/static/select-js-as-our-preferred-technology-b2bcf61e615eb25a0a3a521a6c20cf59-5131c.png 250w,
/static/select-js-as-our-preferred-technology-b2bcf61e615eb25a0a3a521a6c20cf59-37136.png 500w,
/static/select-js-as-our-preferred-technology-b2bcf61e615eb25a0a3a521a6c20cf59-7476a.png 1000w,
/static/select-js-as-our-preferred-technology-b2bcf61e615eb25a0a3a521a6c20cf59-a41db.png 1500w,
/static/select-js-as-our-preferred-technology-b2bcf61e615eb25a0a3a521a6c20cf59-dcd0a.png 2000w,
/static/select-js-as-our-preferred-technology-b2bcf61e615eb25a0a3a521a6c20cf59-c2288.png 2846w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Download the &lt;strong&gt;sample project&lt;/strong&gt; by clicking &lt;strong&gt;&lt;em&gt;DOWNLOAD&lt;/em&gt;&lt;/strong&gt;, it will be named &lt;strong&gt;&lt;em&gt;01-login.zip&lt;/em&gt;&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/download-the-sample-project-400d4c50f597dd3aea1b32608d29538c-c2288.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 63.17638791286016%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAAB5ElEQVQ4y52Sz27aQBDGfewBIS5IvYY+R49p1Ufpg1RqsBKiqO25ap6gd5RT1ZKoEKiIAGOiNlkDBYyNwf/Wu57MLLiiUUSqjvTz7npnPs23u1r17GyveXmpG1dtvdX6UTb6fb2PdDodvdfrKbrdrhoNw9DNgakPBoM119cqF+cH7Xb7uFarvdbw8wq2QsYRSCHhf8KyrCut0Wjsp2kqcM0JyWMukoQnyGw247Ztc8/z1B6kKU+3kELwTV1Egpj7hQRfSKk6SokoDCAKfOCcgx/gPOYKsc5BzRSEEAqqo/WmIVgsFt+UIP3MBMMogjAMVfJyuQTf9yHCfypnXfwQOwRRLIpj8FwHbm9+gT2fw2w6hU3Og7FTMECb1BVZ8lxXzSkym/esPt5hJohV4LRq4LCfEHABMdqONtD5Zuf5qGCMdgkqmk9+g4OWyTYJZSLUody6pL8E6/X6PtmgJ4gbkoJGFJCT6XTNZCLxSfzBcV25DELJE5HVJCTguu5Xrdlsvtxx2PcuI915OavV6rtWrVaf4wu3RqMRQ24ta8jwVtn5xQWrnLxjJ+8/sPJhRaEfHSvKRxX25m2Zffx0SjVsOBzejMdj2zTNz1oul3tSKBT2kBKRz+dLxWKxpGnaP5HVIc+Qp3f0jYEX4rkLwAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Download the Sample Project&quot;
        title=&quot;&quot;
        src=&quot;/static/download-the-sample-project-400d4c50f597dd3aea1b32608d29538c-7476a.png&quot;
        srcset=&quot;/static/download-the-sample-project-400d4c50f597dd3aea1b32608d29538c-5131c.png 250w,
/static/download-the-sample-project-400d4c50f597dd3aea1b32608d29538c-37136.png 500w,
/static/download-the-sample-project-400d4c50f597dd3aea1b32608d29538c-7476a.png 1000w,
/static/download-the-sample-project-400d4c50f597dd3aea1b32608d29538c-a41db.png 1500w,
/static/download-the-sample-project-400d4c50f597dd3aea1b32608d29538c-dcd0a.png 2000w,
/static/download-the-sample-project-400d4c50f597dd3aea1b32608d29538c-c2288.png 2846w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Using &lt;strong&gt;Finder&lt;/strong&gt; (Mac’s standard file browser), find the &lt;strong&gt;sample project&lt;/strong&gt; zip file &lt;strong&gt;&lt;em&gt;01-login.zip&lt;/em&gt;&lt;/strong&gt; in your &lt;strong&gt;&lt;em&gt;Downloads&lt;/em&gt;&lt;/strong&gt; directory, and double click it to extract it.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/unzip-the-sample-project-bdef85137a2ae18e80935bae735306b8-ab7cc.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 68.58573216520651%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAABvUlEQVQ4y62Ry07bQBSGU1B23eeyqioWvEAXDIh96TNkkUWSN4BHqSp1AbwBsIddEKWlm1ZpbJOxYycBJ47t+JaM43OYceoWVRUl0F/65DNz5G/O2Lkcz3nz4hVnezwab2hql7SkDrnuaKTL67ZMyfnVd3J58YlIbZmoVCPtH1JadxRKZEkR601Fvn5zfHSyKny5z5df3o8tG09PzxjtUBjdDMDQuqBSFYz+DchUB1mSOQp0NR1GwxGY5hB6vT6Yt2biOi72ewNrb3evnAoVRTkAAKSUxq7n41XPQ93yMPA5QYBRGGIURej7Pvq8H4YRJ+T9QPRhPp+jbdtutVpdS4WGYewjT8xmLEGEj988+DpkwLceQyLenc1mTr1eXwhVVU2FtuPEYlJzOOYnh2ILxfofpEJ+A7dWqy2EmqalwiRJ4vuSrH4omXA6nf4WZhPyZnxf8BjpX4XZhEL4Xyb8U7hMHrwy/4YMlk/2U5xfQl3XD38emOATwxjzG43GQthqtT7EcYyu63qTySRcksDzPGZZ1qBSqbwWvpVCobBeKpV2+PMpvC0Wi+/K5fJWPp9/mWs2m0L6grP6TFaE6A6KlUz0kQ+SKQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Unzip the Sample Project&quot;
        title=&quot;&quot;
        src=&quot;/static/unzip-the-sample-project-bdef85137a2ae18e80935bae735306b8-7476a.png&quot;
        srcset=&quot;/static/unzip-the-sample-project-bdef85137a2ae18e80935bae735306b8-5131c.png 250w,
/static/unzip-the-sample-project-bdef85137a2ae18e80935bae735306b8-37136.png 500w,
/static/unzip-the-sample-project-bdef85137a2ae18e80935bae735306b8-7476a.png 1000w,
/static/unzip-the-sample-project-bdef85137a2ae18e80935bae735306b8-a41db.png 1500w,
/static/unzip-the-sample-project-bdef85137a2ae18e80935bae735306b8-ab7cc.png 1598w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Tip:&lt;/em&gt;&lt;/strong&gt; If you see text &lt;code class=&quot;language-text&quot;&gt;styled like this&lt;/code&gt; in the guide, it may valuable to know you can copy and paste it to make life easier. Copy and paste is a developers best friend, as it reduces the time of repetitive entry, and it reduces the regularity of typos in what you might be copying (unless you copy a typo!!)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&quot;6&quot;&gt;
&lt;li&gt;
&lt;p&gt;Open &lt;strong&gt;&lt;em&gt;Terminal&lt;/em&gt;&lt;/strong&gt; and change to the &lt;strong&gt;sample project&lt;/strong&gt; directory by typing &lt;code class=&quot;language-text&quot;&gt;cd ~/Downloads/01-login&lt;/code&gt; into terminal and pressing enter.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/change-to-the-sample-project-in-terminal-c3db937b25d8613d3419e3b8ed7ec08b-53433.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 65.32137518684603%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAABmUlEQVQ4y72Rz0sCQRTHNRS8d3L+hrrUP+JB8CIKXhSkDfw7ynuBBiWSqal5aQ/pZuaq4I8VDV3TlF1vYhDNJdPp7eIsYVRK0Be+82bmzfu8gafTgVKJlOn4KIBSySszl+VQ/u4O3WRu0SnLo0DgBCUvEyh0FkL+Qz86PPCjeCyOohdRFIvGUOQ8YmavWVSv1U06qmw2ay/yxVmlUn0VxS5uNpu43W7jYq2J8/l7XCqVMOSxKIq40xGxLMtYlmQsSRIejUYvw8GQpNNpuwaEA9PrPZKG0CADSD71+0SSZNIVO2QymZDxeEyeIX6jubKwLLunAQuFAqNm5vP3GUjdgWbgRcGc0MulO/BUqeU4jtGAPM8zi24z2lFrD/U/GfSuLJlMhvn8w30KpJ/QvASm+0/xdyBZUf8KpEOZwkzUwayhty/AcrnsI39ULpfzacBwOGxrtVoNQRBq4Po6BlUfQMFg0KbCvF6vHsImeAu8C95ZxFVM324rDJfLpVehVqt1w+12GxwOh9HpdBqVuIrpW4/HY7BYLBsK6wOAGtqu7wj3lgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Change to the Sample Project in Terminal&quot;
        title=&quot;&quot;
        src=&quot;/static/change-to-the-sample-project-in-terminal-c3db937b25d8613d3419e3b8ed7ec08b-7476a.png&quot;
        srcset=&quot;/static/change-to-the-sample-project-in-terminal-c3db937b25d8613d3419e3b8ed7ec08b-5131c.png 250w,
/static/change-to-the-sample-project-in-terminal-c3db937b25d8613d3419e3b8ed7ec08b-37136.png 500w,
/static/change-to-the-sample-project-in-terminal-c3db937b25d8613d3419e3b8ed7ec08b-7476a.png 1000w,
/static/change-to-the-sample-project-in-terminal-c3db937b25d8613d3419e3b8ed7ec08b-53433.png 1338w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Run these two commands in your &lt;strong&gt;&lt;em&gt;Terminal&lt;/em&gt;&lt;/strong&gt; window.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Type &lt;code class=&quot;language-text&quot;&gt;npm install&lt;/code&gt; and press enter. It will install some stuff, be patient!&lt;/li&gt;
&lt;li&gt;Type &lt;code class=&quot;language-text&quot;&gt;npm start&lt;/code&gt; and press enter. This will now “run” our &lt;strong&gt;sample project&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/install-and-run-the-sample-project-a54473777fb55350d795e8d3b65193d0-53433.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 65.32137518684603%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACnElEQVQ4y42RTU8TQRjHgbAJd0/sZ9CLfgvAhAMFYggcUMNBSsLNUiR8AkXkUF8KQSmmQDxIwkFMalu3ZctLW9jWQhDSFqEv9HWXdrs78zgz0MUYTPxv/nlmZp/5zfPMNDQQORYWW6aeT/P2xU+tNvs8P2e38+/e2kmc49/YXvMz06/4ly+m+DHLGG+1WPnJiUl+YnyCHx8b5y1PLa00LxwKtzTU5frm7tsMbKLwniTvBMPKhn9D2d7eUfw+P7PwXVC8Hq8iSZIi7UlKNBJljkgRJRqNlmKxGKx+Xu0zgE7nR7MobsHa2lc4PDxkjsfjsB/bh6OfR3BwcADpdBr+FsaYGtOx0+kcNoBW6zOzzTYDHxYW9Gw2h3K5HM5kMjibzeJioYDPzs7w+fk5m8uygkulEi4UisQFXC6XNV3XYWVlxWwA5987zLu7Ipyc/EDHx3GcTCQgmTyB09NTIBuhWCxCtVplvkH6VYXXwPX1LyO5fAESiV8omUzSikiLGaCRVAukClBVlQErlQobX7V7M9Dlco3IsgypVIpUeExaKrONlYsKg5EWIU8OzOfzUCQV09z6HdaBS0tL10Cf4Buhi6peRapWxRqqgYZUqNGIL61j7dKg/fkgN1foE/xmkgJKraxdaLJOUhEzRsgYszlGVa2CdPKRGaIirBoFLi8vXwMDYmCULtY0ldxdCuirsaNJLJcuW6YPk0ql4V9yu92jBtDhcPTs7oXDoijueL3eoMfjCdJIDgoKgmCYrm9uBYKhUMgw0XaEaHZ2tofBhp8MN5Jwi/g28T3iu1fxf1zPvUMZg4ODjQxq6jI1PXr8sNlk6uLud3RwbW1tXHt7O9fd3c11dnYapmu9D3q5gYEBrr+/34hDQ0PN5H8TZf0GRMjAGQ2m+30AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Install and run the Sample Project&quot;
        title=&quot;&quot;
        src=&quot;/static/install-and-run-the-sample-project-a54473777fb55350d795e8d3b65193d0-7476a.png&quot;
        srcset=&quot;/static/install-and-run-the-sample-project-a54473777fb55350d795e8d3b65193d0-5131c.png 250w,
/static/install-and-run-the-sample-project-a54473777fb55350d795e8d3b65193d0-37136.png 500w,
/static/install-and-run-the-sample-project-a54473777fb55350d795e8d3b65193d0-7476a.png 1000w,
/static/install-and-run-the-sample-project-a54473777fb55350d795e8d3b65193d0-53433.png 1338w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Run the &lt;strong&gt;sample project&lt;/strong&gt; in your favourite web browser by going to this url: &lt;code class=&quot;language-text&quot;&gt;http://localhost:3000&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/visit-the-sample-project-in-the-browser-346bbff167513be8ecdc6c80ceaf9334-c2288.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 63.17638791286016%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAABEklEQVQ4y9WTQUuEQBTH59jBg8eu236Ojlv0Ufoo5aWv0l0QJNaLihheRGTTUtlYCHVFZ8Z5PZdhaYNasy794ccM8x4/HjyGGIYx8/1HLYoibbMubun2TUtWsRaG4e5tDHEc3wRBcGdZ1jUxTfOq6zrgjELyWoP3VMOWwaSkaRoQ27YXbdvyuqpouMro0o9pkq1pVZVIRfu+PwrnvB2EZVk+ENd1L4QQgAUhei4AhjsHxhhg49jhdo04gLUXwmBCxKfOoTYCLic8FMocNH+UfpVvhVOW8c+EjuMs5DZxzWISGCaFS+J53iX8UZqmsYmu6+cvmDzPn5FUnj8iy7KkKIoNfsF7oijKiaqqM+Tsl8yR03e4sZJ+enzmVgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Visit the Sample Project in the browser&quot;
        title=&quot;&quot;
        src=&quot;/static/visit-the-sample-project-in-the-browser-346bbff167513be8ecdc6c80ceaf9334-7476a.png&quot;
        srcset=&quot;/static/visit-the-sample-project-in-the-browser-346bbff167513be8ecdc6c80ceaf9334-5131c.png 250w,
/static/visit-the-sample-project-in-the-browser-346bbff167513be8ecdc6c80ceaf9334-37136.png 500w,
/static/visit-the-sample-project-in-the-browser-346bbff167513be8ecdc6c80ceaf9334-7476a.png 1000w,
/static/visit-the-sample-project-in-the-browser-346bbff167513be8ecdc6c80ceaf9334-a41db.png 1500w,
/static/visit-the-sample-project-in-the-browser-346bbff167513be8ecdc6c80ceaf9334-dcd0a.png 2000w,
/static/visit-the-sample-project-in-the-browser-346bbff167513be8ecdc6c80ceaf9334-c2288.png 2846w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Note:&lt;/em&gt;&lt;/strong&gt; If you try and log in on the &lt;strong&gt;sample project&lt;/strong&gt;, you’ll get an error.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Lab 2 - Test&lt;/h2&gt;
&lt;p&gt;The Log In button is broken you need to fix it.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Note:&lt;/em&gt;&lt;/strong&gt; The &lt;strong&gt;sample project&lt;/strong&gt;’s source code is pre-configured with your application settings from the forms you filled out. So what you’re looking for is in your Auth0 application config.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Lab 3 - Customize Lock’s look and feel&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Go to your &lt;a href=&quot;https://manage.auth0.com/#/&quot;&gt;&lt;strong&gt;Auth0 Dashboard&lt;/strong&gt;&lt;/a&gt; and open up &lt;strong&gt;Hosted Pages&lt;/strong&gt; from the main menu.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/open-hosted-pages-35c576e9541e0d2cc0eb9eadfbd91b08-c2288.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 63.17638791286016%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAAB80lEQVQ4y52Ty27TUBCGvWSRRS4s2DY8B0uEeJQ+CumGl0AIFUJK11FZIKJCSRpCSIpjFsRt7pCQ+HLGPhn+ObjBaQEhRvo054zP/P7PyLaqRy93mqene90P7/c+9ezS+cVFqdPpGHq9XslxnJJt25t1D1xm2/lsnmH/oNVqPazVarvW8fGb+5yKNSmOKOL/iX6/37YajcZdrXWMPRliIt/zyPN8Wi6XtFqtyPMDCsOQQqVIRTFFUURTj6g7CynpC0VwPB6/sur1ugjyOgki4iAIDIvFgiHKBMd4ZNBJDiLN35S+rIshHo1GNSMoRbmt4Ps+ww3DBX+dzXgGwjBgeZFSIcOeEd2MaM1/FxRnuC6LawVnFMccKOIIWWrJbTZwyuF0Or0uKO5CiEqjuBVHwnakBPmXQ4zouqCCmAp8czCGqzjl7Cr/JOjB1Wrl/RREk8xO5hkl4umXpK6+LSgHUNSoacxQ47PRskddY2HWv0MiyWYm8/n8tdVsNu/96UO1HYc/ds4M7XTunnGz1Yaj71vn8c2eWNVq9c45YjAYuKAveTgcuhIHLw7dcrnilg8O3WfPK+4+1vvIT8Gjx0/ctyfv3Mlk4qL9C3pm+D0rViaTuZHNZndA8So5kC/ki4VCoXgTZPO5Yi4HUMthnTor/bfBrR9emYXYsQENngAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Open Hosted Pages&quot;
        title=&quot;&quot;
        src=&quot;/static/open-hosted-pages-35c576e9541e0d2cc0eb9eadfbd91b08-7476a.png&quot;
        srcset=&quot;/static/open-hosted-pages-35c576e9541e0d2cc0eb9eadfbd91b08-5131c.png 250w,
/static/open-hosted-pages-35c576e9541e0d2cc0eb9eadfbd91b08-37136.png 500w,
/static/open-hosted-pages-35c576e9541e0d2cc0eb9eadfbd91b08-7476a.png 1000w,
/static/open-hosted-pages-35c576e9541e0d2cc0eb9eadfbd91b08-a41db.png 1500w,
/static/open-hosted-pages-35c576e9541e0d2cc0eb9eadfbd91b08-dcd0a.png 2000w,
/static/open-hosted-pages-35c576e9541e0d2cc0eb9eadfbd91b08-c2288.png 2846w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Enable &lt;strong&gt;&lt;em&gt;Custom Login Page&lt;/em&gt;&lt;/strong&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Tip:&lt;/em&gt;&lt;/strong&gt; You can search for text on a web page using &lt;strong&gt;Command+F&lt;/strong&gt; and typing (or pasting) the text you’re looking for. Try text that is more likely to be unique!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Lab 3 - Test&lt;/h2&gt;
&lt;p&gt;Once you’ve enabled &lt;strong&gt;&lt;em&gt;Custom Login Page&lt;/em&gt;&lt;/strong&gt;, you’ll see the code editor become available below. Don’t be afraid! In this section, you’ll find some code that can be &lt;strong&gt;&lt;em&gt;uncommented&lt;/em&gt;&lt;/strong&gt; out. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Tip:&lt;/em&gt;&lt;/strong&gt; Commented out code is ignored when the code is run on the server. It begins with &lt;code class=&quot;language-text&quot;&gt;//&lt;/code&gt; and it will be grey in appearance compared to the colourful highlighting of the rest of the code.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;You need to find, uncomment (enable) and edit the &lt;code class=&quot;language-text&quot;&gt;theme&lt;/code&gt;’s &lt;code class=&quot;language-text&quot;&gt;logo&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;primaryColor&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Please update the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;code class=&quot;language-text&quot;&gt;logo&lt;/code&gt;’s value to &lt;code class=&quot;language-text&quot;&gt;https://cdn.auth0.com/website/oof/oof.png&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;The &lt;code class=&quot;language-text&quot;&gt;primaryColor&lt;/code&gt;’s value to &lt;code class=&quot;language-text&quot;&gt;black&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Click save once you’ve made your changes.&lt;/p&gt;
&lt;p&gt;Test your &lt;strong&gt;sample project&lt;/strong&gt;’s login. It should look something like this.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/customized-auth0-lock-2c56a53402e662e2264bafb66e0375c8-c2288.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 63.17638791286016%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAADA0lEQVQ4y41SS08TYRSd1o1/QCUg1BZope+W6Xumr+mLQlGDW+Pa30BiokYTIRFCXGEwBDEgLyUx6kLdoBAVjQsMVUJiZFywIFGQh0NnjvebgnFpk9Mvud/9zj3n3OHK5bJ5Y2Ojd3d3p3dra7MH0NjZu7P9q3dvb/e/oCi/b25u/uyX5bVLXHf35bbh4XsYHR0DO0dG7tM5ivEHU5iefoTJyYeEmSqmHmLqAKw+QbWJiWmMjU9iZmYWff0Dn7hjx+uyJ+ubKiaTTTFb7Epjk1Ox2twEj2I77VWcTl7x+SI6XK6AYrf79btmq1tpol72xnTKttfQYEVtneUV19LiyfF8DKFwXItEU1pMkBCP55BI5CFJRVI1g2vXruPChYt48vQZrly9AT4gIp1ugyhmEYtJiESSlXAkCZ8vvMCdbnEfECaIMK0JYgaJZB7JVBuy2RLevlnA8tIHzM+9xNaPdQwM3EYrLyCT6dAHVwlTOqGXEdrt3lwwKIKpE4SMxsjSUjskelDq6MLj5+8wX97H/PJvLH4FevruMEXI5c8gRUMZaTQmVaKxNPytUSJ0eHOhUBxRUifGsxprYtOzuU50ls7jxdxHvF/dx+ulTXxZB24NDOmqCm3nyHZRd0NCKqzWyseqhEEiZHZFMaMlkwXKrl23Wyx24XN5GfQpQVW2wX6Dg0MIh1MoFM5WCSlryv2AkBSypQQCAigDjaRrzAJTyZrzZGtlZZXogK1fh4R3wfMiOShV1VHmFFeFAJ+fMrTZXFnaDm1OUGkxKllXqUmlySqRq5KUUYvFoloqldRCPq8mkhm9zkDKVFqISpHtB2gPHk9wnmu2OvIHW/4Lss9yYVZgMjWjttaE+vpGnKiph8PhR5xs0mC2XYRCCbD3JAhOF7/Imc1WMRgUvguiJAcCsTWH0y+7PQHZ4w3KpFwOhxMy2ZFps3KUTopH9npD+r3LzctOZ6tsd/i+UXQbJG6W4zjDUfozEywMRuMRi8FgtBiMBIPBclj/F0b9rgojQ7W3kVDzB/CB8oYAe4E/AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Customized Auth0 Lock&quot;
        title=&quot;&quot;
        src=&quot;/static/customized-auth0-lock-2c56a53402e662e2264bafb66e0375c8-7476a.png&quot;
        srcset=&quot;/static/customized-auth0-lock-2c56a53402e662e2264bafb66e0375c8-5131c.png 250w,
/static/customized-auth0-lock-2c56a53402e662e2264bafb66e0375c8-37136.png 500w,
/static/customized-auth0-lock-2c56a53402e662e2264bafb66e0375c8-7476a.png 1000w,
/static/customized-auth0-lock-2c56a53402e662e2264bafb66e0375c8-a41db.png 1500w,
/static/customized-auth0-lock-2c56a53402e662e2264bafb66e0375c8-dcd0a.png 2000w,
/static/customized-auth0-lock-2c56a53402e662e2264bafb66e0375c8-c2288.png 2846w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;Lab 4 - Enable Facebook login&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Go to your &lt;a href=&quot;https://manage.auth0.com/#/&quot;&gt;&lt;strong&gt;Auth0 Dashboard&lt;/strong&gt;&lt;/a&gt; and open up &lt;strong&gt;Connections&lt;/strong&gt; -&gt; &lt;strong&gt;Social&lt;/strong&gt; from the main menu.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Lab 4 - Test&lt;/h2&gt;
&lt;p&gt;Now enable &lt;strong&gt;Facebook&lt;/strong&gt; login.&lt;/p&gt;
&lt;p&gt;Test your &lt;strong&gt;sample project&lt;/strong&gt;’s login. It should look something like this.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/enabled-facebook-social-login-b63efe1944722cba71b83929a26a3acb-9c26e.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 63.085399449035805%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAADBklEQVQ4y6WSy08TURTGZ4eRhQuiJqAIbWnpiz7oa9rpa1pgCmjahe504T8gcQWyYCUhYRBBTED6pBAS3bhSEmNcyQIiRhbG1JDIik4wAYS2ZOjM8dzbjXtv8mXu3HvnO7/v3GFKpZL2+OhopnZeFau1igigimdnp1TVakU8x/VajYjMa3ReqZzRPaIaUa06/efkZL5cPnjMjI6ODy8v5yCdzTeUzsNyOgeZTAEKhTX6nsmuQC6/CulMHrK5FVxfxfcinedyRXqmuLoOoji7z1y91jbQdkOrtrfr5Y7OblmjNctdequsN9hkQ7ddjseHZJ5PyKw/IicSSdnrC8s6nYXuk2enxiTf6jCc32zXQ2ub5itjNNkFl5sDPKj6/VGV4+IQCvdDODIAUT4B795vwNLiEow8GoHt7W2YnJyGXhcHPD8IwVAfBLgYsGyk7mMj4Oxldxmj0YaGAWrI+nmVC8YhEhEgGk1ALD4Mm5834fdhGfZ/7UFdrmKs5+ByByGOe6RwwzBKDR1ONDSZ7YLHGwK2QacSMj42hBqGVPIevHj1BuaKW7CwtgXZtz9gfEKEIJr099+hRalpIFb3B3gkD+wyZotDQDrwIx1GUMkhUr0PP0gl70Jm/SMUPhxBduMQXm9ewMTTBQhhCkFI0dgEAEHqaIrkHBqa0RAJqWGwTyVxY0hICBKJFOx82QGAC6icHgMZ83MvMU0MDZMNw/AAiY2ExBAJjSab4PYEAXug4qIaCvXTKOQwMS393IN/x+JiBlyuICa43aBDWux9HVvWuBRDd4+AzSS4CkZXkFTBQwpWphobe6LMzIjK1NSUMjv7TLn/4KHCsryCZgqS4TyqYMILAmW3e78xeoNlEJsJHk8IyOWQfpJqAfx9yA22tFyH5uYr9NnUdBl0XWYkE0iLyO2C1xtGYo7K2uP+zmi0hqjHyx1ywZiEPShbrL2Sze6R7A6v5HSyElaXfL5w48lGJLebkxwOH93vsbklq9UlmS3OA/yfT/QG6ycGxyWUBqX9D5HvdajWvxiS8rZkS7iiAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Enabled Facebook social login&quot;
        title=&quot;&quot;
        src=&quot;/static/enabled-facebook-social-login-b63efe1944722cba71b83929a26a3acb-7476a.png&quot;
        srcset=&quot;/static/enabled-facebook-social-login-b63efe1944722cba71b83929a26a3acb-5131c.png 250w,
/static/enabled-facebook-social-login-b63efe1944722cba71b83929a26a3acb-37136.png 500w,
/static/enabled-facebook-social-login-b63efe1944722cba71b83929a26a3acb-7476a.png 1000w,
/static/enabled-facebook-social-login-b63efe1944722cba71b83929a26a3acb-a41db.png 1500w,
/static/enabled-facebook-social-login-b63efe1944722cba71b83929a26a3acb-dcd0a.png 2000w,
/static/enabled-facebook-social-login-b63efe1944722cba71b83929a26a3acb-9c26e.png 2904w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;Lab 5 - Enable Multifactor Auth with Guardian&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Go to your &lt;a href=&quot;https://manage.auth0.com/#/&quot;&gt;&lt;strong&gt;Auth0 Dashboard&lt;/strong&gt;&lt;/a&gt; and open up &lt;strong&gt;Multifactor Auth&lt;/strong&gt; from the main menu.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Enable &lt;strong&gt;Push&lt;/strong&gt; and &lt;strong&gt;SMS&lt;/strong&gt; multifactor authentication.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Lab 5 - Test&lt;/h2&gt;
&lt;p&gt;Instead of just logging in, sign up using a username and password on your &lt;strong&gt;sample project&lt;/strong&gt;. You should spot multifactor is working when you come across this.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/enabled-multifactor-authentication-b8b868d7213d19c0641753807977bbc0-9c26e.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 63.085399449035805%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACOUlEQVQ4y6WSy2sTURTGZ+nexjy0bZJJ85jMpE21WnQRCkUTEfe6kW78A9wVFWUoddFJfRSkMQltommtFQUX3RSq1EVcCKKLYrsRV3EQCZrmNcnk89zbFBLoxnrhx7nnnnM/vrlnhJ2dbbFYLMZr9apWKv3R6vWaVqmUtXJ5V6tWK12wWqNhaIZR1xpt2L7ZMGbo7qNCoXBDmJy8dSmZWkAyvYBEKo35+RQnkUgjlVpEKr1HOp1BJvMM2adLyGRzyGaXOGyfyeSQy61A0+5/F3osxy/Y7K4WYdgZDoabR3ZmsfYZRy29Rk8by7E+w2p3GlZbFzWbwwWb3flJ8HrlaGjwNIhWG+yjhEZw9twYxsdjiMUuIxI5jzOjEX7e2Uc0h8KjkJVTXwTRE4gG5ZMgWkF5uNXesyI8AwoWEwl8/fAeD6buYP3NK0yrUxA9Mq/v90rB4aasjCAghbsFqdAlyC6+frGKZqmIb9tb2P2lI5lIwukOQDmMoNcXwvLyKjY381hbW0c+/5EPzC1K/+6Q4Q8McYHZ2cdQ1RnMzT1BPP6QnuKQn8ycbGy8A1ulSo3H5ysv0e/088EcLCgGonTACiZFDg3HZLnPP2hOTFw3VXXavHlbNe+q98wrV6+Z9BRmZz/RYAZI8DM5lC6y5EDIhVsM4kTvAPr6fTyyQTF3nX1Bgv0+JLwlOF3eMZ8/9JPc6BR/EPoePNclKayTY52aeSQXXfU2Bcp/e33KW4HWEcJNiP8Bu+8hHH8BGj3MCYG8QpAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Enabled multifactor authentication&quot;
        title=&quot;&quot;
        src=&quot;/static/enabled-multifactor-authentication-b8b868d7213d19c0641753807977bbc0-7476a.png&quot;
        srcset=&quot;/static/enabled-multifactor-authentication-b8b868d7213d19c0641753807977bbc0-5131c.png 250w,
/static/enabled-multifactor-authentication-b8b868d7213d19c0641753807977bbc0-37136.png 500w,
/static/enabled-multifactor-authentication-b8b868d7213d19c0641753807977bbc0-7476a.png 1000w,
/static/enabled-multifactor-authentication-b8b868d7213d19c0641753807977bbc0-a41db.png 1500w,
/static/enabled-multifactor-authentication-b8b868d7213d19c0641753807977bbc0-dcd0a.png 2000w,
/static/enabled-multifactor-authentication-b8b868d7213d19c0641753807977bbc0-9c26e.png 2904w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;Lab 6 - Restrict sign up to your domain&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Go to your &lt;a href=&quot;https://manage.auth0.com/#/&quot;&gt;&lt;strong&gt;Auth0 Dashboard&lt;/strong&gt;&lt;/a&gt; and open up &lt;strong&gt;Rules&lt;/strong&gt; from the main menu.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click on &lt;strong&gt;CREATE RULE&lt;/strong&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Find the template rule &lt;code class=&quot;language-text&quot;&gt;Email domain whitelist&lt;/code&gt; under the access control section and select it.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Edit the &lt;code class=&quot;language-text&quot;&gt;whitelist&lt;/code&gt; to only accept your email domain. e.g. &lt;strong&gt;@gmail.com&lt;/strong&gt; or &lt;strong&gt;@auth0.com&lt;/strong&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Lab 6 - Test&lt;/h2&gt;
&lt;p&gt;Try and sign up with an email address not inside the domain you just limited it to. You should get a nice error!&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;By now you should be a pro! Right?&lt;/p&gt;
&lt;p&gt;If you’ve got this far and you’ve skipped some labs, or struggled to even get started; don’t be disheartened or dismayed. This is a programming guide for people who are not programmers. Use our comments section below to get in touch with any questions you might have.&lt;/p&gt;
&lt;p&gt;The Auth0 features and products we’ve covered are:&lt;/p&gt;
&lt;h3&gt;Auth0’s Universal Login&lt;/h3&gt;
&lt;p&gt;Using &lt;a href=&quot;https://auth0.com/docs/libraries/auth0js&quot;&gt;Auth0’s Auth0.js SDK&lt;/a&gt; in your &lt;strong&gt;sample project&lt;/strong&gt; you’ve quickly got a web page that you can login to using &lt;a href=&quot;https://auth0.com/docs/hosted-pages/login&quot;&gt;Auth0’s Universal Login&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Auth0’s Universal Login is the most secure way to easily authenticate users for your applications. The login page appearance and behavior is easily customizable right from the &lt;a href=&quot;https://manage.auth0.com/&quot;&gt;Auth0 Dashboard&lt;/a&gt;. By default, the login page uses &lt;a href=&quot;https://auth0.com/docs/libraries/lock&quot;&gt;Auth0’s Lock Widget&lt;/a&gt; to authenticate your users, but the code of the login page can be customized to replace Lock with the &lt;a href=&quot;https://auth0.com/docs/connections/passwordless&quot;&gt;Lock Passwordless widget&lt;/a&gt;, or an entirely custom UI can be built in its place, using &lt;a href=&quot;https://auth0.com/docs/libraries/auth0js/v9&quot;&gt;Auth0’s Auth0.js SDK&lt;/a&gt; for authentication.&lt;/p&gt;
&lt;h3&gt;Auth0’s Customizable Hosted Pages&lt;/h3&gt;
&lt;p&gt;We used &lt;a href=&quot;https://auth0.com/docs/hosted-pages#customize-your-hosted-page&quot;&gt;Auth0’s Customizable Hosted Pages&lt;/a&gt; to brand our login and sign up form.&lt;/p&gt;
&lt;p&gt;Auth0 offers you the ability to display customized pages containing Auth0-related functionality and to which Auth0 redirects your users during the authorization process.&lt;/p&gt;
&lt;h3&gt;Identity Providers&lt;/h3&gt;
&lt;p&gt;Using &lt;a href=&quot;https://auth0.com/docs/identityproviders&quot;&gt;Auth0’s support for Identity Providers&lt;/a&gt;, we setup Facebook as a &lt;strong&gt;Social Provider&lt;/strong&gt; to authenticate users.&lt;/p&gt;
&lt;p&gt;An Identity Provider is a service that can provide identity information for you. For example, Google is an Identity Provider. If you log in to a site using your Google account, then a Google server will send your identity information to that site.&lt;/p&gt;
&lt;p&gt;Auth0 sits between your app and the Identity Provider that authenticates your users as an &lt;strong&gt;identity hub&lt;/strong&gt;. This adds a level of abstraction so your app and your data can be isolated from any changes to and idiosyncrasies of each provider.&lt;/p&gt;
&lt;h3&gt;Multifactor Authentication (MFA) with Auth0’s Guardian&lt;/h3&gt;
&lt;p&gt;We setup &lt;a href=&quot;https://auth0.com/docs/multifactor-authentication/guardian&quot;&gt;MFA with Auth0’s Guardian solution&lt;/a&gt; to provide a simple and secure way to implement MFA.&lt;/p&gt;
&lt;p&gt;When using Guardian with Auth0, users will be prompted for additional authentication from the Guardian mobile application, helping to provide a more secure login.&lt;/p&gt;
&lt;p&gt;MFA is a method of verifying a user’s identity by requiring them to present more than one piece of identifying information. This method provides an additional layer of security, decreasing the likelihood of unauthorized access.&lt;/p&gt;
&lt;h3&gt;Auth0 Rules&lt;/h3&gt;
&lt;p&gt;We’ve used an &lt;a href=&quot;https://auth0.com/docs/rules/current&quot;&gt;Auth0 Rule&lt;/a&gt; to restrict sign up to users only from the same domain as you.&lt;/p&gt;
&lt;p&gt;Rules are functions written in JavaScript that are executed when a user authenticates to your application. They run once the authentication process is complete and you can use them to customize and extend Auth0’s capabilities. They can be chained together for modular coding and can be turned on and off individually.&lt;/p&gt;
&lt;h2&gt;About Auth0&lt;/h2&gt;
&lt;p&gt;Auth0, a global leader in Identity-as-a-Service (IDaaS), provides thousands of enterprise customers with a Universal Identity Platform for their web, mobile, IoT, and internal applications. Its extensible platform seamlessly authenticates and secures more than 1.5B logins per month, making it loved by developers and trusted by global enterprises. The company’s U.S. headquarters in Bellevue, WA, and additional offices in Buenos Aires, London, Tokyo, and Sydney, support its customers that are located in 70+ countries.&lt;/p&gt;
&lt;p&gt;For more information, visit &lt;a href=&quot;https://auth0.com/&quot;&gt;https://auth0.com&lt;/a&gt; or follow &lt;a href=&quot;https://twitter.com/auth0&quot;&gt;@auth0 on Twitter&lt;/a&gt;.&lt;/p&gt;
&lt;div style=&quot;margin: 1000px 0; display: block; text-transform: uppercase; text-align: center;&quot;&gt;~ Keep scrolling for answers ~&lt;/div&gt;
&lt;h2&gt;Lab Answers&lt;/h2&gt;
&lt;h3&gt;Lab 2&lt;/h3&gt;
&lt;p&gt;The callback url is missing from your application config. Head to the settings tab of the &lt;code class=&quot;language-text&quot;&gt;Hello World Demo&lt;/code&gt; application we created on the Auth0 dashboard. Look for somewhere to set a callback URL to &lt;code class=&quot;language-text&quot;&gt;http://localhost:3000&lt;/code&gt; and click save when you’re done.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Note:&lt;/em&gt;&lt;/strong&gt; A callback URL is a URL in your application where Auth0 redirects the user after they have authenticated. The callback page is usually prepared to read and validate your authentication on your return.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Lab 3&lt;/h3&gt;
&lt;p&gt;Search the &lt;strong&gt;&lt;em&gt;Custom Login Page&lt;/em&gt;&lt;/strong&gt; code for this code:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;      theme&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;//logo:            &apos;YOUR LOGO HERE&apos;,&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;//primaryColor:    &apos;green&apos;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Replace it with this code:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;      theme&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        logo&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;            &lt;span class=&quot;token string&quot;&gt;&apos;https://cdn.auth0.com/website/oof/oof.png&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        primaryColor&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;token string&quot;&gt;&apos;black&apos;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Lab 4&lt;/h3&gt;
&lt;p&gt;You need to find the Facebook login switch and turn it on. At this stage you don’t need to provide any further information or configuration, just save the default settings and ensure the switch is enabled.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Note:&lt;/em&gt;&lt;/strong&gt; This isn’t advisable for production environments, that would need to configure their Facebook login with their own development keys and configuration.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Lab 5&lt;/h3&gt;
&lt;p&gt;You need to use a username and password for signup. Multifactor authentication won’t work if you try and sign up with a social login (Facebook or Google are probably enabled by now).&lt;/p&gt;
&lt;p&gt;Make sure you’re signing up on your &lt;strong&gt;sample project&lt;/strong&gt; as well, not just logging in.&lt;/p&gt;
&lt;p&gt;Head to &lt;code class=&quot;language-text&quot;&gt;http://localhost:3000/&lt;/code&gt; in your favourite browser and click on our &lt;strong&gt;&lt;em&gt;Log In&lt;/em&gt;&lt;/strong&gt; button. When you’re at the Auth0 login page, select the &lt;strong&gt;Sign Up&lt;/strong&gt; tab instead.&lt;/p&gt;
&lt;h3&gt;Lab 6&lt;/h3&gt;
&lt;p&gt;Search the &lt;strong&gt;Edit Rule&lt;/strong&gt; page after you’ve clicked on &lt;code class=&quot;language-text&quot;&gt;Email domain whitelist&lt;/code&gt; for this code:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; whitelist &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;example.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;example.org&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//authorized domains&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Replace it with this code:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Tip:&lt;/em&gt;&lt;/strong&gt; Make sure to change &lt;code class=&quot;language-text&quot;&gt;gmail.com&lt;/code&gt; to the domain of your email address. e.g. if your email is &lt;strong&gt;joe.bloggs@gmail.com&lt;/strong&gt; your domain is &lt;strong&gt;gmail.com&lt;/strong&gt;, but if your email is &lt;strong&gt;luke.oliff@auth0.com&lt;/strong&gt; your domain is &lt;strong&gt;auth0.com&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; whitelist &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//authorized domains&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;div style=&quot;margin: 20px 0; display: block; text-transform: uppercase; text-align: center;&quot;&gt;~ EOF ~&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Common Threats in Web Application Security]]></title><description><![CDATA[TL;DR:  In this article we’ll attempt to cover a comprehensive security strategy for web applications to protect against common threats in…]]></description><link>https://lukeoliff.com/common-threats-in-web-app-security/</link><guid isPermaLink="false">https://lukeoliff.com/common-threats-in-web-app-security/</guid><content:encoded>&lt;p&gt;&lt;strong&gt;TL;DR:&lt;/strong&gt; In this article we’ll attempt to cover a comprehensive security strategy for web applications to protect against common threats in web application security and mitigate their impact.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;This post is original content developed by me for the &lt;a href=&quot;https://auth0.com/blog&quot;&gt;Auth0’s blog&lt;/a&gt; and has been re-posted here as part of an online portfolio with permission. Relevant attribution and canonical links exist. &lt;a href=&quot;https://auth0.com/blog/common-threats-in-web-app-security/&quot;&gt;Click here to see the original&lt;/a&gt;.&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;Introduction&lt;/h2&gt;
&lt;p&gt;Whether you manage your own infrastructure or not, having robust infrastructure security is great. But it becomes a bit redundant if your client’s data is just as exposed through your web applications. Having infrastructure security is important, but there are considerations for front and backend developers that &lt;em&gt;must be considered&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;In this era of modern web technology, security should not be a band-aid or an after-thought. It should be at the very foundation of planning, managing and building your web applications. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;But it doesn’t stop there.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Web application security is an ongoing and ever-changing climate you &lt;strong&gt;do not&lt;/strong&gt; want to be caught short.&lt;/p&gt;
&lt;p&gt;You must continuously monitor, and work, to ensure that your company doesn’t become &lt;a href=&quot;http://breachlevelindex.com/top-data-breaches&quot;&gt;another statistic in the world of security breaches&lt;/a&gt;. Regardless of programming language or framework, there are plenty of generic security practices you could follow from the very start of any project.&lt;/p&gt;
&lt;p&gt;In this article I’ll introduce you to my biggest tips for top to bottom (Front end to Back end) security for your web applications.&lt;/p&gt;
&lt;h2&gt;HTTP Strict Transport Security (HSTS) header&lt;/h2&gt;
&lt;p&gt;HSTS is a header you can provide the browser that enforces HTTPS across your entire web application. &lt;/p&gt;
&lt;p&gt;There is no excuse these days to land on a website that isn’t encrypting the communication between your web browser and their servers. While SSL certificates used to be a marketing tool for corporations to prove how safe they were, these days SSL certificates are both &lt;strong&gt;free&lt;/strong&gt; and &lt;strong&gt;easy to get&lt;/strong&gt;. Certificate authorities like &lt;a href=&quot;https://letsencrypt.org&quot;&gt;Let’s Encrypt&lt;/a&gt; have the backing of &lt;a href=&quot;https://letsencrypt.org/sponsors/&quot;&gt;some of the world’s best known companies&lt;/a&gt;, because &lt;strong&gt;a secure internet is better for everyone!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Simply owning an SSL certificate will not make your web application secure. You need to tell your application how to force traffic through it. Some websites do this with a HTTP redirect, but providing as HSTS header is just as effective, without that overhead.&lt;/p&gt;
&lt;p&gt;Here are some examples of a HSTS header.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Strict-Transport-Security: max-age=630720; includeSubDomains; preload&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;em&gt;To see if it’s set on a site with a CURL request:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; -s -D- https://paypal.com &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;grep&lt;/span&gt; Strict-Transport-Security&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;em&gt;And to set it in Node.js response:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;requestHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setHeader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Strict-Transport-Security&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;max-age=630720; includeSubDomains; preload&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;“If a website accepts a connection through HTTP and redirects to HTTPS, visitors may initially communicate with the non-encrypted version of the site before being redirected, if, for example, the visitor types &lt;a href=&quot;http://www.foo.com/&quot;&gt;http://www.foo.com/&lt;/a&gt; or even just &lt;a href=&quot;http://foo.com/&quot;&gt;foo.com&lt;/a&gt;. This creates an opportunity for a man-in-the-middle attack. The redirect could be exploited to direct visitors to a malicious site instead of the secure version of the original site.” – &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security&quot;&gt;developer.mozilla.org&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In this example of a HSTS header, we have three &lt;em&gt;directives&lt;/em&gt;.  &lt;code class=&quot;language-text&quot;&gt;max-age&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;includeSubDomains&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;preload&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;max-age=&amp;lt;expire-time&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The time, in seconds, that the browser should remember that a site is only to be accessed using HTTPS. This means that the browser will automatically use HTTPS to access the site for as long as &lt;code class=&quot;language-text&quot;&gt;max-age&lt;/code&gt; has not expired.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;includeSubDomains&lt;/code&gt; &lt;em&gt;Optional&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;If this optional parameter is specified, this rule applies to all of the site’s subdomains as well.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;preload&lt;/code&gt; &lt;em&gt;Optional&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Google maintains &lt;a href=&quot;https://hstspreload.appspot.com/&quot;&gt;a HSTS preload service&lt;/a&gt;. Most modern browsers support (or intend to support) this service and if your site is registered, it will never contact the service through insecure HTTP requests. It will assume the site uses HTTPS before it ever connects.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; If you start to use HSTS and your site has not been setup with HTTPS certificates then your site would become unreachable.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/strict-transport-security-browser-compatibility-table-48250715a1d7c7c745352d2f61e01f78-c262f.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 58.08333333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABp0lEQVQoz21STW7TQBT2PegBgug5eocuWFYJZwCJU7SiibKoWLOCxBZ0U7WqIAndpF10EYwUCcf2jN84jj0eZ2LzeawE0fTTZ+ubmffevJ+x8uew3kNRFPtm1pO1UkpKOZ/PXdf9vcVsNmOM7ftbska2Y5al+AshYB3VIHycsziO81ymBlvLzMKntd4YQChVlGUJzTlH1KqqoNdrXRkkSYIojQFyrJ1RkjaAMInv0lOgyVbBR8p6J01xrWxE7YxITWAIvQUskDBuwCGE53lNzkEQoBaECQL/P2fAlCRVrgQJ3/chkE4QhP7C9/54gijiEfYRIgzDf86lQbJMlnEcoVuMi4hiIlSJjlFEnHEcxSJmIbrJiMharVIiwaNolWUI8XZ6dTA8O/zabzm9l/Z5y+m2vvVbw3PoV3b3xeD0/fXgw+3lkXNxP53WNzeDISF0lvceJ8c3n06+f+5M7M5o2B7b7Z9OZ2yDb8b269GXj9Mfg4e7d5NL95drobnw9AwWi0XKqWBU0LLCdJ5wU3Oz1mClS0zBal5VsQUWsmaOvj3LzLyq1MztL5hsk9aJPl+mAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;HSTS browser compatibility table&quot;
        title=&quot;&quot;
        src=&quot;/static/strict-transport-security-browser-compatibility-table-48250715a1d7c7c745352d2f61e01f78-7476a.png&quot;
        srcset=&quot;/static/strict-transport-security-browser-compatibility-table-48250715a1d7c7c745352d2f61e01f78-5131c.png 250w,
/static/strict-transport-security-browser-compatibility-table-48250715a1d7c7c745352d2f61e01f78-37136.png 500w,
/static/strict-transport-security-browser-compatibility-table-48250715a1d7c7c745352d2f61e01f78-7476a.png 1000w,
/static/strict-transport-security-browser-compatibility-table-48250715a1d7c7c745352d2f61e01f78-a41db.png 1500w,
/static/strict-transport-security-browser-compatibility-table-48250715a1d7c7c745352d2f61e01f78-dcd0a.png 2000w,
/static/strict-transport-security-browser-compatibility-table-48250715a1d7c7c745352d2f61e01f78-c262f.png 2400w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;X-XSS-Protection header&lt;/h2&gt;
&lt;p&gt;XSS (Cross Site Scripting) is the most common of all web application attacks.&lt;/p&gt;
&lt;p&gt;XSS occurs when malicious scripts are injected into otherwise trusted web applications. Most modern browsers come prepared to protect against XSS. We can ensure this is enabled by sending the &lt;code class=&quot;language-text&quot;&gt;X-XSS-Protection&lt;/code&gt; header.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;code class=&quot;language-text&quot;&gt;X-XSS-Protection&lt;/code&gt; header is not available in Firefox and has been rendered entirely redundant by the Content Security Policy header, which we detail below.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Here are some examples of an &lt;code class=&quot;language-text&quot;&gt;X-XSS-Protection&lt;/code&gt; header.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;X-XSS-Protection: 1; mode=block&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;em&gt;And to set it in Node.js response:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;requestHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setHeader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;X-XSS-Protection&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;1; mode=block&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;In this example of a XSS header, we have three &lt;em&gt;directives&lt;/em&gt;.  &lt;code class=&quot;language-text&quot;&gt;1&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;mode&lt;/code&gt;. Also one missing one,&lt;code class=&quot;language-text&quot;&gt;report&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This is basically a boolean value that determines whether XSS filtering is enabled. Change it to &lt;code class=&quot;language-text&quot;&gt;0&lt;/code&gt; to disable it. Without the optional &lt;code class=&quot;language-text&quot;&gt;mode&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;report&lt;/code&gt; directives, the browser will just sanitize the page, even removing the affected parts.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;mode=block&lt;/code&gt; &lt;em&gt;Optional&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Enables XSS filtering. Rather than sanitizing the page, the browser will prevent rendering of the page if an attack is detected.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;report=&amp;lt;report url&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Enables XSS filtering. If a cross-site scripting attack is detected, the browser will sanitize the page and report the violation.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/x-xss-protection-browser-compatibility-table-55b78984a135a64640df81390f467a9f-c262f.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 58.08333333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABwElEQVQoz3VSPWsbQRDVH3CVxr0rQf6LXRqcJpBg49q1ChuHtAkBG4OEcGcXbowk9GHcuAhSSAgq0ohTIcj5vvbrdHt3e6eT3+6hyAnOYzWM9ubNvJnZSvIfZFmW53lp0zR9Maby4m0cx7PZzLKs6XQ6mUw8z1NK4fJfcqwh/xwpI2NlYEAphRVClGGRwSpSVvCDsIWBUaiKooADDsKXyyX+KpXBwg/DkHMOH8HoRZPLxsoOkwSXaqULraYQDAuOUZ1GkTT6taPJZdaySL4CIgghqICPcGzbLjW7rksIRRrXdf4iA6alOE1SSpnjOHAgx3U959Gxf9uMMhIQ3CMFprgmFwahCAXnvh4WYYRyykIuQKCEBH7AueBCBL7vez5mWZnPIxSBsEhKpKj9vN/oXhx/OWrV9rb69Wr7vNq5qLbOX7fONgfNxod3jY/vX/UbO93L8XisKzPG9FYYy+Ok/mu4/fW2eXP20Dh9O+ocjDr7sMP24bD95segd/Wpe/1593vv5Nvd1LL0I0HZR8BGU3bokwXhnIUBny+iZImG8vXJCn3gFDn2pzRZPQM2JVP9HLElmSSY3vODpxGXz8js7Qn9rZK5YLEXDgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;X-XSS-Protection browser compatibility table&quot;
        title=&quot;&quot;
        src=&quot;/static/x-xss-protection-browser-compatibility-table-55b78984a135a64640df81390f467a9f-7476a.png&quot;
        srcset=&quot;/static/x-xss-protection-browser-compatibility-table-55b78984a135a64640df81390f467a9f-5131c.png 250w,
/static/x-xss-protection-browser-compatibility-table-55b78984a135a64640df81390f467a9f-37136.png 500w,
/static/x-xss-protection-browser-compatibility-table-55b78984a135a64640df81390f467a9f-7476a.png 1000w,
/static/x-xss-protection-browser-compatibility-table-55b78984a135a64640df81390f467a9f-a41db.png 1500w,
/static/x-xss-protection-browser-compatibility-table-55b78984a135a64640df81390f467a9f-dcd0a.png 2000w,
/static/x-xss-protection-browser-compatibility-table-55b78984a135a64640df81390f467a9f-c262f.png 2400w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;X-Frame-Options header&lt;/h2&gt;
&lt;p&gt;Clickjacking occurs when an attacker injects transparent or opaque objects into your web application. These might be an invisible layer over other functionality or designed to look like part of your application. Similar methods can be used for hijacking text boxes, to make you think you’re putting your personal details or payment info (or both) into the application you’re using!&lt;/p&gt;
&lt;p&gt;One of the most famous examples of Clickjacking was against &lt;a href=&quot;http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager06.html&quot;&gt;the Adobe Flash plugin settings page&lt;/a&gt;. The infected application was loaded into an invisible window and tricked the user into relaxing their security settings, like allowing the web application to use your camera or microphone!&lt;/p&gt;
&lt;p&gt;To prevent click jacking, there is another header! &lt;/p&gt;
&lt;p&gt;Servers offer Browsers a Header Protocol named &lt;code class=&quot;language-text&quot;&gt;X-Frame-Options&lt;/code&gt;. This protocol allows us to specify domains to accept iFrames from. It also allows us to state which sites our web application can be embedded on. &lt;/p&gt;
&lt;p&gt;Here are some examples of an &lt;code class=&quot;language-text&quot;&gt;X-Frame-Options&lt;/code&gt; header.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;X-Frame-Options: SAMEORIGIN&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;em&gt;And to set it in Node.js response:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;requestHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setHeader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;X-Frame-Options&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;SAMEORIGIN&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;With this header, we get three possible &lt;em&gt;directives&lt;/em&gt;.  &lt;code class=&quot;language-text&quot;&gt;DENY&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;ALLOW-FROM&lt;/code&gt;, and &lt;code class=&quot;language-text&quot;&gt;SAMEORIGIN&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;DENY&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This blocks all framing.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;ALLOW-FROM&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This allows you to provide a list of domains to allow framing within.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;SAMEORIGIN&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This means framing is only allowed within the current domain.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/x-frame-options-browser-compatibility-table-d2653c437d6309ca9f5bb0106edf3623-c262f.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 79.08333333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsSAAALEgHS3X78AAACaElEQVQoz41TS2sTURi9m1JQUdSF/gb3Lly5c+VPcNutCFZwE6UgFmJa8AHahYhiF7V5tRGDiaYtNlTrY2FFBBPnkXlkcmfmzp0kbTKZTjwzU6XVCh4uH2fmfufe73VJ7x8Y7EK/39/Xh+z7d3NzU5ZlURQFQajVapzzWP/HKWRrLyCD7Xa7pmk6ESzLxme82263f3OAwNv3/e0IIJ7nBUEAa1kWAh4Oh7DYwk9Yxhg0QYQdMbb9CCBxbF6E3XG6rgsO506n048AEopxzDACSFyh+GBcHhOkYNs2vCmluq7DAapWq7VHDHTd9mCr5/c9EEZNH5d2utyyO9ylmu5QE6vDGHecPeLQBoFh0QY1FNts2FQ2DbHVlKihMavJmdxqNswWdlUbxWQOYwTVQ3iIB2Tob5//8ILkUkczqRMLtw/npg9kUscW74ykkyO5W6OZcOEPmZ+8Ws4wWQ3FSAadRG64P3f38o37idOlJ2Ru4kxh5kLx6fHs9MSr/ERl4UopPV5KXy/nxsuZx5WXqijt3KxpGvQQl2+OfX6QHFteJLOJc4WHF4tzJ+enZirFR8ulT9W1r2vrs0ulldXVj2+q3+v1MGd0D/VEaSA+W01fWypcep0hueSh/PRoOnkwmyLPJo9kp55XV96/Wz+Vv5eo5DfertcFgcQtMQwDaZuUflNlQVV+aMqGIn6JlsCo4JiSYzqcu9xtOBbljss5QiZoN1pXr9clScIwNwRRFiVdUamiGQ0FK/AGw4EfDPx4cgIPYzgAgTB8GBgAVVVxBDJXFCXkTV3TQ2i6Fk57r7f16zHs5uTvt/L/+AkNYU4OF2Rn1QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;X-Frame-Options browser compatibility table&quot;
        title=&quot;&quot;
        src=&quot;/static/x-frame-options-browser-compatibility-table-d2653c437d6309ca9f5bb0106edf3623-7476a.png&quot;
        srcset=&quot;/static/x-frame-options-browser-compatibility-table-d2653c437d6309ca9f5bb0106edf3623-5131c.png 250w,
/static/x-frame-options-browser-compatibility-table-d2653c437d6309ca9f5bb0106edf3623-37136.png 500w,
/static/x-frame-options-browser-compatibility-table-d2653c437d6309ca9f5bb0106edf3623-7476a.png 1000w,
/static/x-frame-options-browser-compatibility-table-d2653c437d6309ca9f5bb0106edf3623-a41db.png 1500w,
/static/x-frame-options-browser-compatibility-table-d2653c437d6309ca9f5bb0106edf3623-dcd0a.png 2000w,
/static/x-frame-options-browser-compatibility-table-d2653c437d6309ca9f5bb0106edf3623-c262f.png 2400w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;Content Security Policy (CSP) header&lt;/h2&gt;
&lt;p&gt;CSP is a more modern layer of security that helps detect and mitigate more than one kind of attack, including XSS and data injection attacks.&lt;/p&gt;
&lt;p&gt;Designed to be fully backwards compatible, browsers that don’t support it will still work with servers using it, by ignoring it and defaulting to the standard same-origin policy for web content.&lt;/p&gt;
&lt;p&gt;It works by telling the browser exactly which URLs content on your site should be loaded from.&lt;/p&gt;
&lt;p&gt;To include a CSP header that allows only internal and &lt;em&gt;Google Analytics&lt;/em&gt;, in an Express.js server, you could do the following:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; express &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;express&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;express&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setHeader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Content-Security-Policy&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;script-src &apos;self&apos; https://analytics.google.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;express&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PORT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;However, if we do not wish to allow &lt;em&gt;any&lt;/em&gt; external sites to execute scripts on our web application, we could simply include the following:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;requestHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setHeader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Content-Security-Policy&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;script-src &apos;self&apos;&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Note the &lt;code class=&quot;language-text&quot;&gt;script-src&lt;/code&gt; directive here, that we have set to &lt;code class=&quot;language-text&quot;&gt;self&lt;/code&gt;, therefore only allowing scripts from within our own domain. Content Security Policies are both excellent and very powerful, but must be used cautiously. Just as with HSTS, incorrect configuration could cause unforeseen issues or missing content. This will also disable inline JavaScript unless it’s provided &lt;code class=&quot;language-text&quot;&gt;unsafe-inline&lt;/code&gt; keyword, a hash like (‘sha256-OsJINy4ZgkXN5pDjr32TfT/PBETcXuD9koo2t1mYDzg=’), or a nonce (‘nonce-…’), which is great for security!&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/content-security-policy-browser-compatibility-table-0ef4cf1e0c26b0cabf03e8a480192afb-c262f.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 73.41666666666666%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsSAAALEgHS3X78AAACEElEQVQoz31Ty27TQBTNH/QDCIKf4h/YsmEHAhVYgxroHnUPpKggQEW0dEN5iYCKVIztxPY8PONM/KjtSWxzPGmiQiOOxuM743vu3Dv3uFOsgtZ6ZjBdoCzL826dlWRCiGVZvw0cx4GdJMl5fic/gxMDGHEcCyHGC0RRlKYp9jODpXMHD9KrDKbTWVnquq6xIaXEUU3TwIZDbaCUQhQYcG5PRiSUNK9Q62lRgKIxm2EWWud5Ado87SxDau2X05MRqTGoqnp2iipNMySMHSAMBaUUnqicUpYkKQZS+4uMd5ZmZd4eqqJIhgK3jHxCxkLGGSFpHEshOeOcMoRG2icI3ywglWKR9BgLwpAKQaXAMuCcCOGDNI6ElITzgPGJmrQ1ox7kIKMoV/HVjy/Wnt2/vLN5sd/rbvcuPH/Y3XnU7W90tzcu9Xtr/QebB6+v7T658nLLO7baVk0mSoiWHEfjrZ+frh++uvV59+bhm9tf3t77cXDn2976YH99sHd3sH9j8O79r6OnR18ff/8gKevgDjnnUILv+yPPU4TmLMy5wJippMl1c6aopm6q6QyNqqsaXWgVBj3Ytu26LviOO7SHQ8uxMZyhe2xZPgloyAnui7EYUikK9GrerpYMAeFkkEej0VyPMLCESCEJZTAxQGv+1TbEGASB53loJmZwkAJmBNUGpQGMFT8GPizlPd9dGv/HHymCOrBgkUOpAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;CSP browser compatibility table&quot;
        title=&quot;&quot;
        src=&quot;/static/content-security-policy-browser-compatibility-table-0ef4cf1e0c26b0cabf03e8a480192afb-7476a.png&quot;
        srcset=&quot;/static/content-security-policy-browser-compatibility-table-0ef4cf1e0c26b0cabf03e8a480192afb-5131c.png 250w,
/static/content-security-policy-browser-compatibility-table-0ef4cf1e0c26b0cabf03e8a480192afb-37136.png 500w,
/static/content-security-policy-browser-compatibility-table-0ef4cf1e0c26b0cabf03e8a480192afb-7476a.png 1000w,
/static/content-security-policy-browser-compatibility-table-0ef4cf1e0c26b0cabf03e8a480192afb-a41db.png 1500w,
/static/content-security-policy-browser-compatibility-table-0ef4cf1e0c26b0cabf03e8a480192afb-dcd0a.png 2000w,
/static/content-security-policy-browser-compatibility-table-0ef4cf1e0c26b0cabf03e8a480192afb-c262f.png 2400w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;Cross Site Request Forgery (CSRF)&lt;/h2&gt;
&lt;p&gt;Cross Site Request Forgery is an attack where by the attacker impersonates an authorized user and makes requests on their behalf, like resetting a password, or updating an email address.&lt;/p&gt;
&lt;p&gt;We’ve been mitigating CSRF requests for years by checking HTTP headers such as the &lt;code class=&quot;language-text&quot;&gt;Origin&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;Referer&lt;/code&gt;. Whilst these do work, we have a new defence against CSRF. The &lt;code class=&quot;language-text&quot;&gt;SameSite&lt;/code&gt; cookie directive. &lt;code class=&quot;language-text&quot;&gt;SameSite&lt;/code&gt; is relatively new and has only been around for a year or so. But it’s still widely unknown. Once applied, prevents the browser from sending this cookie along with cross-site requests&lt;/p&gt;
&lt;p&gt;An example of the SameSite &lt;code class=&quot;language-text&quot;&gt;directive&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Set-Cookie: sess=sessionid123; path=/; SameSite&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cookie-samesite-browser-compatibility-table-0ae83aa18c6170f27664e44ac3b72168-c262f.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 58.08333333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABwElEQVQoz3VSO08cMRDeP8I/SUEUylDTBaWIDqQ0KSIdQUJENElxIjzS0JxEkChAJ1GBEChNolSJ0qS4gtMVm9uXH2fveXe9t7ebz7YgD5FPs6vP4xnPNx57xX9QluXUoqoq8HtjvHu9eZ77vj8YDIbDYb/fj+MY+XD+m5wbZHeWZcoRxhillHNOCJFSuDBlcRuZefggbGYBonVZ1zUIMlGpaRos0QH+4GmaCiHAEay1NsmuMQCkKOC861DDbMMaOVa1Viqz+g0xye5UV6S6BSKgHBWwCRIEgdOM/hnjOCaOo7+SATVRrgIfizCKdaEhJ0FgGAWjgPMxpSyKYoMk+Z1cW6QyFVIklBKKAmMBkymjjDNGCMVCSAkCw44H6VCFliocUTfP+1/anVX5bN5feXSxvvSg9+7Hi8cLp525q+7R1tOk9ZC05g/ethY/bPkbT8youIVM5Wyidm6+d3vv1W472X/19fDNy89nw4PN9U+95W+XH4+3+f7aeK99frL3+vqYHHU8XC6mEobhT2A0ShMCBRgRbIpmZo1GR7OmqZqqNrwwFC7w2nMv0WFaTjEp3EJhLbcvBgTDUeaN/Ok35BcMNpLHA6y+WwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Cookie SameSite browser compatibility table&quot;
        title=&quot;&quot;
        src=&quot;/static/cookie-samesite-browser-compatibility-table-0ae83aa18c6170f27664e44ac3b72168-7476a.png&quot;
        srcset=&quot;/static/cookie-samesite-browser-compatibility-table-0ae83aa18c6170f27664e44ac3b72168-5131c.png 250w,
/static/cookie-samesite-browser-compatibility-table-0ae83aa18c6170f27664e44ac3b72168-37136.png 500w,
/static/cookie-samesite-browser-compatibility-table-0ae83aa18c6170f27664e44ac3b72168-7476a.png 1000w,
/static/cookie-samesite-browser-compatibility-table-0ae83aa18c6170f27664e44ac3b72168-a41db.png 1500w,
/static/cookie-samesite-browser-compatibility-table-0ae83aa18c6170f27664e44ac3b72168-dcd0a.png 2000w,
/static/cookie-samesite-browser-compatibility-table-0ae83aa18c6170f27664e44ac3b72168-c262f.png 2400w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;Cookies&lt;/h2&gt;
&lt;p&gt;Cookies are an important feature of web applications, usually carrying our users session identification, so the server knows you’re you on each request. The &lt;code class=&quot;language-text&quot;&gt;SameSite&lt;/code&gt; directive might be a good way to protect your session information, but &lt;strong&gt;Cookie Prefixing&lt;/strong&gt; is a new and under utilized method to ensure a cookie is absolutely secure.&lt;/p&gt;
&lt;p&gt;Some user agent implementations support the following cookie prefixes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;__Secure&lt;/code&gt; - Tells the browser that it should only include the cookie in requests that are sent over secure channel.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;__Host&lt;/code&gt; - Tells the browser not only that it should only include the cookie in requests that are sent over secure channel, this will also tell the browser to only use the cookie from a secure origin and the scope is limited to a path attribute passed down by the server. If the server omits the path attribute the “directory” of the request URI is used. It also signals that the domain attribute must not be present, which prevents the cookie from being sent to other domains.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Effectively a &lt;code class=&quot;language-text&quot;&gt;__Host&lt;/code&gt; cookie is very specific to where it was intended to be used and therefore should be considered the most secure way to define one.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cookie-prefixes-browser-compatibility-table-e80b5a7d61557cd025d25f2a9f0c9951-c262f.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.916666666666664%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABlUlEQVQoz3VQu0oDQRTdPwqIYJFvMKAgaG1jZWlhayV+guAjNpIELdTCmAXNGoKJBkNQyRapljx2Z9/Z7HvHszuSQuMphjtn7jlz7uW8RQiCIIqiMAxx+r7v/QPu1911XSgnk4koioPBoN/v67oOBvwC8WwRLMvSNA0yVVVt24bybw9IDsHiDAiJH5IkAUMIwTOllPEgUTuOA0fUjEQDxwYDoMR47ISrnwHZcELmZkCKeUMqZq7sE+YCOzwjOfNFcuS3MmAXpmmCHI/Haey5GAU08PYyJZKzJY1GI5CQSZKkKIphGERVh8NhKsaHTAk/D6siqiETvE9t21I1XSFEUdypM9UNXSamppuGAR4NqRjzTIGZA4ujr2auerLCF7eFa6HbyfPFPH9R7bR2G7dLtbPl2vle467afc09nK4+lSRT5zCPLMsYi8b0WHwrPF5uPFf2X+5bn72txtWmUBF67wft2ppQXhfKh22+/tEt1Es7zZuxbXDzDWN7URDCgkaYIQ5RRwmNEywQVxphpfSHR0+cBJ7/DV5SXdJJ5JF4AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Cookie prefix browser compatibility table&quot;
        title=&quot;&quot;
        src=&quot;/static/cookie-prefixes-browser-compatibility-table-e80b5a7d61557cd025d25f2a9f0c9951-7476a.png&quot;
        srcset=&quot;/static/cookie-prefixes-browser-compatibility-table-e80b5a7d61557cd025d25f2a9f0c9951-5131c.png 250w,
/static/cookie-prefixes-browser-compatibility-table-e80b5a7d61557cd025d25f2a9f0c9951-37136.png 500w,
/static/cookie-prefixes-browser-compatibility-table-e80b5a7d61557cd025d25f2a9f0c9951-7476a.png 1000w,
/static/cookie-prefixes-browser-compatibility-table-e80b5a7d61557cd025d25f2a9f0c9951-a41db.png 1500w,
/static/cookie-prefixes-browser-compatibility-table-e80b5a7d61557cd025d25f2a9f0c9951-dcd0a.png 2000w,
/static/cookie-prefixes-browser-compatibility-table-e80b5a7d61557cd025d25f2a9f0c9951-c262f.png 2400w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;The most effective method for maintaining the security of your web applications is keeping up-to-date with vulnerabilities. They’re a dynamic topic in a dynamic environment and the attacker is always one step ahead.&lt;/p&gt;
&lt;p&gt;Complacency is the enemy. The moment you relax and think you’re safe, you’re going to miss an opportunity to improve security on your web application.&lt;/p&gt;
&lt;p&gt;By following the advice in this article, staying up-to-date with announcements, and having an in-depth knowledge of your systems, you can rest assured that you’re doing what you can to mitigate attacks.&lt;/p&gt;
&lt;p&gt;Many developers and organizations ignore security altogether. It does not take an entire development team to implement the changes in this article, but it does take a certain investment in time and culture to know you’re working towards protecting your data.&lt;/p&gt;
&lt;p&gt;So, from enforcing HTTPS with Strict Transport Security, to securing our web application with a Content Security Policy header, we’re well on our way to ensuring the security of our web applications.&lt;/p&gt;
&lt;h2&gt;Aside: Auth0 Authentication with JavaScript&lt;/h2&gt;
&lt;p&gt;At &lt;a href=&quot;https://auth0.com/&quot;&gt;Auth0&lt;/a&gt;, we make heavy use of full-stack JavaScript to help our customers to &lt;a href=&quot;https://auth0.com/user-management&quot;&gt;manage user identities including password resets, creating and provisioning, blocking and deleting users&lt;/a&gt;. We also created a serverless platform, called &lt;a href=&quot;https://auth0.com/extend/&quot;&gt;Auth0 Extend&lt;/a&gt;, that enables customers to run arbitrary JavaScript functions securely. Therefore, it must come as no surprise that using our identity management platform on JavaScript web apps is a piece of cake.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://auth0.com/pricing&quot;&gt;Auth0 offers a &lt;strong&gt;free tier&lt;/strong&gt;&lt;/a&gt; to get started with modern authentication. Check it out, or &lt;a href=&quot;https://auth0.com/signup&quot;&gt;sign up for a free Auth0 account here&lt;/a&gt;!&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/hosted-login-41f4f39672fe6576e361ff6516607827-e2e34.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 78.38086476540938%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD0UlEQVQ4y51SXWibVRiOTmfBq/6si06Q/TRpkqb5////bZPZWqpTNh0owmARWyp4IagIiqIXXnnhxvRGRptvbFPZhQ7BDWT0ZtNK1t6Y9su6Jkv3NT+lS7Ke5Ht8z9epw0s/eDgnOe/znOd9z6O69N6Zx/MLv762KN58a/XWakYsiJlKZSOzvl7OiOJKplAoKKsoipmVlZXM8nI+k8//+V+cpP9ncrmcTnXi+Bv9i7mF5vrGXZSKJayu3kaxWMTaWhGiWFD2pdIdFEsllMvrqFSqqFZrD6EKSZLAGMOVK1ffVvX07nnKZvOVXc4g3O7wtscTYbQyvgaDCRaJpFgkmqY1zaK0xmJpFgqN0FmS+f1x5vVGeW3L4wnDYLBMq7q7+9QGg1UymdywmD0dm80vu90R2Wh0yp9+8rm8kFuSb/z4nfzH3Ffy9Ru/yZcv/yxHwimZ19ntftli8cgmk4tx/sCAYVrV29uvNpvdknPHYcfrjYEcwGr14/Tpb7BRq6OwlEPx93ncLpVxc3EJ6fQkeJ3PFwe5k4nLnM4Q9HrLjqDV6pXIFR1GO35/AtHoYdjtQWTnzgHooHGvina7CXl7ExWphPHxlxAIjCAYHOHCvCPG+dTptKqvb6+arEsPbuyEQqOIx8fho99fnjqLi/NNfHv1PoRrDF//AvwwX8eRF49RFynQXEk4KROXcb7RaNsRdDgCErdPh51wOI144nmEqe2PvziDGWENJ883MHVxC8dmm/jsp7s4+vKrCEcOUyfPcZcycRnnDw/b/xYM/iPIb00mJ8htAmdnz0NiwHLtPsT6Nm5tAflyjRweV8Q4qKOHBB3/OuSWaX7kMIUEOXS7YzgnXAD/WHML7VZD2Tc265icfEVpl8+aO+Qtc0Gj0c4fZa+acijRg/ABd/igY/ExOJ1hzD0Q3LzXQIu1lX1tcwsTE0dJaBT8csqiTFzG+UNDNMOenn41ZUlyucLKK/ObeCGPTXY2C8htbNwpoi6V0ahXaV/C2NgRJTI8EcSRXa4QI+zEhrdsNDrKZrMH5HSb8sQCvigzOmNs7gULw5SetaasjM04mPymnlVPDLGUL8Bc3jjzUFx4BiklLQo6BgdNU6quriefdrmCrTi1mUyOK7PxeiJwehN43WfBR4EBvB/U4YOQHh8GtHjXP4iwl7rxxsGzxwPNxez2ADQa4zuqXbt2d+t0w6fMZscFm82dpacXDh3SC4PaIeEZrVXo0TiEPYQ+jZ3A93ZhQDssaDQGpe7gQZ1w4IA2u3+/5vt9+54dVdH3COExQhfhif8Jzt1NePQvbuB/QsKwBlMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Auth0 Login Page&quot;
        title=&quot;&quot;
        src=&quot;/static/hosted-login-41f4f39672fe6576e361ff6516607827-7476a.png&quot;
        srcset=&quot;/static/hosted-login-41f4f39672fe6576e361ff6516607827-5131c.png 250w,
/static/hosted-login-41f4f39672fe6576e361ff6516607827-37136.png 500w,
/static/hosted-login-41f4f39672fe6576e361ff6516607827-7476a.png 1000w,
/static/hosted-login-41f4f39672fe6576e361ff6516607827-a41db.png 1500w,
/static/hosted-login-41f4f39672fe6576e361ff6516607827-dcd0a.png 2000w,
/static/hosted-login-41f4f39672fe6576e361ff6516607827-e2e34.png 2174w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;It’s as easy as installing the &lt;a href=&quot;https://github.com/auth0/auth0.js&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;auth0-js&lt;/code&gt;&lt;/a&gt; and &lt;a href=&quot;https://github.com/auth0/jwt-decode&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;jwt-decode&lt;/code&gt;&lt;/a&gt; node modules like so:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; jwt-decode auth0-js --save&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Then implement the following in your JS app:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; auth0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;auth0&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;WebAuth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  clientID&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;YOUR-AUTH0-CLIENT-ID&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// E.g., you.auth0.com&lt;/span&gt;
  domain&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;YOUR-AUTH0-DOMAIN&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  scope&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;openid email profile YOUR-ADDITIONAL-SCOPES&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  audience&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;YOUR-API-AUDIENCES&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// See https://auth0.com/docs/api-auth&lt;/span&gt;
  responseType&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;token id_token&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  redirectUri&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://localhost:9000&quot;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//YOUR-REDIRECT-URL&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;logout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;id_token&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;access_token&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;location&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;href &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;showProfileInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;profile&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; btnLogin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;btn-login&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; btnLogout &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;btn-logout&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; avatar &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;avatar&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;nickname&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;textContent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; profile&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nickname&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  btnLogin&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;display &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;none&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  avatar&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;src &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; profile&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;picture&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  avatar&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;display &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;block&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  btnLogout&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;display &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;block&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;retrieveProfile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; idToken &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;id_token&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;idToken&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; profile &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;jwt_decode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;idToken&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;showProfileInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;profile&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;There was an error getting the profile: &apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; err&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

auth0&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parseHash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;location&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hash&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;token comment&quot;&gt;// Handle error&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// You can use the ID token to get user information in the frontend.&lt;/span&gt;
  localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;id_token&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;idToken&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// You can use this token to interact with server-side APIs.&lt;/span&gt;
  localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;access_token&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;accessToken&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;retrieveProfile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;afterLoad&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// buttons&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; btnLogin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;btn-login&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; btnLogout &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;btn-logout&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  btnLogin&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    auth0&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;authorize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  btnLogout&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;logout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;retrieveProfile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;load&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; afterLoad&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Get &lt;a href=&quot;https://github.com/auth0-blog/es2015-rundown-example&quot;&gt;the full example using this code&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Go ahead and check out our &lt;a href=&quot;https://auth0.com/docs/quickstarts&quot;&gt;Quick Start tutorials&lt;/a&gt; to learn how to implement authentication using different languages and frameworks in your apps.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Build a blog with Gatsby, React and Webtask.io!]]></title><description><![CDATA[TL;DR:   Gatsby  is a modern  React  based static content generator, and it boasts an  impressive list  of out-the-box features. In this…]]></description><link>https://lukeoliff.com/building-a-blog-with-gatsby-react-and-webtask/</link><guid isPermaLink="false">https://lukeoliff.com/building-a-blog-with-gatsby-react-and-webtask/</guid><content:encoded>&lt;p&gt;&lt;strong&gt;TL;DR:&lt;/strong&gt; &lt;a href=&quot;https://www.gatsbyjs.org/&quot;&gt;Gatsby&lt;/a&gt; is a modern &lt;a href=&quot;https://reactjs.org/&quot;&gt;React&lt;/a&gt; based static content generator, and it boasts an &lt;a href=&quot;https://www.gatsbyjs.org/features/#legend&quot;&gt;impressive list&lt;/a&gt; of out-the-box features. In this article, we’re going to be building a blog, and adding extra features like pagination, user authentication with &lt;a href=&quot;https://auth0.com/docs/libraries/auth0js&quot;&gt;Auth0.js&lt;/a&gt;, and newsletter subscription using an API endpoint built on &lt;a href=&quot;https://webtask.io&quot;&gt;Webtask.io&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;This post is original content developed by me for the &lt;a href=&quot;https://auth0.com/blog&quot;&gt;Auth0’s blog&lt;/a&gt; and has been re-posted here as part of an online portfolio with permission. Relevant attribution and canonical links exist. &lt;a href=&quot;https://auth0.com/blog/building-a-blog-with-gatsby-react-and-webtask/&quot;&gt;Click here to see the original&lt;/a&gt;.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The final code can be found at the &lt;a href=&quot;https://github.com/auth0-blog/auth0-gatsby-blog&quot;&gt;auth0-gatsby-blog GitHub repo&lt;/a&gt;.&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;About Gatsby&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://www.gatsbyjs.org/&quot;&gt;Gatsby&lt;/a&gt; is a modern static content generator for &lt;a href=&quot;https://reactjs.org/&quot;&gt;React&lt;/a&gt; and it boasts an &lt;a href=&quot;https://www.gatsbyjs.org/features/#legend&quot;&gt;impressive list&lt;/a&gt; of out-the-box features. There are alternatives to Gatsby, like &lt;a href=&quot;https://jekyllrb.com/&quot;&gt;Jekyll&lt;/a&gt;, &lt;a href=&quot;https://gohugo.io/&quot;&gt;Hugo&lt;/a&gt; and &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;, &lt;a href=&quot;https://www.staticgen.com/&quot;&gt;among others&lt;/a&gt;. Generally speaking there is one emerging for each preferable language stack. Traditionally, static site generators let you generate content for the web as HTML that can be cached, instead of compiling the HTML on request.&lt;/p&gt;
&lt;p&gt;Before static site generators, a lot of us would have relied on software such as &lt;a href=&quot;https://wordpress.org/&quot;&gt;WordPress&lt;/a&gt;, &lt;a href=&quot;https://www.drupal.org/&quot;&gt;Drupal&lt;/a&gt; or services like &lt;a href=&quot;https://www.squarespace.com/&quot;&gt;Squarespace&lt;/a&gt; to allow us to both manage and deliver our content to the internet. Typically, they work by generating each page on-demand. They would get the content from a database and render it using a template engine. The problems can be reliability &lt;em&gt;AND&lt;/em&gt; speed, everything you want from your website! If a developer introduced a bug in his WordPress plugin, you might encounter downtime or unexpected errors and for most sites, this is completely unnecessary. A simple plugin update could introduce problems in security and performance.&lt;/p&gt;
&lt;p&gt;A static site generator flips the entire process around. It generates all the pages on the site, once any changes have been made, ready for deployment. Static sites are more easy to secure as there are no working parts to exploit. Scaling is less of a consideration as there is no more overhead to a request than the delivery of already generated content. Read more about &lt;a href=&quot;https://www.webceo.com/blog/static-website-vs-dynamic-website-which-is-better-for-seo/&quot;&gt;static sites vs dynamic sites&lt;/a&gt; if you’re still not convinced that static sites might just be the answer to &lt;a href=&quot;https://moz.com/learn/seo/page-speed&quot;&gt;a lot of your problems&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Another blog, with Gatsby&lt;/h2&gt;
&lt;p&gt;The &lt;a href=&quot;https://github.com/gatsbyjs/gatsby-starter-blog&quot;&gt;starter blog&lt;/a&gt; by &lt;a href=&quot;https://twitter.com/kylemathews&quot;&gt;Kyle Mathews&lt;/a&gt; is great! But I felt it was missing a few well-known features you’d come to expect from a blog if you’re familiar with &lt;a href=&quot;https://wordpress.org/&quot;&gt;Wordpress&lt;/a&gt; or similar blog frameworks.&lt;/p&gt;
&lt;p&gt;In this guide, we’re going to use Gatsby to generate our content from &lt;a href=&quot;https://en.wikipedia.org/wiki/Markdown&quot;&gt;Markdown&lt;/a&gt; files along with adding pagination to pages and allow our users to log in using &lt;a href=&quot;https://auth0.com/docs/libraries/auth0js&quot;&gt;Auth0.js&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;React&lt;/h3&gt;
&lt;p&gt;Gatsby uses React for its ability to enable developers to build modular and reusable code. React has a large collection of open source components, guides, and tools that are all relevant, as Gatsby acts close to a normal React application.&lt;/p&gt;
&lt;p&gt;Newcomers to React can learn about &lt;a href=&quot;https://auth0.com/blog/bootstrapping-a-react-project/&quot;&gt;bootstrapping a React project&lt;/a&gt; here.&lt;/p&gt;
&lt;h3&gt;GraphQL&lt;/h3&gt;
&lt;p&gt;If a query language and an API had a baby, the result would be something like GraphQL. You can send GraphQL your query and it will return exactly the data you want, in the format you want, right out of your existing data.&lt;/p&gt;
&lt;p&gt;Gatsby uses GraphQL for loading data into React components when it’s needed. More importantly, it will handle many of your data transformations when generating the site, not when the pages are loaded.&lt;/p&gt;
&lt;p&gt;If you’re not familiar with it, you can follow our guide to &lt;a href=&quot;https://auth0.com/blog/building-an-instagram-clone-with-graphql-and-auth0/&quot;&gt;building an Instagram clone with GraphQL and Auth0&lt;/a&gt; or check out the &lt;a href=&quot;https://www.howtographql.com/&quot;&gt;how to use GraphQL&lt;/a&gt; site by Graphcool.&lt;/p&gt;
&lt;h2&gt;Pre-requisites for Gatsby&lt;/h2&gt;
&lt;p&gt;Gatsby requires &lt;code class=&quot;language-text&quot;&gt;node&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;npm&lt;/code&gt;, and features a handy command line tool for creating and running commands against your Gatsby sites.&lt;/p&gt;
&lt;h3&gt;Node &amp;#x26; NPM&lt;/h3&gt;
&lt;p&gt;To get started we’re going to need &lt;code class=&quot;language-text&quot;&gt;node&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;npm&lt;/code&gt; installed. Let’s check if they’re installed by running:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;node --version&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; --version&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/node-versions-for-gatsby-03e680d68bd0fe74be08d8609cafd010-94bcc.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 67.64397905759162%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAABYUlEQVQ4y93Qz0vCYBjA8UWd/X3ZO3V6tEuiHcRDdBM3c2D5huUh+iMKlPqjEiuoHRJSAiV9p9GcEpGF5Dp069ChZ/O1Ijo4u/XChweed/seXub05Hj1qnaZaytKtnndzBKiYKVFMFE6WK7WsXwu48pFBctnMq5Wa7jT7mBi3BOqRTYUouQb9UaIMU5+e1Pe3cm9YZwdZTLrL+l0Wh+TdCG1pieTSV0URV0QBD0lpnQJ9l/fmIaSJL0nEokDMxiLLZcj4dCj3+9XWYQ0l8ulut3ursFj8Hg+TfY/3ICh0+ksmMFoNFyOLC0+BYMBjecDfQj3LFJ5nh8hhIpmECGu5PV6B0ADPZ/P1weTOQ0VjFiWHQc5jivBYgC0GWJTBfv/P3hEg136flb9GnygF9oMbsHz9+CJsQD3NGzVHXiF4KEZtNvtWw6HowBzD+a+VfS/os1mW2HomQMLfzRvdOLxOPMB3GZBkRTvsm8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Node versions for Gatsby&quot;
        title=&quot;&quot;
        src=&quot;/static/node-versions-for-gatsby-03e680d68bd0fe74be08d8609cafd010-7476a.png&quot;
        srcset=&quot;/static/node-versions-for-gatsby-03e680d68bd0fe74be08d8609cafd010-5131c.png 250w,
/static/node-versions-for-gatsby-03e680d68bd0fe74be08d8609cafd010-37136.png 500w,
/static/node-versions-for-gatsby-03e680d68bd0fe74be08d8609cafd010-7476a.png 1000w,
/static/node-versions-for-gatsby-03e680d68bd0fe74be08d8609cafd010-a41db.png 1500w,
/static/node-versions-for-gatsby-03e680d68bd0fe74be08d8609cafd010-94bcc.png 1910w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;If you don’t have &lt;code class=&quot;language-text&quot;&gt;node&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;npm&lt;/code&gt; installed, check out &lt;a href=&quot;https://nodejs.org/&quot;&gt;nodejs.org&lt;/a&gt; and install the correct version for your operating system. &lt;/p&gt;
&lt;h3&gt;Gatsby CLI&lt;/h3&gt;
&lt;p&gt;So lets installed the gatsby CLI locally, then we can use it anywhere.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --global gatsby-cli&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Create a basic Gatsby starter project&lt;/h2&gt;
&lt;p&gt;Now the CLI is installed, let’s create a new project from the starter blog.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;gatsby new auth0-gatsby-blog https://github.com/gatsbyjs/gatsby-starter-blog&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This downloads all the files we need and initializes the site by running an &lt;code class=&quot;language-text&quot;&gt;npm install&lt;/code&gt; for us.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cli-building-new-gatsby-project-3a55b28e8b54665663deaa4df9083c9c-dd5a6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 72.42152466367713%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAADDklEQVQ4y5WSTXPSYBDHc3PGmVprRV5CSAIkQEtDKU1ICCRQ1Hh0HL150WkddRxe1IP65Zx+BJ12FAh5oQiVEtDWD+BuWurozcNv/psnyT67/11i/+P+lcnx+PbMm96bz+Z3Z55nID/nc2MynRnO0ciYjI+N8WhsjL6NjOnJiTGfzYzTn6fGr7NfC+6dnZ7Vu53uVeL+g4f0u3dvxh/ev/3RarWnrfZrr/36jddoNKeNZnv68lVjCrHXbLa9RrPlNVst+KY9ff78xcne7t7k2d4zxNvd3XUfPXyUIkJRms4VpG4uv+XmC6KdL2w7G7lNm+NTFs0wfSSGyrJ9KhYzyWjUjJCkubKy0lteXu5eYAKfl5aWeILjOLpa082yph1p1R23Vr8z0Gv1QVmrunJJdbMbgi3ABRtCzqZp2qQoyoxBYowZhgFlUPHdQTgc5olEOkNrdd2s1evDil5zJVlx05mMlVlbt+PxeD8KFUGCPiTy44X+gwUcBINBnohDhUpJ6enV6hAq86taW8/afCplxVmmn0wwFguJkWSSs1hoPZFMWokEkujHz7EZlj0MBAI8wTIUfXtHMfWqNpTViltUSm6pXHHViu6KxaIrCBt2QZSczfyWg5rfKlzGhW3REYsy6gBs+UJRMZ6IRClaEvNmRVWG25LsKGrZzW3mbbzdrwTAyjiOv4yToDwMLclxlu8jeAi2nHuY5im6Xsn0dK00VLXaorpBYVvyq8BntAFjqahA1bK7OFMrmosDg8sduOzwFrac4qK0URPMkiIeiUXFwZZFqeiIF9Uq6vnPyJ+zsott4+RhC6xUOuOAx4ehUIgn6FiIVqRUV5bPE+KUseWsINioyHo2668Oqp9EwFXK2bgNOBQYoF9hOAwJg6EArar5r3pFdmCpTfClBy10YYk74VCoA750IpHI3wqgkmSkE42SX0mS7AGfYG04Ihwh2bVMasQnmBkcfod9miCwbxMw+gSBGLhQ/zl2oXhO4bceMICEaWL52rWllRurj28Ggk/h1icLwI//4SnweHV19fpvt/qK6sD6h+sAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Gatsby CLI building new project&quot;
        title=&quot;&quot;
        src=&quot;/static/cli-building-new-gatsby-project-3a55b28e8b54665663deaa4df9083c9c-7476a.png&quot;
        srcset=&quot;/static/cli-building-new-gatsby-project-3a55b28e8b54665663deaa4df9083c9c-5131c.png 250w,
/static/cli-building-new-gatsby-project-3a55b28e8b54665663deaa4df9083c9c-37136.png 500w,
/static/cli-building-new-gatsby-project-3a55b28e8b54665663deaa4df9083c9c-7476a.png 1000w,
/static/cli-building-new-gatsby-project-3a55b28e8b54665663deaa4df9083c9c-a41db.png 1500w,
/static/cli-building-new-gatsby-project-3a55b28e8b54665663deaa4df9083c9c-dd5a6.png 1784w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;cd&lt;/span&gt; auth0-gatsby-blog/
gatsby develop&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Once it has compiled successfully, you can view the site at &lt;a href=&quot;http://localhost:8000/&quot;&gt;localhost:8000&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/gatsby-development-server-first-run-e7d41e5dc76597ad503b673aed7bb0de-94bcc.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 72.04188481675394%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACt0lEQVQ4y52T20/aYBiHOWQJboIXYATlYGlpMVBORQ7lJHJoTJZ4NWenbon/1/YnLNuMBw4ZZDMe4mFejtHSwkCdYdvVkl3u/TpZHHFejOTJ91K+Pvze92tV/Oq6+vWrl8W93XerhwdHywf7h8vv94/5zc0tfguolCv8ztY2v/FmQ2Eb6tJOia/X6vzZhzP+5ORk+fT0dO346JjTaDRqFXzurzx5tLv+bOnn07XH31ZXlr4vLj78ms1m+7lcrp/P5/uFQkFZB3WxWOxzHNdfWFhAXAE/uCK3azAYHoBPa4izM2U2wZyzCbYViTASTXtFyj0jYE68SZCkYJmc/GQymRrj4+MNtA4wGo0No8n4Eeo21Ds6nW4MBdSn0nh1bj52mcrk5Wg80U7NzXd8/oBEklQLczpFh8Mh2u124R804feu1WotQ8sGEOr0qYyrmp6LXmZzXDuZznSY2YhMUlTLZrOJU1NTAlqHuHmtCXRhX1mr1SLhiD6dIVDCL+lsXkbCGJtsB4IhGccJJSGSQoI/DEmHhff0MZaqxljmIhpPSmwy1Q5HojJKSRCulhOEGIYBThHViBsy4RahSk8H6UqQCZ77A8GWl6Ylj9cjES5Ip4gwRTI9PQ0rLmJ/C5WEMMeu1WarqNVqJNTqcwVPJZnyXTBhf2s24pNnIwHZ73dL6DCQ6Ga7wy3D9yak7+E4XgXZ74TweJRIyt3zer1iOByWKDgQBJohbBTvmJ94a8sukizRPn8P2hWCoRDI3Kg9AWQKhMslwKmLsA9Jm9eSAQ2gA8LSQGgAUT0QYvpwEN04mziHuufxB3oeX6CHE8RndIPd4ejArDqoHkKG61fwRzUQjql0IyOjdrvjOdywBzOrQV2HTXUb5lSAt6RmNpvv4q3FYtmbmJh4AQ/2KEqoAcwAAeD/CXHt0P4CkjROQkYPEpMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Gatsby development server first run&quot;
        title=&quot;&quot;
        src=&quot;/static/gatsby-development-server-first-run-e7d41e5dc76597ad503b673aed7bb0de-7476a.png&quot;
        srcset=&quot;/static/gatsby-development-server-first-run-e7d41e5dc76597ad503b673aed7bb0de-5131c.png 250w,
/static/gatsby-development-server-first-run-e7d41e5dc76597ad503b673aed7bb0de-37136.png 500w,
/static/gatsby-development-server-first-run-e7d41e5dc76597ad503b673aed7bb0de-7476a.png 1000w,
/static/gatsby-development-server-first-run-e7d41e5dc76597ad503b673aed7bb0de-a41db.png 1500w,
/static/gatsby-development-server-first-run-e7d41e5dc76597ad503b673aed7bb0de-94bcc.png 1910w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;And it should look &lt;em&gt;something&lt;/em&gt; like this!&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/basic-gatsby-install-675a2b91b175a414274db4e8c93a30be-cf3f6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 68.27473426001634%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACEklEQVQ4y62TzaraUBDHA111Uwp9gW6l79GX6aaLwvWuuvAdXCkKUnDjwkXvxY3W+BGsYr03UfygkLYmmlyNHzEmOZ6c6ZxIwN5ipbQDf4aBOb+ZM+eMUCgUnrVan98Nh8PrTqcTHwwGcVVV44qixPv9fhhHPtJoNPpFePZKkqT31Wr1tZBOp2Pb7Ra4eZ4H/2KTySQvZDKZGKXUwZiiCDfsjmBXpN1uE0wi2Dnpdruk1+uR8XhMGGOE557I5UDTNNNCNpuNISNqjTmOw5LJJEulUiyfz7Pb21tWqXxixWKRlUolVi6XWRAE7JEd+GHDMDIR0I+AruvCx5sbQBj0FeWPV0RQJHoWeDgcQLn7AqvVCtQfGpgLCwxzAZZlwWLxAMu1DRt7D7Ztn0LPA13Phau3b6Avy2B7DBZrBzY7D3DOwIuRAw3FY3YRGI4DYOcScH0EBJdf9vKVaQDfjA18ndmgmg44Hp83O50X4KMcO+TVj9DzwAATp99VmGlTMOY66JoG2hSl6SgNdF0P58ln7Pv+70D+DxG4PxZnWDig1talODv6sN5RZ+9S3/Movj7Fjx8KO+QAyvO5MA7J8/k8LeRyuVeP5zKzXLCcALbk7zZluVx+EBKJxEvcjAqqhWrK9/dSo1YN1ayLUqNel0SxJtXR12pHL4pi6HFzJNwoSZblBvq7ZrN5LaA9QT1HvfgPevoTOJOtxS+inrQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Basic Gatsby install&quot;
        title=&quot;&quot;
        src=&quot;/static/basic-gatsby-install-675a2b91b175a414274db4e8c93a30be-7476a.png&quot;
        srcset=&quot;/static/basic-gatsby-install-675a2b91b175a414274db4e8c93a30be-5131c.png 250w,
/static/basic-gatsby-install-675a2b91b175a414274db4e8c93a30be-37136.png 500w,
/static/basic-gatsby-install-675a2b91b175a414274db4e8c93a30be-7476a.png 1000w,
/static/basic-gatsby-install-675a2b91b175a414274db4e8c93a30be-a41db.png 1500w,
/static/basic-gatsby-install-675a2b91b175a414274db4e8c93a30be-dcd0a.png 2000w,
/static/basic-gatsby-install-675a2b91b175a414274db4e8c93a30be-cf3f6.png 2446w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;Enhancing our Gatsby blog&lt;/h2&gt;
&lt;p&gt;We’re going to add some features to our blog that I’ve become accustomed to.&lt;/p&gt;
&lt;h3&gt;Pagination&lt;/h3&gt;
&lt;p&gt;This helpful starter blog is just for starters. But like so many starter apps, it might not be immediately clear how to add a feature like pagination.&lt;/p&gt;
&lt;p&gt;To build our pagination, we need to turn our starter blogs structure upside down. In our starter blog, we have the file &lt;code class=&quot;language-text&quot;&gt;src/pages/index.js&lt;/code&gt; which acts as our index page, which generates a list of all our blog content.&lt;/p&gt;
&lt;p&gt;What we need to do is generate our index page based on constraints (like maximum articles per page) and every other page we might need, dynamically, based on how many articles we have.&lt;/p&gt;
&lt;p&gt;So let’s go ahead and just delete &lt;code class=&quot;language-text&quot;&gt;src/pages/index.js&lt;/code&gt; and see what it has done to our blog.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/broken-gatsby-homepage-65ac29852b1113d2ec7e6acbd3bdc680-cf3f6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 68.27473426001634%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAAByElEQVQ4y62TW2saQRTHB/LUlxDoF+jrkO+RT1TI5qkPvgiihEiw0IYIEij4IYqIriYoBLwigrJdXRUvq+66s5eZnDNo0qTVkMQDP3b3XP5zzswOSafTh6pa+Fqr1c5ub++UdrutaJqmVKtVpV6v/0Oj0VCazeYzwHeqquq3TCZzQpLJJF2tHIEWBIH4iLVarV8kEonQbrdr9ft9H3ANw5D0ej13NBq5g8HA1XVdPtGPBrUvWaHgcDi8IuFwmGazWSeXy4l8Ps9LpZKkUCjwYrEo3yuVCi+Xyxzy+Gw241D7Eg8FYdFrkkgk6Hw+Z57nCcuy+GtjYx5jTDiOI59rfIzBBNckGo3STqfDYFyh6z0+nU7FcrkU0ImAhYRt2xL0TSYT6TfNucA8jK+Rgn0U/A4dQpBBd5jMTdMUGzB5sVhIEexoh/mPI8diMfpH0xiubtsr7vu+HGvD5hu3gnO+jSfBi3icVutNBicEhS7f1QYWb/E/CZ5f/qTdkc0mFhfMC/im8H/8HdsqGE/8oMZ4YU+XDMYNfAy+FdgOtj7lK5JKpY7Fnmw8Ht+QUCj0BX7c30ARyAPqO8jB3b+Hi3FGwA6AI+DzHvj0AEOStg6QW5gNAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Broken Gatsby homepage&quot;
        title=&quot;&quot;
        src=&quot;/static/broken-gatsby-homepage-65ac29852b1113d2ec7e6acbd3bdc680-7476a.png&quot;
        srcset=&quot;/static/broken-gatsby-homepage-65ac29852b1113d2ec7e6acbd3bdc680-5131c.png 250w,
/static/broken-gatsby-homepage-65ac29852b1113d2ec7e6acbd3bdc680-37136.png 500w,
/static/broken-gatsby-homepage-65ac29852b1113d2ec7e6acbd3bdc680-7476a.png 1000w,
/static/broken-gatsby-homepage-65ac29852b1113d2ec7e6acbd3bdc680-a41db.png 1500w,
/static/broken-gatsby-homepage-65ac29852b1113d2ec7e6acbd3bdc680-dcd0a.png 2000w,
/static/broken-gatsby-homepage-65ac29852b1113d2ec7e6acbd3bdc680-cf3f6.png 2446w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const&quot;&gt;Constants (or &lt;code class=&quot;language-text&quot;&gt;const&lt;/code&gt;)&lt;/a&gt; are one of a few &lt;a href=&quot;https://auth0.com/blog/a-rundown-of-es6-features/&quot;&gt;new features in ES6&lt;/a&gt; and we’re going to be using them in this guide. &lt;/p&gt;
&lt;p&gt;They’re block-scoped and can be either global or local to the block they were declared. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“The &lt;code class=&quot;language-text&quot;&gt;const&lt;/code&gt; &lt;strong&gt;declaration&lt;/strong&gt; creates a read-only reference to a value. It does not mean the value it holds is immutable, just that the variable identifier cannot be reassigned. For instance, in the case where the content is an object, this means the object’s contents (e.g., its parameters) can be altered” – &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const&quot;&gt;developer.mozilla.org&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions&quot;&gt;Arrow functions (e.g. &lt;code class=&quot;language-text&quot;&gt;param =&amp;gt; { // your func here }&lt;/code&gt;)&lt;/a&gt; are another &lt;a href=&quot;https://auth0.com/blog/a-rundown-of-es6-features/&quot;&gt;new feature in ES6&lt;/a&gt; that you’ll see used through this guide. They’re the &lt;strong&gt;new function&lt;/strong&gt; expression and they’re shorter! But they do have some drawbacks, not having their own &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt;&lt;/a&gt;, &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments&quot;&gt;arguments&lt;/a&gt;, &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/super&quot;&gt;super&lt;/a&gt;, or &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new.target&quot;&gt;new.target&lt;/a&gt;. They are best suited for non-method functions, always called with the context in which they are defined.&lt;/p&gt;
&lt;p&gt; &lt;strong&gt;Handy!&lt;/strong&gt;  &lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let&quot;&gt;Lets (or &lt;code class=&quot;language-text&quot;&gt;let&lt;/code&gt;)&lt;/a&gt; are also new to ES6. They are block-scoped local variables that you intend to reassign.&lt;/p&gt;
&lt;p&gt;Now, lets edit &lt;code class=&quot;language-text&quot;&gt;gatsby-node.js&lt;/code&gt; to start building our pagination, by adding a &lt;code class=&quot;language-text&quot;&gt;const&lt;/code&gt; for how many articles per page we want to display. Because our demo has 3 articles, make our page length &lt;code class=&quot;language-text&quot;&gt;2&lt;/code&gt;, giving us two pages.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// gatsby-node.js&lt;/span&gt;
exports&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;createPages&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; graphql&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; boundActionCreators &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; pageLength &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;We’re going to need a function that takes a page index and creates us a path (with an optional prefix).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// gatsby-node.js&lt;/span&gt;
exports&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;createPages&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; graphql&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; boundActionCreators &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;pageToPath&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pathPrefix&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; maxPages&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pathPrefix &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      pathPrefix &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;pathPrefix&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      pathPrefix &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;index &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;pathPrefix&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/`&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;index &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; index &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; maxPages&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;pathPrefix&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;index&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;We need one more function now, that will take a collection of articles (or “nodes”) and create the paginated index pages. This could be a paginated list based on a category, a date or just all your articles.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// gatsby-node.js&lt;/span&gt;
exports&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;createPages&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; graphql&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; boundActionCreators &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;createPaginatedPages&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    edges&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    pathPrefix &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    component&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    context &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; groupedPages &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; edges
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;edge&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; index &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; pageLength &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; edges&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; index &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; pageLength&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;edge &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; edge&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; maxPages &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; groupedPages&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    _&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;each&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;groupedPages&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;group&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; pageNumber &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; index &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createPage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        path&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;pageToPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pageNumber&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pathPrefix&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; maxPages&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        component&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; component&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        context&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          group&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; group&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          nextPath&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;pageToPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pageNumber &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pathPrefix&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; maxPages&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          prevPath&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;pageToPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pageNumber &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pathPrefix&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; maxPages&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          extraContext&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; context
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;To recap, we have now created:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;a variable with our page length;&lt;/li&gt;
&lt;li&gt;a function to take a page number and return it’s URL;&lt;/li&gt;
&lt;li&gt;a function that will take a collection of pages, create an index page and subsequent pages, each limited to our page length.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;But at this very moment, we’re still getting our 404. We need to use this code. Let’s do it.&lt;/p&gt;
&lt;p&gt;Create a new template file, &lt;code class=&quot;language-text&quot;&gt;src/templates/index.js&lt;/code&gt; and add the following content to it.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// src/templates/index.js&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Link &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;gatsby-link&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;lodash/get&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Helmet &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react-helmet&apos;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Bio &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../components/Bio&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; rhythm &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../utils/typography&apos;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IndexPage&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; siteTitle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;props.data.site.siteMetadata.title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pathContext &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; group&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; nextPath&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; prevPath &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pathContext&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Helmet title&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;siteTitle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Bio &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;group&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; node &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; title &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;frontmatter.title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fields&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;slug
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fields&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;slug&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h3
                style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                  marginBottom&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;rhythm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
                &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; boxShadow&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;none&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fields&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;slug&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
                  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h3&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;small&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;date&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;small&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p dangerouslySetInnerHTML&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; __html&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;excerpt &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;prevPath&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; boxShadow&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;none&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;prevPath&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;lt&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; Older posts
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;nextPath&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; boxShadow&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;none&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;prevPath&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
            Newer posts &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;gt&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; IndexPage&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;If you still had our &lt;code class=&quot;language-text&quot;&gt;src/pages/index.js&lt;/code&gt; that we deleted earlier, you’ll notice there are some similarities. Probably because I copy and pasted it, making the changes necessary. I’ll talk you through the changes now.&lt;/p&gt;
&lt;p&gt;The main difference between the original &lt;code class=&quot;language-text&quot;&gt;src/pages/index.js&lt;/code&gt; and our &lt;code class=&quot;language-text&quot;&gt;src/templates/index.js&lt;/code&gt; is that we don’t need a &lt;code class=&quot;language-text&quot;&gt;graphql&lt;/code&gt; query to retrieve the articles for the page. Instead, we’re using the result of the data in our &lt;code class=&quot;language-text&quot;&gt;gatsby-node.js&lt;/code&gt; file to render to pages we need.&lt;/p&gt;
&lt;p&gt;The other change is that we’ve now added our pagination below the articles. We’ve kept it simple and just passed a &lt;code class=&quot;language-text&quot;&gt;previous&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;next&lt;/code&gt; link into our template. Each paginated index we generate has the context of the previous and next pages in the list.&lt;/p&gt;
&lt;p&gt;So we have our functions to generate our index pages and our template. Lets edit &lt;code class=&quot;language-text&quot;&gt;gatsby-node.js&lt;/code&gt; again and put it all together.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// gatsby-node.js&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
exports&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;createPages&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; graphql&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; boundActionCreators &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; blogPost &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./src/templates/blog-post.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;graphql&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// Create blog posts pages.&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; posts &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;allMarkdownRemark&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;edges&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;// Create main paginated index of posts.&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;createPaginatedPages&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          edges&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; posts&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          component&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`./src/templates/index.js`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Gatsby uses a &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Promise&lt;/code&gt;&lt;/a&gt; to contain the GraphQL request and subsequent handling of the result. This enables Gatsby to compile the site asynchronously and a Promise represents the eventual completion (or failure). &lt;/p&gt;
&lt;p&gt;We’re adding our &lt;code class=&quot;language-text&quot;&gt;createPaginatedPages&lt;/code&gt; function to the Promise’s result.&lt;/p&gt;
&lt;p&gt;Let’s see if it works, visit &lt;a href=&quot;http://localhost:8000/&quot;&gt;localhost:8000&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/gatsby-paginated-page-1-1bbd855c027ebdfef6568a881e75d8aa-cf3f6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 68.27473426001634%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAAB8klEQVQ4y61SzarTUBAOuHIjgi/gtvgevowrQTB3dRd9jBJaKIJc6TNIFza30o1NKi0tePPXn7RJmjT/OTnjzLFx4dV7r+LAx8mczHwz35yRBoPBk/H485v5fH4xmUxkPOU4jmXLsuTVaiX8xWJxJzDmraqql8Ph8KWkKEoriiIgK4oCOOdgmibs93tgjMHf2HK5fC91u90WJiboU3aZZVl5dfWh7HQ65fj6uqS7ByAjQtd1FanX67XKsszPRXhVVfyrPuXYNbecLT94R74/+DwMQx74Pg/ChB9PCY9PJ9RCgoRVlLzb7boNYdEQZnkG8utXoGtTOOU1HI4JhHGO8ivAOKgqBhWOgsbBQTAS2O8JRTGAOC0gKzCpvn9udxOSZGQxtiGsNhHcuAkkOanhTaIAazqk6j9I/0xYY6BtGrBxbNht1rB2HLBtGxw8CWtnDb7vQxAEYivuJ6w5HHFmfpSCF6aQZgXQ7zzPBUGzWg+XjENfGK6Q7XhImJdUBWoEyaQTN0E8EH3f6pD2EH+m5+dnGMxs84ZZxjfmWCbDJWeGYfwE+ZZpsTCMGOYxykFi0dB2u1Wkfr//4tbLwb+Z53nvpHa7/VzX9Y+IMWKEUKeapmqars5mM5X8BuT/enfGJ7z/MhqNLiS0R4iniGf/AY+/AwKlt5H/J7qSAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Paginated Gatsby page 1&quot;
        title=&quot;&quot;
        src=&quot;/static/gatsby-paginated-page-1-1bbd855c027ebdfef6568a881e75d8aa-7476a.png&quot;
        srcset=&quot;/static/gatsby-paginated-page-1-1bbd855c027ebdfef6568a881e75d8aa-5131c.png 250w,
/static/gatsby-paginated-page-1-1bbd855c027ebdfef6568a881e75d8aa-37136.png 500w,
/static/gatsby-paginated-page-1-1bbd855c027ebdfef6568a881e75d8aa-7476a.png 1000w,
/static/gatsby-paginated-page-1-1bbd855c027ebdfef6568a881e75d8aa-a41db.png 1500w,
/static/gatsby-paginated-page-1-1bbd855c027ebdfef6568a881e75d8aa-dcd0a.png 2000w,
/static/gatsby-paginated-page-1-1bbd855c027ebdfef6568a881e75d8aa-cf3f6.png 2446w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/gatsby-paginated-page-2-broken-d8fdbb164464c68cd8683b153f9f589e-cf3f6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 68.27473426001634%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAABm0lEQVQ4y62TzUrDQBCAA568iOALeC2+h09UMD156HPYForgpUcRvEgPNgqFUknSlIBCE21aiG3TtEkmmx1n11YEW1t/Bj7YZXa+7EwSpVar7d3d3eetjlVoNpuqYZjq09Ojquu6XJumqXY6lmpZX+l2uxJan2iadlqv14+VUqmUm0wmKCKOY/xL2LZ9oZTL5RxjbEZ7RkAcR3B9dQmUhFZbhwfdBP91BEEwhfF4BONpBEEYwWwWgji/IBLC4XB4plQqlRwALK/Gozjip4U8b7dafDiaccfzOUl4mqacznFImUTsP0UqigeDQXkpTKSNQrbO3tkmRAnBVgpFPk0ZGo8e2u4rTsIEM8YwAcCUgE8kCeWybCldLxQC78XF/rOLjtMjXOz1HHQdV677/T6G0xADepHU9iYh5xm1MKZ5T+cgbyBYtIWLiWzf8mLAyDJOIr5pbh8P+Fa4rnCFZLVQfIcknMv5ZRkTyZ9CdfJCnuedKdVq9Qj/KXzfP1eKxeIh/bc3xD3RILRfcGsYRrvRaBQUih1inzj4B3bfAGKJvcIGE/J8AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Paginated Gatsby page 2 broken&quot;
        title=&quot;&quot;
        src=&quot;/static/gatsby-paginated-page-2-broken-d8fdbb164464c68cd8683b153f9f589e-7476a.png&quot;
        srcset=&quot;/static/gatsby-paginated-page-2-broken-d8fdbb164464c68cd8683b153f9f589e-5131c.png 250w,
/static/gatsby-paginated-page-2-broken-d8fdbb164464c68cd8683b153f9f589e-37136.png 500w,
/static/gatsby-paginated-page-2-broken-d8fdbb164464c68cd8683b153f9f589e-7476a.png 1000w,
/static/gatsby-paginated-page-2-broken-d8fdbb164464c68cd8683b153f9f589e-a41db.png 1500w,
/static/gatsby-paginated-page-2-broken-d8fdbb164464c68cd8683b153f9f589e-dcd0a.png 2000w,
/static/gatsby-paginated-page-2-broken-d8fdbb164464c68cd8683b153f9f589e-cf3f6.png 2446w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Great, it works! But incase you missed it, there is clearly something wrong on page two. In our layout file, we have a condition around the default &lt;code class=&quot;language-text&quot;&gt;&amp;lt;h1&amp;gt;&lt;/code&gt; that turns it into a &lt;code class=&quot;language-text&quot;&gt;&amp;lt;h3&amp;gt;&lt;/code&gt; if we’re not on the absolute homepage. Let’s modify the styling on the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;h3&amp;gt;&lt;/code&gt; to fix this little issue. This is a great opportunity for you to put your own stamp on your site.&lt;/p&gt;
&lt;p&gt;Here’s my fix, edit &lt;code class=&quot;language-text&quot;&gt;src/layouts/index.js&lt;/code&gt; and remove the following line.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-diff&quot;&gt;&lt;code class=&quot;language-diff&quot;&gt;// src/layouts/index.js
             fontFamily: &apos;Montserrat, sans-serif&apos;,
             marginTop: 0,
&lt;span class=&quot;token deleted&quot;&gt;-            marginBottom: rhythm(-1),&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/gatsby-paginated-page-2-fixed-8dd7670b4dc441dca20d55fdb1fe1083-cf3f6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 68.27473426001634%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAABo0lEQVQ4y62T22rCQBCGA73qTSn0BXorfY8+UaF600K96kN4ACm0UOkjFC/qAbwpqIlK0UTRxNZDDmqy2cx0Vg1UaLW2DnyZJLv77/yziZTNZo+KxdKFIiuxcrkcrdVqUVVVo5VKZXEvy3K0Xq9vRFGUy0KhcJ3L5c6lZDIZMU0TRbiui/+JZrN5L6VSqQjnfErPnGBBEDDdMFi73WaaqjJVbTPxfgtzITgYDBJSOp2OMMbC0sB15/D0+ACtVgveWhpo3R68f4yAXMB4NIKxOYWJPQXHtgFo/ip8sdgwjFQo6IWCnufh7c0VNhQZbQ9waM3RdFzkvo80D5nP0SfIFQIuFAX8W0GxlchiO5cu8Iu+bRQU46KCylsfG53RsjLuo+exZXVfEE6o36Hoz4IBWTF6XdSJTkcjKGsd7FIW9Ps6Oo6DlmWRdX+bIEBAFiYOQ3vmh3bW2Mny6sSQB0B2YFPP1jZYExTfIQnOFnaDgIvBXaF1i4J0XU9ImUzmDPcUw+HwTorH46f03z4TJSJPFP7AS7Vafc3n8zGJ4oA4Jk72wOEnrgy9UBmZHM0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Paginated Gatsby page 2 fixed&quot;
        title=&quot;&quot;
        src=&quot;/static/gatsby-paginated-page-2-fixed-8dd7670b4dc441dca20d55fdb1fe1083-7476a.png&quot;
        srcset=&quot;/static/gatsby-paginated-page-2-fixed-8dd7670b4dc441dca20d55fdb1fe1083-5131c.png 250w,
/static/gatsby-paginated-page-2-fixed-8dd7670b4dc441dca20d55fdb1fe1083-37136.png 500w,
/static/gatsby-paginated-page-2-fixed-8dd7670b4dc441dca20d55fdb1fe1083-7476a.png 1000w,
/static/gatsby-paginated-page-2-fixed-8dd7670b4dc441dca20d55fdb1fe1083-a41db.png 1500w,
/static/gatsby-paginated-page-2-fixed-8dd7670b4dc441dca20d55fdb1fe1083-dcd0a.png 2000w,
/static/gatsby-paginated-page-2-fixed-8dd7670b4dc441dca20d55fdb1fe1083-cf3f6.png 2446w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;Gatsby and Auth0&lt;/h2&gt;
&lt;p&gt;When you have a blog, you’ll probably have readers (you hope) and you’ll also want to let them know when you create a new post. For this, we’re going to use &lt;a href=&quot;https://auth0.com&quot;&gt;Auth0&lt;/a&gt; to identify our users.&lt;/p&gt;
&lt;p&gt;We’re also going to be following the &lt;a href=&quot;https://auth0.com/docs/quickstart/spa/react&quot;&gt;Auth0 React Quickstart&lt;/a&gt; to get set up with Auth0 authentication on our new application. If you’re confident with React you could skip straight to the quickstart or get the code you need from the &lt;a href=&quot;https://github.com/auth0-samples/auth0-react-samples/tree/embedded-login&quot;&gt;Auth0 React samples repository&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&quot;https://auth0.com/docs/hosted-pages/login&quot;&gt;Auth0 login page&lt;/a&gt; is the easiest way to set up authentication in your application.&lt;/p&gt;
&lt;h3&gt;Sign Up for Auth0&lt;/h3&gt;
&lt;p&gt;You’ll need an &lt;a href=&quot;https://auth0.com&quot;&gt;Auth0&lt;/a&gt; account to manage authentication. You can &lt;a href=&quot;https://auth0.com/signup&quot; data-amp-replace=&quot;CLIENT_ID&quot; data-amp-addparams=&quot;anonId=CLIENT_ID(cid-scope-cookie-fallback-name)&quot;&gt;sign up for a free Auth0 account here&lt;/a&gt;. Next, set up an Auth0 Application so Auth0 can interface with your app.&lt;/p&gt;
&lt;h3&gt;Set Up an Application App&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Go to your &lt;a href=&quot;https://manage.auth0.com/#/&quot;&gt;&lt;strong&gt;Auth0 Dashboard&lt;/strong&gt;&lt;/a&gt; and click the ”&lt;a href=&quot;https://manage.auth0.com/#/applications/create&quot;&gt;create a new application&lt;/a&gt;” button. &lt;/li&gt;
&lt;li&gt;Name your new app, select “Single Page Web Applications”, and click the “Create” button. &lt;/li&gt;
&lt;li&gt;In the &lt;strong&gt;Settings&lt;/strong&gt; for your new Auth0 app, add &lt;code class=&quot;language-text&quot;&gt;http://localhost:8000/callback&lt;/code&gt; to the &lt;strong&gt;Allowed Callback URLs&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Click the “Save Changes” button.&lt;/li&gt;
&lt;li&gt;If you’d like, you can &lt;a href=&quot;https://manage.auth0.com/#/connections/social&quot;&gt;set up some social connections&lt;/a&gt;. You can then enable them for your app in the &lt;strong&gt;Application&lt;/strong&gt; options under the &lt;strong&gt;Connections&lt;/strong&gt; tab. The example shown in the screenshot above utilizes username/password database, Facebook, Google, and Twitter.&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Under the &lt;strong&gt;OAuth&lt;/strong&gt; tab of &lt;strong&gt;Advanced Settings&lt;/strong&gt; (at the bottom of the &lt;strong&gt;Settings&lt;/strong&gt; section) you should see that the &lt;strong&gt;JsonWebToken Signature Algorithm&lt;/strong&gt; is set to &lt;code class=&quot;language-text&quot;&gt;RS256&lt;/code&gt;. This is the default for new applications. If it is set to &lt;code class=&quot;language-text&quot;&gt;HS256&lt;/code&gt;, please change it to &lt;code class=&quot;language-text&quot;&gt;RS256&lt;/code&gt;. You can &lt;a href=&quot;https://community.auth0.com/questions/6942/jwt-signing-algorithms-rs256-vs-hs256&quot;&gt;read more about RS256 vs. HS256 JWT signing algorithms here&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Install auth0.js&lt;/h3&gt;
&lt;p&gt;You need the auth0.js library to integrate Auth0 into your application.&lt;/p&gt;
&lt;p&gt;Install auth0.js using npm.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --save auth0-js&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Create the Auth component&lt;/h3&gt;
&lt;p&gt;We’ll need a new React component to manage and coordinate user authentication. &lt;/p&gt;
&lt;h4&gt;Basic component&lt;/h4&gt;
&lt;p&gt;Create a new file &lt;code class=&quot;language-text&quot;&gt;src/utils/auth.js&lt;/code&gt; and inside it put the following code:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// src/utils/auth.js&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; auth0 &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;auth0-js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;AUTH0_DOMAIN&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;your-domain&gt;.auth0.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;AUTH0_CLIENT_ID&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;your-client-id&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Auth&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  auth0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;auth0&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;WebAuth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    domain&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;AUTH0_DOMAIN&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    clientID&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;AUTH0_CLIENT_ID&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    redirectUri&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;http://localhost:8000/callback&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    audience&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`https://&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;AUTH0_DOMAIN&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/api/v2/`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    responseType&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;token id_token&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    scope&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;openid profile email&apos;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;login&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;auth0&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;authorize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Edit &lt;code class=&quot;language-text&quot;&gt;src/utils/auth.js&lt;/code&gt; and replace &lt;code class=&quot;language-text&quot;&gt;&amp;lt;your-domain&amp;gt;&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;&amp;lt;your-client-id&amp;gt;&lt;/code&gt; with your Auth0 domain prefix and your client ID, found on your &lt;a href=&quot;https://manage.auth0.com/#/applications&quot;&gt;application dashboard&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Due to a dependency issue, we also need to tell Gatsby about a global variable in order for Webpack to know about it in production builds. This won’t affect us in development, but later on this could come back and surprise us!&lt;/p&gt;
&lt;p&gt;So now edit &lt;code class=&quot;language-text&quot;&gt;gatsby-node.js&lt;/code&gt; and add the following code.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// gatsby-node.js&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;

exports&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;modifyWebpackConfig&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; stage &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;build-html&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;plugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;define&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; webpack&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;DefinePlugin&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;global.GENTLY&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;


exports&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;createPages&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; graphql&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; boundActionCreators &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h4&gt;Test our component&lt;/h4&gt;
&lt;p&gt;Quickly, we’ll test that we can load our new component from any part of the app. To quickly do this we’ll add the following code to our &lt;code class=&quot;language-text&quot;&gt;src/templates/index.js&lt;/code&gt; file.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// src/templates/index.js&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; rhythm &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../utils/typography&apos;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Add this to test we can load our Auth component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Auth &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../utils/auth.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; auth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Auth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
auth&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;login&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IndexPage&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;When you visit &lt;a href=&quot;http://localhost:8000/&quot;&gt;localhost:8000&lt;/a&gt; now, we’ll be redirected to our login page. &lt;strong&gt;Logging in won’t work!&lt;/strong&gt; We haven’t built our callback yet. But at least we know our library is loading just fine. &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/auth0-login-box-d563bf984325904e97a48bacd754a26e-27c12.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 69.0909090909091%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAADWElEQVQ4y52Tz28bVRDHI3FCwH9QED/q/Ng49q69Xnt37bW9aydpGqgEouXQqiBx4dJLDQduVSmqVKmHViXQKCpC4gClQhyQ2qwQgR6apkoTJ3aaXEodUdlxqjptknWa3X3fzlsHLtx40uiN/d58Zr5vZruWV1ZO1B/c//TvWu1ko9EotdtOaW2tUeL++nqz1Gyu/Wv8/3q9Hpw1GnX6vVZaXa2dXFgofzY7Oxvq4mt6egbL95awWK2gsrSEanUJ5fIC7t6dx/x8GeWFRcyXFzE31/H5ebV6L9grlSoqtC8vr+DHqz99GAAHBuKbUTHpi1JqV4qrbiyuubGY6lrWiHv4yDH3/fc+CIz7B0ffdRUl4yYSaTcua65EMaKYfBaJKgiFhKMdYCThSDEVsqwzRTFYOl1g4bDMzpw5y5qtDfbg1hRbnfqVNR49Zteu/cySySxT1TztBpMTaUaxPhWEUHf/sQAYi6sOHYJf0nULefMAJEnD+fMX4Gw/xcPafdRX/0Lr8TpuXL+BTKaIbHYIlBiqFoB9AqOvL9oBygndIRgIxgxjEIXi21RtGpe+GsfTNlCrb+Hhox00nwBTN2eQzw/DNEeQzQ1BT1u8Wp8XJPRLHWBCyTiaZiKdKbBcbhiDg+9AowRnz13CD39u4PL1LUxMbuJr28fE1WmMDI/CtEYJfAAZo8g03fRTag7hcKwDVDhQN7kUlqPsQ0OHkEzmMD5+BXy1nW3stJ3AvzNzB4XCKIqkgj8NKfovkDrmqLxCagaXwStMKAbGxsYJwbDRamF7aysATt+6Hci1rIPgybkqivWTqSz6w3uSqf1OKpUDyWZ0IbgsSSq+mfgugDzZ2cXmrh/4t+cWeVUBjOQGMalU1qdnQ58gdoA0Q5vUej4CLoE9I1PwwrLhXfzkuIfvv/RaE6e9jStfeO63p70/Tp3wVN30SI1HHfZohFyK26W5RU9v5Og/TQk6xrNS16Brech6ER9nFFy2BFwoirg4KGHMCuPzrAiNRosbfzeaW8RlHfQx8Dn8KABGRfmXZCr9m6oakwORuN3dM2D3C1F7vxCzXxVk+7U94/4bQtwWBNHu7YvYPXQv1B2294eEyTff6v19377Xza699SLZK2Qv/0/jsS+RvcBhzwE58CLfFHx9GgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Gatsby Blog Auth0 login box&quot;
        title=&quot;&quot;
        src=&quot;/static/auth0-login-box-d563bf984325904e97a48bacd754a26e-7476a.png&quot;
        srcset=&quot;/static/auth0-login-box-d563bf984325904e97a48bacd754a26e-5131c.png 250w,
/static/auth0-login-box-d563bf984325904e97a48bacd754a26e-37136.png 500w,
/static/auth0-login-box-d563bf984325904e97a48bacd754a26e-7476a.png 1000w,
/static/auth0-login-box-d563bf984325904e97a48bacd754a26e-a41db.png 1500w,
/static/auth0-login-box-d563bf984325904e97a48bacd754a26e-dcd0a.png 2000w,
/static/auth0-login-box-d563bf984325904e97a48bacd754a26e-27c12.png 2310w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Now go ahead and remove the test code from &lt;code class=&quot;language-text&quot;&gt;src/templates/index.js&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;Finish the component&lt;/h4&gt;
&lt;p&gt;We need a few more methods in the &lt;code class=&quot;language-text&quot;&gt;Auth&lt;/code&gt; util to handle authentication in the app. So add the following code to &lt;code class=&quot;language-text&quot;&gt;src/utils/auth.js&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// src/utils/auth.js&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; navigateTo &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;gatsby-link&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Auth&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;login &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;login&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;logout &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;logout&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;handleAuthentication &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;handleAuthentication&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isAuthenticated &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isAuthenticated&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;logout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;access_token&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;id_token&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;expires_at&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;handleAuthentication&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; window &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;undefined&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;auth0&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parseHash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; authResult&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;authResult &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; authResult&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;accessToken &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; authResult&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;idToken&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setSession&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;authResult&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;// Return to the homepage after authentication.&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;navigateTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;isAuthenticated&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; expiresAt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;expires_at&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; expiresAt&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;setSession&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;authResult&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; expiresAt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;authResult&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;expiresIn &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;access_token&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; authResult&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;accessToken&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;id_token&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; authResult&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;idToken&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;expires_at&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; expiresAt&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;auth0&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;userInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;authResult&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;accessToken&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;getUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;getUserName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Now we need our callback, so create a new file at &lt;code class=&quot;language-text&quot;&gt;src/pages/Callback.js&lt;/code&gt; and copy  the following code into it.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// src/pages/Callback.js&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Auth &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../utils/auth&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Callback&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; auth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Auth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    auth&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;handleAuthentication&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;Loading&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Callback&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; For our example repository, you’ll notice we use an animated &lt;code class=&quot;language-text&quot;&gt;svg&lt;/code&gt; in our callback. I haven’t included it here for the sake of simplicity.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Exclude &lt;code class=&quot;language-text&quot;&gt;Callback.js&lt;/code&gt; from being rendered with our usual layout, without the Bio or headers. No one should ever see the callback page anyway, so it needs to be fast. So edit &lt;code class=&quot;language-text&quot;&gt;src/layouts/index.js&lt;/code&gt; and add the following lines. This returns a basic layout for the &lt;code class=&quot;language-text&quot;&gt;/callback&lt;/code&gt; path.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-diff&quot;&gt;&lt;code class=&quot;language-diff&quot;&gt;// src/layouts/index.js
...
     const { location, children } = this.props;
&lt;span class=&quot;token inserted&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;token inserted&quot;&gt;+    // Callback doesn&apos;t need nav etc, so return early&lt;/span&gt;
&lt;span class=&quot;token inserted&quot;&gt;+    if (location.pathname === &apos;/callback&apos;) {&lt;/span&gt;
&lt;span class=&quot;token inserted&quot;&gt;+      return (&lt;/span&gt;
&lt;span class=&quot;token inserted&quot;&gt;+        &amp;lt;div&gt;&lt;/span&gt;
&lt;span class=&quot;token inserted&quot;&gt;+          &amp;lt;Container&gt;&lt;/span&gt;
&lt;span class=&quot;token inserted&quot;&gt;+            {children()}&lt;/span&gt;
&lt;span class=&quot;token inserted&quot;&gt;+          &amp;lt;/Container&gt;&lt;/span&gt;
&lt;span class=&quot;token inserted&quot;&gt;+        &amp;lt;/div&gt;&lt;/span&gt;
&lt;span class=&quot;token inserted&quot;&gt;+      )&lt;/span&gt;
&lt;span class=&quot;token inserted&quot;&gt;+    }&lt;/span&gt;

     let header;
...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;We don’t need to register the &lt;code class=&quot;language-text&quot;&gt;Callback.js&lt;/code&gt; file with a router, which you might do in  a more traditional React application. Gatsby automatically routes anything in the &lt;code class=&quot;language-text&quot;&gt;pages/&lt;/code&gt; directory. So &lt;code class=&quot;language-text&quot;&gt;src/pages/Callback.js&lt;/code&gt; becomes &lt;code class=&quot;language-text&quot;&gt;/callback&lt;/code&gt; on our application. The Gatsby docs have a great page on &lt;a href=&quot;https://www.gatsbyjs.org/docs/creating-and-modifying-pages/&quot;&gt;creating and modifying pages&lt;/a&gt;, if you’re interested in what else you can achieve with the pages feature.&lt;/p&gt;
&lt;p&gt;Next, we’re going to add a new component for navigation. This could hold our branding, some links to static pages and our log in/log out link. Create &lt;code class=&quot;language-text&quot;&gt;src/components/Nav.js&lt;/code&gt; and paste in the code below.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// src/components/Nav.js&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Auth &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../utils/auth&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; auth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Auth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Nav&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      authenticated&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;login&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    auth&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;login&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      authenticated&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; auth&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isAuthenticated&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;logout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    auth&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;logout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      authenticated&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; auth&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isAuthenticated&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;componentDidMount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      authenticated&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; auth&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isAuthenticated&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div
        style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          height&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;50px&apos;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div
          style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            float&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;right&apos;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;a href&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;
             style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
               boxShadow&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;none&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
               lineHeight&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;37px&apos;&lt;/span&gt;
             &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
            Home
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;a&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;span&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;authenticated &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
                &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;a href&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;#&quot;&lt;/span&gt;
                  onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;login&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                  style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    boxShadow&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;none&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    lineHeight&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;37px&apos;&lt;/span&gt;
                  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
                  Log In
                &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;a&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;span&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;authenticated &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
                &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;a href&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;#&quot;&lt;/span&gt;
                  onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;logout&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                  style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    boxShadow&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;none&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    lineHeight&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;37px&apos;&lt;/span&gt;
                  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
                  Log Out
                  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    auth&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getUserName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;auth&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getUserName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;span&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;a&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;span&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Now add our &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Nav&amp;gt;&lt;/code&gt; to &lt;code class=&quot;language-text&quot;&gt;src/layouts/index.js&lt;/code&gt; like so. &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-diff&quot;&gt;&lt;code class=&quot;language-diff&quot;&gt;// src/layouts/index.js
...
     return (
       &amp;lt;div&gt;
         &amp;lt;Container
           style={{
             maxWidth: rhythm(24),
             padding: `${rhythm(1.5)} ${rhythm(3 / 4)}`,
           }}
         &gt;
&lt;span class=&quot;token inserted&quot;&gt;+          &amp;lt;Nav /&gt;&lt;/span&gt;
           {header}
           {children()}
         &amp;lt;/Container&gt;
       &amp;lt;/div&gt;
     )
...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Let’s preview our &lt;a href=&quot;http://localhost:8000/&quot;&gt;dev site&lt;/a&gt; again. It should look something like this.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/nav-added-to-gatsby-086df83a01545c58f47a3e980f5c6660-3169e.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 69.68390804597702%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACFUlEQVQ4y62Ty4oaQRSGGzUXmJeI2ecVspsEssw2IYs8zrjI3qWbCbgwEJEsFELAjBm8IAlqvICD3XZr3+/d1V19cqptByc4k1mk4aPqVNX5OefvKq7ZbD4dDoelyWTCONtsNqXZfIHMSrPZjul0emNczOelOZLtnzG63e6HVqv1jOt0Oq/gP339fv89NxgMTpMkoRiTPf6GJ8KKJ7bjEt/3iWVZxHVdYtsWISQiXhiTMKLkICdggtjhGw5VX6Agi5M4jtPJj8tLKJfLcH7+Eer1OlSrVWg0GlCr1WC14tNqWE4Gy4nZ2mg0entDkFKaTtBTqFQqcHHx/db2jgmOx+PjgtPJCEa/foK0VUHRTNB0E2zbBtO0wHQCcBwHspy7Bfctf/vagi+fP0GEkW554HgBRFEEaCCQKE7n9xLcbSYQ4LbmJaA5MdA7/uo/W842QdV0mC6uYCXKIG1k0DQtRVVV0HUdWzchDMP7Vgjg+SGo6JuqW6lvzD+8OilBEAB6nXJUsNfrnaJ3LKZ0d4qKskF/LyW6lAxqWC4NfJ96CIpRz/MoVpeeZfc3I7q+NnhFXv7tDTOdtWeZBthYlYEtsjYNw0jHiERHPcWn+Y7D9/d8vV6LkiQJe4S1JCx5SdjKsqAoyjVyFm+3W+HwPMKLoqi02+3XXC6Xe1woFJ4gxT0PH+SKJ49yRY7jbiWfzxcPcxi4dvIHQLbB3Twj838AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Nav added to Gatsby blog&quot;
        title=&quot;&quot;
        src=&quot;/static/nav-added-to-gatsby-086df83a01545c58f47a3e980f5c6660-7476a.png&quot;
        srcset=&quot;/static/nav-added-to-gatsby-086df83a01545c58f47a3e980f5c6660-5131c.png 250w,
/static/nav-added-to-gatsby-086df83a01545c58f47a3e980f5c6660-37136.png 500w,
/static/nav-added-to-gatsby-086df83a01545c58f47a3e980f5c6660-7476a.png 1000w,
/static/nav-added-to-gatsby-086df83a01545c58f47a3e980f5c6660-a41db.png 1500w,
/static/nav-added-to-gatsby-086df83a01545c58f47a3e980f5c6660-dcd0a.png 2000w,
/static/nav-added-to-gatsby-086df83a01545c58f47a3e980f5c6660-3169e.png 2784w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;And now when we log in, our application now knows who we are.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/logged-into-the-gatsby-blog-74b155e0755bc9e5fcba6dda0f2638c6-3169e.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 69.68390804597702%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACGUlEQVQ4y62Ty4oaQRSGGzUXmJeI2ecVspsEZpltQhZ5nHGRvUs3E3AjRGQWCiFgxgxekAQ1XsAw3Xbbbd+vVnf1yalSB2fQYRZp+Khzqur81Pm7SqjX6y/7/X5hNBoxzpfLZWEynSGTwmSyYTwec1g8xfnZdIrjdLd+zmi3258bjcYrodVqncF/+rrd7ieh1+udpmlKMSc7wqVIpBuRuJ5PwjAkjuMQ3/eJplvEckPiR5REhJK9mogJYofvBVR9g4IsT5Mk4cHP62soFotwcfEFqtUqlMtlqNVqUKlUQBJFfhpWs4XVJGxuMBh8uCNIKeUBegqlUgmurn4cbW9Tc1dwOBweFhyPBjD4/QsUVYeVYYNh2uC6Lti2A7YXged5W0F4WHDX8vdvDbj8WoEYM9MJwAsiiOMYCCFA4oTHjxLcLKYQ4bIRpGB4CdAH/up9D48IAuiGCePZX7iRNVCWGhiGwdF1HUzTxNZtWK/Xjz0hQBCuQUffdNPhvjH/8OpwoigC9JpzULDT6ZyidyyndLOLyppF/8wVOlcsajk+jcKQBgiK0SAIKJ6O72X3d0t8e23wiry97w0znbXn2Ba4eCoLW2RtWpbFx5jEBz3F5/lRwPf3erFYyIqiSDukhSLNRUVSNU1arVa3aNtcVVVpfz8iyrK8ajab74RMJvM8l8u9QPI7nj7J5E+eZfKCIBwlm83m92sYOHfyD9Jmwb/NFiw9AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Logged into the Gatsby blog&quot;
        title=&quot;&quot;
        src=&quot;/static/logged-into-the-gatsby-blog-74b155e0755bc9e5fcba6dda0f2638c6-7476a.png&quot;
        srcset=&quot;/static/logged-into-the-gatsby-blog-74b155e0755bc9e5fcba6dda0f2638c6-5131c.png 250w,
/static/logged-into-the-gatsby-blog-74b155e0755bc9e5fcba6dda0f2638c6-37136.png 500w,
/static/logged-into-the-gatsby-blog-74b155e0755bc9e5fcba6dda0f2638c6-7476a.png 1000w,
/static/logged-into-the-gatsby-blog-74b155e0755bc9e5fcba6dda0f2638c6-a41db.png 1500w,
/static/logged-into-the-gatsby-blog-74b155e0755bc9e5fcba6dda0f2638c6-dcd0a.png 2000w,
/static/logged-into-the-gatsby-blog-74b155e0755bc9e5fcba6dda0f2638c6-3169e.png 2784w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;Newsletter with Webtasks&lt;/h2&gt;
&lt;p&gt;Now we can log in, we want to be able to signup to our blog to receive updates on new articles and other news. We’re going to use Webtask to create our API. Webtask provides API endpoints as services. Serverless endpoints designed to make developers lives easily and eliminate the need for unnecessary infrastructure. &lt;/p&gt;
&lt;h3&gt;Setting up a Webtask&lt;/h3&gt;
&lt;p&gt;If you’re in a rush, you can skip this step and use a Webtask endpoint I’ve already created: &lt;code class=&quot;language-text&quot;&gt;https://wt-b374f39b442dc589a2d950057c95207e-0.run.webtask.io/auth0-newsletter-wt-api&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;To not distract us from our goal of developing an awesome Gatsby application, here is &lt;a href=&quot;https://auth0.com/blog/building-serverless-apps-with-webtask/&quot;&gt;a guide to producing a serverless application with Webtask.io&lt;/a&gt;, a serverless code service. With the following Webtask, we’re going to be able to subscribe to a newsletter for our blog.&lt;/p&gt;
&lt;p&gt;You can also give it a go, &lt;a href=&quot;https://webtask.io/cli#&quot;&gt;setting up your own Webtask&lt;/a&gt; and creating your own endpoint. They have a great step by step interactive guide. You can get the source for this Webtask in my &lt;a href=&quot;https://github.com/lukeoliff/auth0-newsletter-wt-api&quot;&gt;Newsletter Webtask&lt;/a&gt; GitHub repository. &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/webtask-cli-setup-0414ea116dffe1cdb9981f2b73241d55-3169e.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 69.68390804597702%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACu0lEQVQ4y52QW08TQRiGV1oiUX+ENfHSK++9oyZqUFGIhAYS/QN6gQoxIqdAaKI3eOEP8EL9A9BCbAptaWm3pyiHHunubGnZnrDbbbfd+ZwZCpZgvHCSJ9/Mfvu+887HrX13XAsGAta9nZ9WQZIWBUGw7u7uWmOxmDUej5/Seab7ExKJ5GIqnV70+/0fHA7HDc67uXkHyKqV8gC4Bf+zdP1Y53a5nnKhIN+rY9Cr2X1NKRU1Xdc10mPQfb1e1xRFYZWuzj6lWv2lCfvpOjV0Op3DHM/zZowxPeM2QM/tb5DL5SAcicD29jbUajXo7HfoWESXy2X5Y4hP1xnDcrkMyWQSMhkBSMpzhm0NM9zY2LBwwSBvbo/iNOFJoQJFqYIsy1AoFEBV1b+N8GxCn89nJqMBrdnEWqOBtRYmwyPDaTSg0UbTmgxVrTNTlSRlmmNws9ls0Qetr69buOUVu1lEWRCRhIUDGaOoB1BgFTJSHuh3QZQAkZoRRCgUS1BVVKgcVeFYw8CEVi4vg92+Sg1tZipihlIeS3tRSAScMLfwHqZmFmBqeg7eTVFmYWZ2HuYXrLD08RO5AJ1ciAUx2zqUi+D2eDoTHpAGwlK+CPGMBJOT0zA+8RZevX4DYy/HCROM5y/G2CXnDUvg29piCXvbTV2gpNK6mErphVJFL1eO9KpSI6hnIE/WyYt0YsZASGpWygXwen0WzmZfu03jyoTDIwUOt7xwsLYM/sgPCIejsBdLMGLxJKvxRIqloxqaqlAswr4og39HBZ4PjHBfvn67xQdD2VAogoIEYoLcbg8aGh5BjweeoIHBIfSwfxD19fWjvvuP0N17D9Do6DMU4EPk/yiKRCLI6Q6LS58jss220s91dXX1GI3GqwSTwWAwdV/sMXGkchz3T4jORDUXuoymK5cMppvXOVO30Xj5N83tjuhGCWb0AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Webtask CLI setup&quot;
        title=&quot;&quot;
        src=&quot;/static/webtask-cli-setup-0414ea116dffe1cdb9981f2b73241d55-7476a.png&quot;
        srcset=&quot;/static/webtask-cli-setup-0414ea116dffe1cdb9981f2b73241d55-5131c.png 250w,
/static/webtask-cli-setup-0414ea116dffe1cdb9981f2b73241d55-37136.png 500w,
/static/webtask-cli-setup-0414ea116dffe1cdb9981f2b73241d55-7476a.png 1000w,
/static/webtask-cli-setup-0414ea116dffe1cdb9981f2b73241d55-a41db.png 1500w,
/static/webtask-cli-setup-0414ea116dffe1cdb9981f2b73241d55-dcd0a.png 2000w,
/static/webtask-cli-setup-0414ea116dffe1cdb9981f2b73241d55-3169e.png 2784w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h4&gt;Install wt command line interface.&lt;/h4&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;wt&lt;/code&gt; is an &lt;a href=&quot;https://github.com/auth0/wt-cli&quot;&gt;open source&lt;/a&gt; Node.js CLI to interact with the Webtask API.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; ---global wt-cli&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h4&gt;Initialize wt&lt;/h4&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;wt&lt;/code&gt; will ask for an e-mail or phone number to send you an activation code. Once activated you’ll be able to create Webtasks from command line.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;wt init &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;your email address here&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h4&gt;Create our Webtask&lt;/h4&gt;
&lt;p&gt;Now let’s make our basic newsletter Webtask.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;touch&lt;/span&gt; newsletter.js&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Copy and paste the code below into &lt;code class=&quot;language-text&quot;&gt;newsletter.js&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; This file doesn’t need to be in the same root or directory tree as your Gatsby application. We’re just creating a file that we can run our &lt;code class=&quot;language-text&quot;&gt;wt&lt;/code&gt; CLI against, to set up our endpoint on &lt;a href=&quot;https://webtask.io&quot;&gt;Webtask.io&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// newsletter.js&lt;/span&gt;
&lt;span class=&quot;token string&quot;&gt;&apos;use latest&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; axios &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;axios&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; bodyParser &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;body-parser&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; express &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;express&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Webtask &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;webtask-tools&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; jwt &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;express-jwt&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; jwksRsa &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;jwks-rsa&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; _ &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;lodash&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;RESPONSE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;OK&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    statusCode &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    status&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;subscribed&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    message&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;You have successfully subscribed to the newsletter!&apos;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;UNSUBSCRIBED&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    statusCode &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    status&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;unsubscribed&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    message&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;You have successfully unsubscribed from the newsletter!&apos;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;DUPLICATE&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    statusCode &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    status&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;duplicate&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    message &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;You are already subscribed.&apos;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;ERROR&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    statusCode &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    status&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;error&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    message&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Something went wrong. Please try again.&apos;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;express&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bodyParser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; 
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; issuer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`https://&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;webtaskContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;secrets&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;AUTH0_DOMAIN&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;jwt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    secret&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; jwksRsa&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;expressJwtSecret&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; jwksUri&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;issuer&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;.well-known/jwks.json`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    audience&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;issuer&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;api/v2/`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    issuer&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; issuer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    algorithms&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;RS256&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;userProfile&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userinfo &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`https://&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;webtaskContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;secrets&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;AUTH0_DOMAIN&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/userinfo`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; axios&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userinfo&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; headers&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Authorization&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;authorization &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;sendResponse&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;RESPONSE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;statusCode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;RESPONSE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/subscribe&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;userProfile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; email &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; email &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;webtaskContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;storage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; err &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;sendResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ERROR&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

          data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; _&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; email&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;webtaskContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;storage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; err &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; err &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; undefined &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;sendResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;OK&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;sendResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ERROR&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;sendResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;DUPLICATE&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;sendResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ERROR&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/unsubscribe&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;userProfile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; email &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; email &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;webtaskContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;storage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; err &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;sendResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ERROR&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

          data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

          &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; index &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; email&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; index &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;sendResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ERROR&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;splice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;webtaskContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;storage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; err &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; err &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; undefined &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;sendResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;UNSUBSCRIBED&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;sendResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ERROR&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;sendResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ERROR&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/subscribed&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;userProfile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; email &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; email &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;webtaskContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;storage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; err &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;sendResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ERROR&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

          data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; _&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; email&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;sendResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;UNSUBSCRIBED&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;sendResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;OK&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;sendResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ERROR&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Webtask&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fromExpress&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;app&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Run &lt;code class=&quot;language-text&quot;&gt;wt&lt;/code&gt; again to create our new Webtask, where it will create our newsletter Webtask and prompt you to open it for editing on the Webtask code editor. It will also return the URI for the Webtask for you to use in this application. Copy it or use our demo, provided above.&lt;/p&gt;
&lt;p&gt;Our Gatsby app will provide the Webtask with our &lt;code class=&quot;language-text&quot;&gt;access_token&lt;/code&gt;. Usually, &lt;code class=&quot;language-text&quot;&gt;auth0.js&lt;/code&gt; would require an opaque string usable by Auth0 only for an openid request against our identity endpoint. As we’re changing our audience to our default Management API, our &lt;code class=&quot;language-text&quot;&gt;access_token&lt;/code&gt; is returned as a JWT instead. You can read more about this on &lt;a href=&quot;https://auth0.com/docs/tokens/access-token&quot;&gt;Auth0’s Access Token docs&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The JWT &lt;code class=&quot;language-text&quot;&gt;access_token&lt;/code&gt; returned is still perfectly acceptable for our openid request as well, but it also allows us to our JWT for our Webtask request so we can make sure the user subscribing/unsubscribing is doing so for themselves only.&lt;/p&gt;
&lt;p&gt;In this &lt;code class=&quot;language-text&quot;&gt;create&lt;/code&gt; command we’re providing our Webtask our AUTH0_DOMAIN so it can be used in the validation of our JWT. Even though your Auth0 domain is not particularly sensitive, we’ll still store it in a &lt;a href=&quot;https://webtask.io/docs/editor/secrets&quot;&gt;Webtask secret&lt;/a&gt;, accessible by the application only. Secrets can also be added, removed and managed via the Secrets panel, which is in the settings menu in the Webtask Editor.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;wt create newsletter.js \
    -s AUTH0_DOMAIN&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;YOUR_AUTH0_DOMAIN.auth0.com&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;If you check out your Webtask in the &lt;a href=&quot;https://webtask.it.auth0.com/edit&quot;&gt;Webtask code editor&lt;/a&gt;, you’ll see something like this:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/webtask-in-editor-4d141fa4488281fc02fd98d73f0cb7c0-3169e.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 69.68390804597702%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACxklEQVQ4y4WSS08TURSAR6CdV1toO+9HZ+502gItAiExRg0+EkriwsTHxkhc6MKNiUKUxAQEdUcX/gWhIkF/kLFrJyZA4soEBmaO5w5NqSbGJl/OzZnb75x77mW+djre/t5e69fPg1YURxsA0ArDo1Z4dNg6pvE/4J4N3LtxsL/3vtP5NsG8Xlm9ub3Vhs2tT9De/gzbO19g6+MubLZ3MCLtMzb76M99SP67Cyurbx4xmmbP2YoWcUN8OMCw4SCSGhTCNJ8PU+wIMtyNIyHLF0JWQOg37jSXxsgJhUPMw8CQ+IDRimqzfu0WXLj/NJ6+/TieuvcEajfugm64oOk2yLINkmyCrFiYI2CYHuZdzFkgSTRvx5g/sewKjNenFhjDcJvexEXwZq7GzuTl2JmeBXN0BhTLB39sEsr+KJQ8G1TdgnzBgEKxDxQWJTPODisnZX8clpZeLjBmqdI0saqu2rGqWLFU1KGQV0E1yygaA4JC2m2+oP8p60KFuWEVhXVYXHyxwFhOtWnYPshqKVZ0N5Y1ByTFBg2P55XHwbC85LhFSUeMHrRAt0iczSkndO+z50tdIR4PZxKjKJbUUiJUUUyraibOUNGxIM5LNXrQ7s6EctLh8vKrPiHKaJdyn9AltVORciYZyev93fWEleoErK+/+7eQ3qRfaeCRbVB0AxTNTCjKxt/z7AnX1t4mwjnDKlNJhLIEusYOo2rtfGTaTqRoRh9mhDOMUJqAwiiTlY5p8aRD26nOG/iGaFey6tDLwSOWQEnWdH4mYtH3Rm+0R6F4SvIekXpjhnb4kNFNMmu7tR9IgN0GJYwlUgs8vx741XrglquB4zcCr9JIvumWH+AL6KGbHuW7V6kfXLpy/Q6DP45lWVfMZAjPC0QURZLN5QgvCITjRcJzWSJwHME9RBAzhBNEkkqzCWkaU2lcp8m5gUGCLvE3MHaW5WP9t8gAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Webtask in editor&quot;
        title=&quot;&quot;
        src=&quot;/static/webtask-in-editor-4d141fa4488281fc02fd98d73f0cb7c0-7476a.png&quot;
        srcset=&quot;/static/webtask-in-editor-4d141fa4488281fc02fd98d73f0cb7c0-5131c.png 250w,
/static/webtask-in-editor-4d141fa4488281fc02fd98d73f0cb7c0-37136.png 500w,
/static/webtask-in-editor-4d141fa4488281fc02fd98d73f0cb7c0-7476a.png 1000w,
/static/webtask-in-editor-4d141fa4488281fc02fd98d73f0cb7c0-a41db.png 1500w,
/static/webtask-in-editor-4d141fa4488281fc02fd98d73f0cb7c0-dcd0a.png 2000w,
/static/webtask-in-editor-4d141fa4488281fc02fd98d73f0cb7c0-3169e.png 2784w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h3&gt;Subscribe to the Newsletter&lt;/h3&gt;
&lt;p&gt;Now to enable our logged in users to subscribe/unsubscribe from our Gatsby application.&lt;/p&gt;
&lt;h4&gt;Axios, react!&lt;/h4&gt;
&lt;p&gt;No, it’s not a spell from Harry Potter. Axios is a Promise based HTTP client we can use in React. So go ahead and install this to our app.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --save axios&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h4&gt;A Subscribe component&lt;/h4&gt;
&lt;p&gt;Create the file &lt;code class=&quot;language-text&quot;&gt;src/componenets/Subscribe.js&lt;/code&gt; and give it the following code, replacing &lt;code class=&quot;language-text&quot;&gt;&amp;lt;your-webtask-uri&amp;gt;&lt;/code&gt; with a your Webtask url, if you’re not planning on using our demo Webtask at &lt;code class=&quot;language-text&quot;&gt;https://wt-b374f39b442dc589a2d950057c95207e-0.run.webtask.io/auth0-newsletter-wt-api&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// src/componenets/Subscribe.js&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Auth &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../utils/auth&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; axios &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;axios&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; wtUri &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;your webtask uri&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; auth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Auth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Subscribe&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      subscribed&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isSubscribed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;isSubscribed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;subscribed&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;true&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;isIdentified&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; auth&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; auth&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isAuthenticated&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;componentDidMount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isIdentified&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;subscribed&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; token &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;access_token&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      axios&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;wtUri&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/subscribed`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Authorization&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`Bearer &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;token&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;res &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;subscribed&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;subscribed&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            subscribed&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isSubscribed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isIdentified&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; token &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;access_token&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      axios&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;wtUri&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/subscribe`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Authorization&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`Bearer &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;token&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;res &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;subscribed&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;true&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            subscribed&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isSubscribed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;unsubscribe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isIdentified&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; token &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;access_token&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      axios&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;wtUri&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/unsubscribe`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Authorization&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`Bearer &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;token&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;res &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;subscribed&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            subscribed&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;subscribed&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;a href&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;#&quot;&lt;/span&gt;
           onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;unsubscribe&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;Unsubscribe&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;a&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;a href&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;#&quot;&lt;/span&gt;
           onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;subscribe&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;Subscribe&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;a&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h4&gt;Adding Subscribe to our Nav&lt;/h4&gt;
&lt;p&gt;All that is left to do is add our &lt;code class=&quot;language-text&quot;&gt;Subscribe&lt;/code&gt; component to &lt;code class=&quot;language-text&quot;&gt;Nav&lt;/code&gt;. This will show in our &lt;code class=&quot;language-text&quot;&gt;Nav&lt;/code&gt; whether our logged in user is already subscribed or not, allowing them to subscribe or unsubscribe as they see fit.&lt;/p&gt;
&lt;p&gt;So edit &lt;code class=&quot;language-text&quot;&gt;src/components/Nav.js&lt;/code&gt; and add the code as follows.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-diff&quot;&gt;&lt;code class=&quot;language-diff&quot;&gt;// src/components/Nav.js
  import React from &apos;react&apos;;
  import Auth from &apos;../utils/auth&apos;;
&lt;span class=&quot;token inserted&quot;&gt;+ import Subscribe from &apos;./Subscribe&apos;;&lt;/span&gt;

  const auth = new Auth();

  ...

            {
              isAuthenticated() &amp;amp;&amp;amp; (
                &amp;lt;span&gt;
                  &amp;lt;a href=&quot;#&quot;
                    onClick={this.logout.bind(this)}
                    style={{
                      boxShadow: &apos;none&apos;,
                      lineHeight: &apos;37px&apos;
                    }}
                  &gt;
                    Log Out
                    {
                      auth.getUserName() &amp;amp;&amp;amp; (
                        &amp;lt;span&gt; ({auth.getUserName()})&amp;lt;/span&gt;
                      )
                    }
                  &amp;lt;/a&gt;
&lt;span class=&quot;token inserted&quot;&gt;+                 &amp;lt;span&gt; | &amp;lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token inserted&quot;&gt;+                 &amp;lt;Subscribe /&gt;&lt;/span&gt;
                &amp;lt;/span&gt;
              )
            }

  ...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;With that added, let’s run our app and see what we get!&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/logged-in-unsubscribed-5e64c3e1424b5c79b122251307a44df9-3169e.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 69.68390804597702%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACFUlEQVQ4y62TzY4SQRDHhw9doy8h3n0Fb6uJR68aDz4OHHwA98QJbiYLkURgNSGBgECIF5aZTcjuzDAfMMwMzAc905TVvcMGDa4cnOSXqp6u+qequluo1+vPRqNRYTweM/K6rhdE6aogiuIdk8mEI6EvSWLhSpK4ZXv4L497+R/9/seLi2/PhU6n8xr+09dutz8Iw+HwdLvdUlyTHd7shqiySjzPJ0EQEMdx0PeIadnEXQdkFcQkJJTs5YRMsNVqvRUGg8FLFGTrbRzH3Gk2m3B29glKpRLUajUol8vcVioVmM1UXg3LSWA5cSL47jdBSil3ut0eFItF6PW6f22P5xwr+HM0BHFyCTNjAYulA0vbgdXKBcddgbsOAduHJOd+wV3LX84/w/fmVx5lOR74wQaiKAJCIrQxYNxxgrebW/AjgIVHYenF957qP2eYbIJumCBNb+BaNcCcY9uLBViWxa1t24CnjtWSYysE8PwQZ+fy+Tmui/PD2aFlbDYbwFlzDgr2+/1TNhP8KL2NorJm0cupTq91h7prn+JdpD7Cre9TrI7Hsvub3OHoThCf3as/ZxOGIW/RdWxYYVU2njJjubR5lUkBh17Ke6HRaLxQVXWmaZqyQ1Y1ZSprimnOlfl8H5NbwzCU/Xh8/7KiKPNqtfpGSKfTj7LZ7FMkx8ggJw/SuccP0zlBEA6SSqVymUwmt8vZ48kv7KS/T7wTxuwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Logged in and unsubscribed&quot;
        title=&quot;&quot;
        src=&quot;/static/logged-in-unsubscribed-5e64c3e1424b5c79b122251307a44df9-7476a.png&quot;
        srcset=&quot;/static/logged-in-unsubscribed-5e64c3e1424b5c79b122251307a44df9-5131c.png 250w,
/static/logged-in-unsubscribed-5e64c3e1424b5c79b122251307a44df9-37136.png 500w,
/static/logged-in-unsubscribed-5e64c3e1424b5c79b122251307a44df9-7476a.png 1000w,
/static/logged-in-unsubscribed-5e64c3e1424b5c79b122251307a44df9-a41db.png 1500w,
/static/logged-in-unsubscribed-5e64c3e1424b5c79b122251307a44df9-dcd0a.png 2000w,
/static/logged-in-unsubscribed-5e64c3e1424b5c79b122251307a44df9-3169e.png 2784w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Now subscribe to the newsletter!&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/logged-in-subscribed-f56c1b8b4bc4285f126568d3b9ac2835-3169e.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 69.68390804597702%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACF0lEQVQ4y61Ty27aQBQ1jz7U/kTpvr/QXVKpy25bddHPgUU/oFmxgl2lBgWpQFoJCQQFhCokgkFCCTa2MdgeGGPGHm6vJyaiFU1ZdKSjM497j+49MyOVSqXn3W430+/3M71eL61pWkYejTKyLN9hMBgIHoYYypnRcCg42kvjefpHq/Xx8vLbC6ler7+G/zRqtdoHqdPpnGy3W45rtgOd3jB1ojJKXbZerxkhhK1WlBmmxZyVx4jrM49xtpfjhYLVavWt1G63T1EwXG+DIBCTSqUCZ2efIJfLQbFYhHw+L7hwfg5TVRXVhDkRwpwgEnz3myDnXEwajSZks1loNht/bU/kHCv4s9sBeXAFU2MOc8sBy3ZguSTgkCWQlQeUUohy7hfctXzx5TN8r3wVUQuHgrvegO/7wJiPHADGHSd4e7gF1weYUw4WDe691X96GB2CbsxgOL6Ba9WAmYltz+ewWCwE27YNjuNgtezYCgGo66F3RPjnEIL+oXfIITabDaDXAgcFW63WSegJDs5vo/hEW/Crsc6vdYeTlcvxLXIXIdh1OVYnYsP3G71h/04Qv92rP73xPE+0SBwblliVjbccwrJsUWVUwKGf8l4ql8svVVWd4h9WdpiomjKeaMpsZiqmuY+ZYMMwlP14XdcniqKYhULhjRSPxx8nk8lniFSIBOLRg3jqycN4SpKkg4jFYqlEIpHa5ezh6S+zyr9BztUy/QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Logged in and subscribed&quot;
        title=&quot;&quot;
        src=&quot;/static/logged-in-subscribed-f56c1b8b4bc4285f126568d3b9ac2835-7476a.png&quot;
        srcset=&quot;/static/logged-in-subscribed-f56c1b8b4bc4285f126568d3b9ac2835-5131c.png 250w,
/static/logged-in-subscribed-f56c1b8b4bc4285f126568d3b9ac2835-37136.png 500w,
/static/logged-in-subscribed-f56c1b8b4bc4285f126568d3b9ac2835-7476a.png 1000w,
/static/logged-in-subscribed-f56c1b8b4bc4285f126568d3b9ac2835-a41db.png 1500w,
/static/logged-in-subscribed-f56c1b8b4bc4285f126568d3b9ac2835-dcd0a.png 2000w,
/static/logged-in-subscribed-f56c1b8b4bc4285f126568d3b9ac2835-3169e.png 2784w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;There we have it, a Gatsby blog with Auth0 authentication, markdown post pagination, and newsletter signup for authenticated users with a Webtask using an Auth0 &lt;code class=&quot;language-text&quot;&gt;access_token&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;As Gatsby is a static site generator, to be able to make real use of our authentication we needed a backend application to provide functionality through an API to the React element of the site. Gatsby has a great guide and demo application for creating &lt;a href=&quot;https://www.gatsbyjs.org/docs/building-apps-with-gatsby/&quot;&gt;hybrid app pages&lt;/a&gt;. &lt;/p&gt;
&lt;p&gt;In this instance, we used &lt;a href=&quot;https://webtask.io/&quot;&gt;Webtask by Auth0&lt;/a&gt; which allows us to build our own serverless API endpoints.&lt;/p&gt;
&lt;p&gt;Gatsby has a dedicated &lt;a href=&quot;https://www.gatsbyjs.org/tutorial/&quot;&gt;tutorial&lt;/a&gt; for building Gatsby applications.&lt;/p&gt;
&lt;p&gt;If you want to learn more about React, here is a great guide on &lt;a href=&quot;https://auth0.com/blog/bootstrapping-a-react-project/&quot;&gt;bootstrapping a React project&lt;/a&gt; and you also won’t want to miss &lt;a href=&quot;https://reactforbeginners.com/&quot;&gt;React for beginners&lt;/a&gt; by &lt;a href=&quot;https://twitter.com/wesbos&quot;&gt;Wes Bos&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Learn more about GraphQL with &lt;a href=&quot;https://www.howtographql.com/&quot;&gt;how to GraphQL&lt;/a&gt;, which has plenty of resources based on the different types of technology you might be using.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The final code can be found at the &lt;a href=&quot;https://github.com/auth0-blog/auth0-gatsby-blog&quot;&gt;auth0-gatsby-blog GitHub repo&lt;/a&gt;.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I welcome your questions, suggestions or improvements, below in the comments section! Thanks for reading.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[OAuth 2.0: The Complete Guide]]></title><description><![CDATA[Have you visited a site recently, where you are given the option of connecting or signing up using Google, Facebook or Twitter? Sure you…]]></description><link>https://lukeoliff.com/oauth2-the-complete-guide/</link><guid isPermaLink="false">https://lukeoliff.com/oauth2-the-complete-guide/</guid><content:encoded>&lt;p&gt;Have you visited a site recently, where you are given the option of connecting or signing up using Google, Facebook or Twitter? Sure you have! This is basically what OAuth is all about; granting third-party services permission to do something for you–like logging you in. In this article, you will learn what OAuth is, how it started, and how it works. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;This post is original content developed by me for the &lt;a href=&quot;https://auth0.com/blog&quot;&gt;Auth0’s blog&lt;/a&gt; and has been re-posted here as part of an online portfolio with permission. Relevant attribution and canonical links exist. &lt;a href=&quot;https://auth0.com/blog/oauth2-the-complete-guide/&quot;&gt;Click here to see the original&lt;/a&gt;.&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; For the purposes of this article and the comfort of the target audience, OAuth is to be assumed as OAuth 2.0 unless specifically mentioning another version.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;So what is OAuth?&lt;/h2&gt;
&lt;p&gt;OAuth (or Open Authorization) is a framework that gives users the ability to grant access to their information stored in one place, from another place. For example, granting Spotify access to your Facebook profile.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/spotify-signup-with-facebook-a23e46329bed98089e635349ca7ada9b-e4c47.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 511px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 105.87084148727985%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAACXBIWXMAAAsSAAALEgHS3X78AAACWElEQVQ4y51SW2sTURDOzxIkvokUi5Ja2igoQsEmrVh9LF7wqfjoJQURG9O0Yq1CfWx8KZUqxlhSMDVkk5j7bq67OWv2fs7G2d12s2lMLQ6zX/ZM5tuZ8824ug7TdR2w2Wx+jEQEQbAjw8w1SH60sHBhdHQxEPiwsRHZ3FxdWVkOhSiKGvxWH5kQAgip50dGtra2vkWjn7a3v8din3d28oXCX8hwBg4mgAcOBj0PNmwnYGxQIMFlJWFCFBWrGpZVTRAVRSWAHUEWRBnQeJEgqEECpGGzQYMMP3s/yx5/cMwf9PiWvLfDsw/fT82/uXH37fT99an5Nd+9df+Dd+CTc8se/9Kl2eDF6Ze7idLBnb/G825v4MzlRffks3PXX1y983p8JjQ2E5q4Gfb4XnlvhSFyZW717LXnpyeeuL1PT40//rKb6wnWYlGpUqWZRpapUHQxU62Ap5gSYL7MpOlyminnajTqSOg33EXpqY0x1jRNVRUQzhCmS/SuKYQhDbaGaD66PVFiKuU6PBsIIhdyBZbl6vU6XaErZXjoKhhTLRaKDM1IkmSRdSfZ+jaP+Fg0lsn8oqh0MpmkUqlsNru/n0xnMvH4XuJHAiHeOW2XtRuyLKuqevwy2jWtXeiRWZbleR5C2JiisQO2GYFDNGndPvKRgsSxbcO8r3K73W40GlybAyMna75XWVEUSYKLy6CnubonrgwnUMvYXQ3/T9ss26rVagghu6tjlD/atuOPnpPh5qyss1yL41hwxCMQj2u3kTm5f1cGsiiKgiB2OgDwYpgoSfoQs+/8B05Gi2/pslIUAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Spotify uses OAuth for signup with Facebook&quot;
        title=&quot;&quot;
        src=&quot;/static/spotify-signup-with-facebook-a23e46329bed98089e635349ca7ada9b-e4c47.png&quot;
        srcset=&quot;/static/spotify-signup-with-facebook-a23e46329bed98089e635349ca7ada9b-c96dc.png 250w,
/static/spotify-signup-with-facebook-a23e46329bed98089e635349ca7ada9b-26838.png 500w,
/static/spotify-signup-with-facebook-a23e46329bed98089e635349ca7ada9b-e4c47.png 511w&quot;
        sizes=&quot;(max-width: 511px) 100vw, 511px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;The idea is that you’re giving Spotify certain permission to access your Facebook details, so that Facebook can provide Spotify with enough information to sign you up, enhance your profile details, or display what your friends are listening to. Meanwhile, more sensitive information, such as your conversations, remain entirely closed off to Spotify. They only get access to the bits they’re &lt;em&gt;authorized&lt;/em&gt; to see.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/spotify-access-to-facebook-28f64ea328e8366ab413c1c4d63bd94b-acc10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 514px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 85.60311284046692%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsSAAALEgHS3X78AAABXklEQVQ4y62Sv04CQRDGeRAbE9/BwkYrbUx8AwsT4wuYmGBBYcIbWNpZGCgsTEw0Go1BCxoQtdEAAipw596/heNu9/ZzDohBInioc1823+3M5HeTuRj+ELExuRS72G0cekqQV/REae7Vvfj6aim58hS/4Q/0KlUwGXlPO06+7vPAnYD8+5mVCgmaphUKd+XK81uzUalWDcPopqKRda1ZLpdItVq1WCzW640giDBzx4fVgsGV1QbJdJTdhu3SDVru6ObeV3FXGU5gtsiAd+C4ocjTTdvr7WIE2Re4vMdJDue3OM0NKI+zfGgYx+DwsUEsczC3hak1zG5ieQdLCczHsZjAwjam1zGzgexjWPY5/heyJ3CUxcEV0hmkr/tKZfonSbO+I//PnmUwTkOrHkmmv8VxHMaYlDIyWUrP8/xueJ0wyAhf0KUQ4odmzjlj76bBTCsMIpsmWVvXdUoNFX8Axr/RZcFM9iAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;OAuth used by Spotify for access to Facebook&quot;
        title=&quot;&quot;
        src=&quot;/static/spotify-access-to-facebook-28f64ea328e8366ab413c1c4d63bd94b-acc10.png&quot;
        srcset=&quot;/static/spotify-access-to-facebook-28f64ea328e8366ab413c1c4d63bd94b-f9a21.png 250w,
/static/spotify-access-to-facebook-28f64ea328e8366ab413c1c4d63bd94b-42a7c.png 500w,
/static/spotify-access-to-facebook-28f64ea328e8366ab413c1c4d63bd94b-acc10.png 514w&quot;
        sizes=&quot;(max-width: 514px) 100vw, 514px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;“Many luxury cars today come with a valet key. It is a special key you give the parking attendant and unlike your regular key, will not allow the car to drive more than a mile or two. You give someone limited access to your car with a special key, while using your regular key to unlock everything.”&lt;/em&gt; — OAuth.net&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;How did OAuth start?&lt;/h2&gt;
&lt;p&gt;Before initiatives like OAuth appeared, you would have had to give Spotify access to your Facebook login details for Spotify to be able to access your information on Facebook.&lt;/p&gt;
&lt;p&gt;OAuth was first developed in 2007 by a group seeking to standardize how we can delegate permissions between different software applications. The latest version, OAuth 2.0, is not backwards compatible with previous versions which have now been deprecated. Despite deprecating old versions, they remain in use widely across the web, including by one of the original drivers behind the general OAuth movement, Twitter. Some feel that it is less secure and it has been described as a &lt;a href=&quot;http://hueniverse.com/2012/07/26/oauth-2-0-and-the-road-to-hell/&quot;&gt;road to hell&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;How does OAuth work?&lt;/h2&gt;
&lt;p&gt;To understand how OAuth works, we need to understand Roles, grant types, access tokens, and refresh tokens.&lt;/p&gt;
&lt;h3&gt;Roles&lt;/h3&gt;
&lt;p&gt;First we need to understand how it separates the responsibility of our requests. Roles are used to define the separate entities involved in a request.&lt;/p&gt;
&lt;h4&gt;The Client&lt;/h4&gt;
&lt;p&gt;The client is the application trying to access the user’s account. It needs Authorization to do so. This might be the website you’re on, the app you’ve installed to your phone, or both. In our example, this would be Spotify.&lt;/p&gt;
&lt;h4&gt;The Resource Server&lt;/h4&gt;
&lt;p&gt;The resource server is the place storing the user’s information. In our example, this would be Facebook.&lt;/p&gt;
&lt;h4&gt;The Authorization Server&lt;/h4&gt;
&lt;p&gt;This is the server that asks the user to approve or deny the request. This would also be Facebook, but a separate service that Facebook operate with the purpose of handling authorization.&lt;/p&gt;
&lt;h4&gt;The Resource Owner&lt;/h4&gt;
&lt;p&gt;The resource owner is the person who is giving access to their data. So if you’re giving Spotify permission to access your Facebook info, you’re the resource owner.&lt;/p&gt;
&lt;h3&gt;Grant types&lt;/h3&gt;
&lt;p&gt;A grant represents the user’s permission to access their data and can be used to acquire an access token. The OAuth Specification describes four flows for acquiring an access token. These flows are called grant types. Which one is more suitable for you will most likely depend on the type of client.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://auth0.com/docs/api-auth/grant/authorization-code&quot;&gt;Authorization Code&lt;/a&gt;:&lt;/strong&gt; used by Web Apps executing on a server. This is also used by mobile apps, using the &lt;a href=&quot;https://auth0.com/docs/api-auth/grant/authorization-code-pkce&quot;&gt;Proof Key for Code Exchange (PKCE) technique&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://auth0.com/docs/api-auth/grant/implicit&quot;&gt;Implicit&lt;/a&gt;:&lt;/strong&gt; used by JavaScript-centric apps (Single Page Applications) executing on the user’s browser.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://auth0.com/docs/api-auth/grant/password&quot;&gt;Resource Owner Password Credentials&lt;/a&gt;:&lt;/strong&gt; used by trusted apps.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://auth0.com/docs/api-auth/grant/client-credentials&quot;&gt;Client Credentials&lt;/a&gt;:&lt;/strong&gt; used for machine to machine communication, such as API auth.&lt;/p&gt;
&lt;p&gt;This article will only touch on the most common form of grant type which is going to help us shed light on OAuth, without overcomplicating it. &lt;a href=&quot;https://auth0.com/docs/protocols/oauth2&quot;&gt;Read more about OAuth 2.0 and the other grant types&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;Authorization code grant&lt;/h4&gt;
&lt;p&gt;An authorization code grant is what we’d encounter in our example.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The Client&lt;/strong&gt; will redirect the user to the &lt;strong&gt;The Authorization Server&lt;/strong&gt; with some information about what they’re requesting and where they’re requesting it from, among other things. &lt;/p&gt;
&lt;p&gt;The user will be asked to login to &lt;strong&gt;The Authorization Server&lt;/strong&gt; and approve &lt;strong&gt;The Client&lt;/strong&gt;, receiving an authorization code. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The Client&lt;/strong&gt; can now send that code and our grant type to &lt;strong&gt;The Authorization Server&lt;/strong&gt; and receive back an access token. &lt;/p&gt;
&lt;h3&gt;Access tokens&lt;/h3&gt;
&lt;p&gt;Access tokens represent your authorization to access &lt;strong&gt;The Resource Owner&lt;/strong&gt;’s information on &lt;strong&gt;The Resource Server&lt;/strong&gt;. You’re required to exchange your grant for an access token, which will have an expiry time.&lt;/p&gt;
&lt;p&gt;Access tokens expire so that any malicious use and damage is limited. You’ll need a new access token once it has expired. They can be setup to expire after any amount of time, usually a few minutes.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/basic-oauth2-flow-bc1ff15f5c1a10eaa8a0e680e0e44889-68ab1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.18964003511853%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAAA0ElEQVQoz32SUROCIBCE/f//U19wKkQLSqqv2wkwnfbBWTj2bm+rizHedog7HL7pxO4NrlvoAYTSwwCpYg6vBrzz3o/j2Pf9MAzOuWmauFzXlXu4uiCs4qcBojk0/pmcUhIXOZ6sJcsWyaBGZf9lWTbieZ45a3IIAYfOAKEk22pU1q5iajln7YwYwckA4SjnZwM3cv7PNt/0Bc/UWtDyx2kTKdPwTObBoHYXA7ymTWNyzgYIYoyhl0mUypy9FKGW/4jLT9L+K2S1TVs7q1qSfwPR336AwoN/8AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Generic OAuth flow&quot;
        title=&quot;&quot;
        src=&quot;/static/basic-oauth2-flow-bc1ff15f5c1a10eaa8a0e680e0e44889-7476a.png&quot;
        srcset=&quot;/static/basic-oauth2-flow-bc1ff15f5c1a10eaa8a0e680e0e44889-5131c.png 250w,
/static/basic-oauth2-flow-bc1ff15f5c1a10eaa8a0e680e0e44889-37136.png 500w,
/static/basic-oauth2-flow-bc1ff15f5c1a10eaa8a0e680e0e44889-7476a.png 1000w,
/static/basic-oauth2-flow-bc1ff15f5c1a10eaa8a0e680e0e44889-a41db.png 1500w,
/static/basic-oauth2-flow-bc1ff15f5c1a10eaa8a0e680e0e44889-dcd0a.png 2000w,
/static/basic-oauth2-flow-bc1ff15f5c1a10eaa8a0e680e0e44889-47259.png 3000w,
/static/basic-oauth2-flow-bc1ff15f5c1a10eaa8a0e680e0e44889-68ab1.png 4556w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h3&gt;Refresh tokens&lt;/h3&gt;
&lt;p&gt;Refresh tokens are a special type of token that can be held &lt;strong&gt;securely&lt;/strong&gt; by &lt;strong&gt;The Client&lt;/strong&gt; with the express purpose of being able to request a new access token from &lt;strong&gt;The Authorization Server&lt;/strong&gt; once the original access token has expired. These can also expire, but are generally long lived with expiry times that can be as long as 14 days or more.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The Authorization Server&lt;/strong&gt; should be able to revoke a refresh token in the event that it could have been compromised.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/refresh-oauth2-flow-431b1ced96d6aa54d30866cee0dad99f-68ab1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.18964003511853%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAAA0klEQVQoz3WSbQ+CMAyE+f//E2IC4saLbsrUx16yTcH7dC133bWhCSHcdgg7HGoasXuFq4FmJuJ8ehggxUzxqoDOez8MQ9u2XddBpmmiuW0bfbimYCzmpwGSU9UJMccYVYocvyxpHZvOuq7wvD/ll3lZFmrFds71fX8yQEir2NGQ1y5mvqWUFNsbsLEwg9hTQS4GnlHyg9h0UOM5GyCoyamLZM1fs9Q4x3GEUErmDGxXrk0GpiYDhHio9TiY51nXYi/9CFr+Y9Zta2jcD+rji2B8A592fWAhrOBJAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Refresh OAuth flow&quot;
        title=&quot;&quot;
        src=&quot;/static/refresh-oauth2-flow-431b1ced96d6aa54d30866cee0dad99f-7476a.png&quot;
        srcset=&quot;/static/refresh-oauth2-flow-431b1ced96d6aa54d30866cee0dad99f-5131c.png 250w,
/static/refresh-oauth2-flow-431b1ced96d6aa54d30866cee0dad99f-37136.png 500w,
/static/refresh-oauth2-flow-431b1ced96d6aa54d30866cee0dad99f-7476a.png 1000w,
/static/refresh-oauth2-flow-431b1ced96d6aa54d30866cee0dad99f-a41db.png 1500w,
/static/refresh-oauth2-flow-431b1ced96d6aa54d30866cee0dad99f-dcd0a.png 2000w,
/static/refresh-oauth2-flow-431b1ced96d6aa54d30866cee0dad99f-47259.png 3000w,
/static/refresh-oauth2-flow-431b1ced96d6aa54d30866cee0dad99f-68ab1.png 4556w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;OAuth at Auth0&lt;/h2&gt;
&lt;p&gt;Auth0 is a global leader in Identity-as-a-Service (IDaaS) and provides thousands of customers in every market sector with the only identity solution they need for their web, mobile, IoT, and internal applications.&lt;/p&gt;
&lt;p&gt;At Auth0 we utilize OAuth 2.0 along with Open ID Connect (OIDC) which is an identity layer built upon OAuth 2.0. OAuth is not the only authorization protocol we use, but it is one of the most popular.&lt;/p&gt;
&lt;p&gt;For more information, visit &lt;a href=&quot;https://auth0.com&quot;&gt;https://auth0.com&lt;/a&gt;, &lt;a href=&quot;https://auth0.com/signup&quot;&gt;sign up for a free Auth0 account here&lt;/a&gt; or follow @auth0 on Twitter.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Build Your First App with Polymer and Web Components]]></title><description><![CDATA[TL;DR:   Google Polymer  is a library that provides syntactic sugar and polyfills for building elements and applications with  web…]]></description><link>https://lukeoliff.com/build-your-first-app-with-polymer-and-web-components/</link><guid isPermaLink="false">https://lukeoliff.com/build-your-first-app-with-polymer-and-web-components/</guid><content:encoded>&lt;p&gt;&lt;strong&gt;TL;DR:&lt;/strong&gt; &lt;a href=&quot;https://www.polymer-project.org&quot;&gt;Google Polymer&lt;/a&gt; is a library that provides syntactic sugar and polyfills for building elements and applications with &lt;a href=&quot;http://webcomponents.org/&quot;&gt;web components&lt;/a&gt;. We’ll build a web app using Polymer and its CLI, call an external API, and add authentication with &lt;a href=&quot;http://jwt.io&quot;&gt;JSON Web Tokens&lt;/a&gt;. The full code is available from &lt;a href=&quot;https://github.com/auth0-blog/polymer2-with-jwt-api&quot;&gt;this GitHub repo&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;This post is original content developed by me for the &lt;a href=&quot;https://auth0.com/blog&quot;&gt;Auth0’s blog&lt;/a&gt; and has been re-posted here as part of an online portfolio with permission. Relevant attribution and canonical links exist. &lt;a href=&quot;https://auth0.com/blog/build-your-first-app-with-polymer-and-web-components/&quot;&gt;Click here to see the original&lt;/a&gt;.&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;What Are Web Components?&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Components&lt;/em&gt; are generally understood to be modular pieces of code that provide UI and/or scripting in a reusable package. Many JS frameworks use the term “components” (e.g., &lt;a href=&quot;http://learnangular2.com/components/&quot;&gt;Angular&lt;/a&gt;, &lt;a href=&quot;https://facebook.github.io/react/docs/reusable-components.html&quot;&gt;React&lt;/a&gt;, &lt;a href=&quot;http://emberjs.com/api/classes/Ember.Component.html&quot;&gt;Ember&lt;/a&gt;). However, to understand Polymer, we’ll do a quick crash-course on a specific kind of component: &lt;em&gt;web&lt;/em&gt; components. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Web components&lt;/strong&gt; are &lt;a href=&quot;http://webcomponents.org&quot;&gt;reusable&lt;/a&gt; &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/Web_Components&quot;&gt;widgets&lt;/a&gt; that can be assembled like building blocks in web documents and apps. They are a set of browser features that are being added to the &lt;a href=&quot;https://www.w3.org/standards/techs/components&quot;&gt;W3C HTML and DOM specification&lt;/a&gt;. A web component is composed of four standards: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.w3.org/TR/custom-elements/&quot;&gt;Custom Elements&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://html.spec.whatwg.org/multipage/scripting.html#the-template-element&quot;&gt;HTML Templates&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.w3.org/TR/shadow-dom/&quot;&gt;Shadow DOM&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.w3.org/TR/html-imports/&quot;&gt;HTML Imports&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In a nutshell, web components allow us to architect and &lt;a href=&quot;http://www.html5rocks.com/en/tutorials/webcomponents/imports/&quot;&gt;import&lt;/a&gt; &lt;a href=&quot;https://developers.google.com/web/fundamentals/primers/customelements/&quot;&gt;custom elements&lt;/a&gt; that automatically associate JS behavior with &lt;a href=&quot;http://www.html5rocks.com/en/tutorials/webcomponents/template/&quot;&gt;templates&lt;/a&gt; and can utilize &lt;a href=&quot;https://developers.google.com/web/fundamentals/primers/shadowdom&quot;&gt;shadow DOM&lt;/a&gt; to provide CSS scoping and DOM encapsulation. &lt;/p&gt;
&lt;p&gt;Web components can be used natively &lt;em&gt;without&lt;/em&gt; any additional libraries or toolsets. However, not all features are supported by all browsers. We need to leverage a library like &lt;strong&gt;Polymer&lt;/strong&gt; or &lt;a href=&quot;http://webcomponents.org/polyfills/&quot;&gt;polyfills, such as webcomponents.js&lt;/a&gt;, to bridge the gap between the current state of browser support and the future.&lt;/p&gt;
&lt;h2&gt;Enter Google Polymer&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://www.polymer-project.org&quot;&gt;Polymer&lt;/a&gt;&lt;/strong&gt; is a library created by Google that enables us to build cross-browser compatible apps and elements with web components. It provides syntactic sugar to native web components as well as &lt;a href=&quot;https://www.polymer-project.org/2.0/docs/browsers&quot;&gt;polyfills for browsers&lt;/a&gt; that don’t support web components yet. Shadow DOM is difficult and costly to polyfill, so Polymer provides a separate &lt;a href=&quot;https://github.com/webcomponents/shadydom&quot;&gt;shady DOM polyfill&lt;/a&gt; to &lt;a href=&quot;https://developers.google.com/web/fundamentals/web-components/shadowdom&quot;&gt;implement the features of shadow DOM&lt;/a&gt; in browsers that lack support.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&quot;https://www.webcomponents.org/collection/Polymer/elements&quot;&gt;web components collection&lt;/a&gt; provides many prepackaged &lt;a href=&quot;https://www.webcomponents.org/introduction#how-do-i-use-a-web-component-&quot;&gt;custom elements that can be easily implemented&lt;/a&gt; in any Polymer project. They provide useful utility elements like &lt;a href=&quot;https://www.webcomponents.org/element/PolymerElements/iron-ajax&quot;&gt;Ajax&lt;/a&gt;, &lt;a href=&quot;https://www.webcomponents.org/element/PolymerElements/iron-media-query&quot;&gt;media queries&lt;/a&gt;, and &lt;a href=&quot;https://www.webcomponents.org/element/PolymerElements/app-route&quot;&gt;single page application routing&lt;/a&gt; as well as the &lt;a href=&quot;https://www.webcomponents.org/collection/PolymerElements/paper-elements&quot;&gt;visual “Paper” elements&lt;/a&gt; of &lt;a href=&quot;https://material.io/guidelines/&quot;&gt;Google’s Material Design&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Polymer has comprehensive documentation at the &lt;a href=&quot;https://www.polymer-project.org/2.0/docs/devguide/feature-overview&quot;&gt;Polymer Project Devguide&lt;/a&gt; and can be used with or without the custom elements in the Element Catalog. To speed up development, we’ll build our simple Single Page Application (SPA) with a starter kit and Polymer elements.&lt;/p&gt;
&lt;h2&gt;What We’ll Build&lt;/h2&gt;
&lt;p&gt;We’re going to develop a Polymer app that does the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;calls an external Node API to get Chuck Norris quotes,&lt;/li&gt;
&lt;li&gt;posts to the API to register and log in users,&lt;/li&gt;
&lt;li&gt;uses JSON Web Tokens to fetch protected Chuck Norris quotes for authenticated users,&lt;/li&gt;
&lt;li&gt;stores tokens and user data with local storage,&lt;/li&gt;
&lt;li&gt;and logs users out by clearing tokens.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The full source code for the completed app can be &lt;a href=&quot;https://github.com/auth0-blog/polymer2-with-jwt-api&quot;&gt;cloned from this GitHub repo&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Setup and Installation&lt;/h2&gt;
&lt;p&gt;We’ll use the new &lt;a href=&quot;https://www.polymer-project.org/2.0/docs/tools/polymer-cli&quot;&gt;Polymer CLI&lt;/a&gt; to scaffold our Polymer web app with the &lt;a href=&quot;https://www.polymer-project.org/2.0/start/toolbox/set-up#initialize-your-project-from-a-template&quot;&gt;Polymer Starter Kit&lt;/a&gt;. With the starter kit, we’ll gain the advantages of routing, app layout, Material Design, and many core utilities right away. &lt;/p&gt;
&lt;p&gt;Let’s get started!&lt;/p&gt;
&lt;h3&gt;Dependencies&lt;/h3&gt;
&lt;p&gt;First, make sure that you have &lt;a href=&quot;https://nodejs.org/en/download/&quot;&gt;node.js&lt;/a&gt; (with NPM) installed. &lt;/p&gt;
&lt;p&gt;If you don’t already have &lt;a href=&quot;https://bower.io/&quot;&gt;Bower&lt;/a&gt;, install it globally with the following command: &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; -g bower&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Install the Polymer CLI: &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; -g polymer-cli&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;We also need to have a sample Node API running. Clone the &lt;a href=&quot;https://github.com/auth0-blog/nodejs-jwt-authentication-sample&quot;&gt;NodeJS JWT Authentication sample repo&lt;/a&gt; and follow the instructions in the README to get it up and running on &lt;a href=&quot;http://localhost:3001&quot;&gt;http://localhost:3001&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Initializing a Polymer App&lt;/h3&gt;
&lt;p&gt;Create a new directory and navigate to it in the terminal or command prompt. Use the following command to initialize the Polymer starter kit in your new folder:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;polymer init polymer-2-starter-kit&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This command installs the starter kit app and necessary Bower components. Once the command completes, we can view the app in the browser by running:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;polymer serve&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The site runs at &lt;a href=&quot;http://localhost:8081&quot;&gt;http://localhost:8081&lt;/a&gt;. Adding the optional &lt;code class=&quot;language-text&quot;&gt;--open&lt;/code&gt; flag will automatically launch that address in your default browser.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: If you want to see the shadow DOM nodes in action in the inspector during development, &lt;a href=&quot;https://www.google.com/chrome/&quot;&gt;Chrome&lt;/a&gt; is recommended. The app works in all modern browsers thanks to Polymer’s inclusion of shady DOM and polyfills, but Chrome currently has the best native support for web components. &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;When viewing your app in the browser, it looks like this:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/screenshot_starterkit-10d3a24c36927115c52baa265c5e705d-d8343.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 67.9745493107105%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAAB7klEQVQoz31Qy27TQBT1l8GaTWHDGiQkll2wayS6QKJLBC1suqi6KHbaRsROmnjsQioQJBUvwQJUdgSSUvy2J37OjM31mFoRjxwfj+8dzbnneIQPyv4n1PtypH0dPS/5anCidU5Q5zPqflR77/vqu776poeO+/oIPR2iwUg7GijqoIvknbbg4ZnleqeG6QY4YbkT0jMLW3ZglsSWU9KsaZc8PXO+T83tTUkIwihnLEuzoiCmR29sONceuJfX7CsLubTmraxuC3FGKCEFR5Swg2On99qTh077pb2A8tDdeCgKP34aURRV4pxRmgTYM0g2KwpWFPS/ZNHW5o7gen4cx5WYUuoH+NtkGoZh2bKc5cU883NGcXzvzroAn9qZMeb7/nQyGY/H9cR55BxQJEl8d/WRUGlqcRAEoHddF+NZBRiNeROFUX0yTpKt2w2hSjsvdjhs27IsGwA1r8odaD3PI1kWJemL9Vv/cIajhmlWUlhNDhAahmHZFlwHiOMk7d5v/CnmgRcB8sPqYyw1bpZiQijjIITUVn/D4gRABAi/srzM//ncGW4SBkMweH8XHOAHjgGe+bwA5zRNlq5eF3T9EOnPNE3vdhRFliXxsSSKTUna3W1KIjzN1t7+odJSn7RGSHmrK6i9B5uKcnDh4qVfFI3iorHHxk4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Polymer app starter kit browser view&quot;
        title=&quot;&quot;
        src=&quot;/static/screenshot_starterkit-10d3a24c36927115c52baa265c5e705d-7476a.png&quot;
        srcset=&quot;/static/screenshot_starterkit-10d3a24c36927115c52baa265c5e705d-5131c.png 250w,
/static/screenshot_starterkit-10d3a24c36927115c52baa265c5e705d-37136.png 500w,
/static/screenshot_starterkit-10d3a24c36927115c52baa265c5e705d-7476a.png 1000w,
/static/screenshot_starterkit-10d3a24c36927115c52baa265c5e705d-a41db.png 1500w,
/static/screenshot_starterkit-10d3a24c36927115c52baa265c5e705d-d8343.png 1886w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;Customizing the Polymer Starter Kit App&lt;/h2&gt;
&lt;p&gt;You can see that the starter kit app has several views. We want to customize it. When we’ve finished updating the structure and naming, our app should look like this:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/screenshot_routing-7a2ff4e3efe033060eae9b78af8c8bda-2b90f.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 67.61904761904762%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAACBElEQVQoz3WR3WvTUBjG89eJl7I771QQ7xW8UfHKyi4cKDKYiDaty2RZq+tXmmzIyhy0VXAgIr3S1lptkibpOcnJx/mIb9NuFFkfHk6eN5zfed+TSKeV0jdD6x0d9NvH4EG71Tus94zqd6P+VddOm/qXpv5ZMzrNw47xoW0cdQ5ararequsVZV+aBsR2vT+m5SIcc2FjPjT932P018KrPBg5P4b2tlySpn7AGU3iJBXUwezm88mNZ871p+6V3GSV1x7bVzfQ3Yc7UkyZEFyIFBQlXOs62iev0XXfn0xW2651p5tbZcl23DAMRUYLzmmEsWcmEU5TnqbsQgvBUhEpRVUKCLFMaw4zzqcID34Nse9nJYyULlucOU7o5pOXEmzinKeZICCERqPRz34fDp3Nkl4sypKN9VczmDG2DLuu6zgOBOiPMSaEIIwg+b6/2ClEwpiynrsABnKSybZtWKGch0XpunEcRZSfbD2Q5lddhmGHZVnnAAhKyKZpwgvon8CPpVx/kfsf9jwPRsVoJowXcbaeZYDhgUlYfnRnBidwTiZK6bztKtnZOh6PAc/duz+/86Iz/LAoisJMJDwX8QMCHx8HBPnEJyQIApjy2q3bUq3eqNSb1VpjT1XVXbUg5+V8vijL28VCQZblQlF5o2h7byu7Ox9rpW6jpKnK63yx/G7/0uW1f6+C5BTO7vMyAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Polymer starter kit after renaming for Chuck Norris app&quot;
        title=&quot;&quot;
        src=&quot;/static/screenshot_routing-7a2ff4e3efe033060eae9b78af8c8bda-7476a.png&quot;
        srcset=&quot;/static/screenshot_routing-7a2ff4e3efe033060eae9b78af8c8bda-5131c.png 250w,
/static/screenshot_routing-7a2ff4e3efe033060eae9b78af8c8bda-37136.png 500w,
/static/screenshot_routing-7a2ff4e3efe033060eae9b78af8c8bda-7476a.png 1000w,
/static/screenshot_routing-7a2ff4e3efe033060eae9b78af8c8bda-a41db.png 1500w,
/static/screenshot_routing-7a2ff4e3efe033060eae9b78af8c8bda-2b90f.png 1890w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Let’s dig into the code to understand how Polymer applications and elements are composed and how we can modify it to suit our needs.&lt;/p&gt;
&lt;h3&gt;Element Naming&lt;/h3&gt;
&lt;p&gt;Open the &lt;code class=&quot;language-text&quot;&gt;/src&lt;/code&gt; folder and take a look at its contents. These are the elements and views that make up the application. Notice that the file names are hyphenated (ie., &lt;code class=&quot;language-text&quot;&gt;my-app&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;my-view1&lt;/code&gt;). This follows the &lt;a href=&quot;https://www.w3.org/TR/custom-elements/#valid-custom-element-name&quot;&gt;W3C valid custom element naming spec&lt;/a&gt;. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Custom element names must contain &lt;em&gt;at least one hyphen&lt;/em&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;my-app.html&lt;/code&gt; file contains the main module that renders the other views based on the route (with &lt;a href=&quot;https://www.polymer-project.org/2.0/toolbox/routing&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;app-route&lt;/code&gt;&lt;/a&gt; and &lt;a href=&quot;https://www.webcomponents.org/element/PolymerElements/iron-pages&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;iron-pages&lt;/code&gt;&lt;/a&gt;). The name &lt;code class=&quot;language-text&quot;&gt;my-app&lt;/code&gt; suits our purposes so we’ll leave it as-is. The same goes for &lt;code class=&quot;language-text&quot;&gt;my-icons&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;shared-styles&lt;/code&gt;. However, &lt;code class=&quot;language-text&quot;&gt;my-view1&lt;/code&gt; is not descriptive enough. We’ll rename these files and in doing so, learn about more Polymer elements.&lt;/p&gt;
&lt;h3&gt;Renaming HTML Files&lt;/h3&gt;
&lt;p&gt;Our app will be composed of the following views:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;A homepage that lets visitors click a button to display random Chuck Norris quotes.&lt;/li&gt;
&lt;li&gt;A signup and login page with a form that lets visitors register or log into the app.&lt;/li&gt;
&lt;li&gt;A secret quotes page where authenticated users can click a button to get protected Chuck Norris quotes.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;We’ll rename the generic starter kit views to match our planned view structure. The &lt;code class=&quot;language-text&quot;&gt;/src&lt;/code&gt; folder currently looks like this:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/rename-files1-33421f242a07cf98f0394a53198d2085-4ee84.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 214px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 81.30841121495328%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAEDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeXLTMH/xAAXEAADAQAAAAAAAAAAAAAAAAAAARAC/9oACAEBAAEFAkOZHP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABkQAAIDAQAAAAAAAAAAAAAAAAEQABEhMf/aAAgBAQABPyHfYIFU2wv/2gAMAwEAAgADAAAAEHDP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHhABAAIBBAMAAAAAAAAAAAAAAREhABAxQeFR0fH/2gAIAQEAAT8QgIuDQvZkggTwfXSg3F+ezCSzte57dP/Z&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Polymer starter kit src file structure&quot;
        title=&quot;&quot;
        src=&quot;/static/rename-files1-33421f242a07cf98f0394a53198d2085-4ee84.jpg&quot;
        srcset=&quot;/static/rename-files1-33421f242a07cf98f0394a53198d2085-4ee84.jpg 214w&quot;
        sizes=&quot;(max-width: 214px) 100vw, 214px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Let’s rename these files:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;/src
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;-- my-view1.html
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;-- my-view2.html
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;-- my-view3.html
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;-- my-view404.html&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;to the following:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;/src
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;-- home-quotes.html
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;-- register-login.html
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;-- secret-quotes.html
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;-- not-found.html&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Our final file &lt;code class=&quot;language-text&quot;&gt;/src&lt;/code&gt; folder file structure should look like this:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/rename-files2-ca798cc01981ae6826b8681cbf0c351f-4ee84.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 214px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 81.30841121495328%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAcskVA//xAAYEAACAwAAAAAAAAAAAAAAAAAAAQIQMf/aAAgBAQABBQJDqI8P/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGRAAAQUAAAAAAAAAAAAAAAAAAQAQESEx/9oACAEBAAE/Ibi1EYA2Cos//9oADAMBAAIAAwAAABCjz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAQACAgMBAAAAAAAAAAAAAAERIQAQQaHhsf/aAAgBAQABPxADFganjswUQnmb+6QWd+mSK5Qq/df/2Q==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Polymer starter kit Chuck Norris app src file structure&quot;
        title=&quot;&quot;
        src=&quot;/static/rename-files2-ca798cc01981ae6826b8681cbf0c351f-4ee84.jpg&quot;
        srcset=&quot;/static/rename-files2-ca798cc01981ae6826b8681cbf0c351f-4ee84.jpg 214w&quot;
        sizes=&quot;(max-width: 214px) 100vw, 214px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h3&gt;Editing the Views&lt;/h3&gt;
&lt;p&gt;We’ve renamed the HTML files and now we need to rename the elements they contain. For &lt;em&gt;each&lt;/em&gt; of the updated views, open the file and do the following:&lt;/p&gt;
&lt;p&gt;Locate the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;dom-module&amp;gt;&lt;/code&gt; tag near the top of the file. This specifies the start of an &lt;a href=&quot;https://www.polymer-project.org/2.0/docs/devguide/dom-template&quot;&gt;element’s DOM template&lt;/a&gt;. This is the &lt;a href=&quot;https://medium.freecodecamp.com/imperative-vs-declarative-programming-283e96bf8aea&quot;&gt;declarative&lt;/a&gt; portion of the element definition. Change its ID to match the new file name. &lt;/p&gt;
&lt;p&gt;For example: &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dom-module&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;my-view1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;becomes: &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dom-module&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;home-quotes&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Locate the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;script&amp;gt;&lt;/code&gt; tag near the bottom of the file. The &lt;code class=&quot;language-text&quot;&gt;extends Polymer.Element&lt;/code&gt; javascript class is the &lt;a href=&quot;https://medium.freecodecamp.com/imperative-vs-declarative-programming-283e96bf8aea&quot;&gt;imperative&lt;/a&gt; portion of the element definition. Change the &lt;code class=&quot;language-text&quot;&gt;is&lt;/code&gt; function to return the new element name and the class name to something more appropriate.&lt;/p&gt;
&lt;p&gt;For example: &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyView1&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Polymer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Element&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;my-view1&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;customElements&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;MyView1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;is&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; MyView1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;becomes: &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HomeQuotes&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Polymer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Element&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;home-quotes&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;customElements&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;HomeQuotes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;is&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; HomeQuotes&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: Read more about an element’s &lt;a href=&quot;https://www.polymer-project.org/2.0/docs/devguide/shadow-dom&quot;&gt;shadow DOM in the Polymer docs&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Modifying &lt;code class=&quot;language-text&quot;&gt;my-app.html&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Our elements are renamed. Now we need to update references to them. The view elements are called in &lt;code class=&quot;language-text&quot;&gt;/src/my-app.html&lt;/code&gt;, so we’ll make the necessary changes while familiarizing with the contents of the file.&lt;/p&gt;
&lt;p&gt;Routing is handled by &lt;code class=&quot;language-text&quot;&gt;&amp;lt;app-location&amp;gt;&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;&amp;lt;app-route&amp;gt;&lt;/code&gt;, and &lt;code class=&quot;language-text&quot;&gt;&amp;lt;iron-pages&amp;gt;&lt;/code&gt;. Consult the documentation to learn more about &lt;a href=&quot;https://www.polymer-project.org/2.0/toolbox/routing&quot;&gt;Polymer routing&lt;/a&gt;. &lt;/p&gt;
&lt;p&gt;To get our renamed views working with routing, locate the &lt;a href=&quot;https://elements.polymer-project.org/elements/app-layout&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;app-drawer&amp;gt;&lt;/code&gt;&lt;/a&gt; element. This is the menu sidebar and currently contains links to the old routes, like so:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;view1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[rootPath]]view1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;View One&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;You may notice that the hyphenation (&lt;code class=&quot;language-text&quot;&gt;my-&lt;/code&gt;) is missing. It’s being added programmatically and we’ll need to remove it soon. First, change the anchor links inside the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;iron-selector&amp;gt;&lt;/code&gt; element to match our renamed views for &lt;code class=&quot;language-text&quot;&gt;home-quotes&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;secret-quotes&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;...
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;iron-selector&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;selected&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[page]]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;attr-for-selected&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;drawer-list&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;navigation&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;home-quotes&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[rootPath]]home-quotes&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Home&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;secret-quotes&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[rootPath]]secret-quotes&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Secret Quotes&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;iron-selector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The “Log In” link would be best located in the header. Find the &lt;a href=&quot;https://www.polymer-project.org/2.0/toolbox/app-layout#header-layout&quot;&gt;header layout&lt;/a&gt; elements &lt;code class=&quot;language-text&quot;&gt;&amp;lt;app-header&amp;gt;&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;&amp;lt;app-toolbar&amp;gt;&lt;/code&gt;. Add the Log In link after the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;div main-title&amp;gt;My App&amp;lt;/div&amp;gt;&lt;/code&gt; element. While we’re here, let’s change the main title to “Chuck Norris” too. When we’re done, the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;app-toolbar&amp;gt;&lt;/code&gt; element should look like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;...
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;app-toolbar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;paper-icon-button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;icon&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;my-icons:menu&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;drawer-toggle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;paper-icon-button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;main-title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;My App&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;register-login&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[rootPath]]register-login&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Log in&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;app-toolbar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Now we’ll update the markup that places our view elements in the DOM. Locate the &lt;a href=&quot;https://www.webcomponents.org/element/PolymerElements/iron-pages&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;iron-pages&amp;gt;&lt;/code&gt;&lt;/a&gt; tag. This element shows one of its children at a time and is used in conjunction with &lt;code class=&quot;language-text&quot;&gt;&amp;lt;app-route&amp;gt;&lt;/code&gt; to display views based on the URL. Update the elements inside this tag to reflect the renaming of our view elements:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;...
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;iron-pages&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;selected&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[page]]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;attr-for-selected&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;fallback-selection&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;not-found&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;main&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;home-quotes&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;home-quotes&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;home-quotes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;register-login&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;register-login&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;register-login&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;secret-quotes&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;secret-quotes&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;secret-quotes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;not-found&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;not-found&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;not-found&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;iron-pages&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Now we’ll make some changes in the Polymer function. This method takes an object prototype for a new element. You can read more about &lt;a href=&quot;https://www.polymer-project.org/2.0/docs/devguide/registering-elements&quot;&gt;registering elements&lt;/a&gt; in the docs.&lt;/p&gt;
&lt;p&gt;In the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;script&amp;gt;&lt;/code&gt; tag, locate the &lt;code class=&quot;language-text&quot;&gt;_routePageChanged()&lt;/code&gt; function and change the default &lt;code class=&quot;language-text&quot;&gt;this.page&lt;/code&gt; to &lt;code class=&quot;language-text&quot;&gt;home-quotes&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_routePageChanged&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;page&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// If no page was found in the route data, page will be an empty string.&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Default to &apos;home-quotes&apos; in that case.&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;page &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; page &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;home-quotes&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Close a non-persistent drawer when the page &amp;amp; route are changed.&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;drawer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;persistent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;drawer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Next, find the &lt;code class=&quot;language-text&quot;&gt;_pageChanged()&lt;/code&gt; function. This is where the page URL is being prefixed with &lt;code class=&quot;language-text&quot;&gt;my-&lt;/code&gt;. Update the &lt;code class=&quot;language-text&quot;&gt;resolveUrl&lt;/code&gt; variable:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_pageChanged&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;page&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Load page import on demand. Show 404 page if fails&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; resolvedPageUrl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolveUrl&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;page &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Polymer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;importHref&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      resolvedPageUrl&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_showPage404&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Finally, update the &lt;code class=&quot;language-text&quot;&gt;_showPage404()&lt;/code&gt; function’s &lt;code class=&quot;language-text&quot;&gt;this.page&lt;/code&gt; declaration to &lt;code class=&quot;language-text&quot;&gt;not-found&lt;/code&gt; to match our renamed element:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_showPage404&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;page &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;not-found&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Update &lt;code class=&quot;language-text&quot;&gt;polymer.json&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Open the &lt;code class=&quot;language-text&quot;&gt;/polymer.json&lt;/code&gt; file. This file contains the &lt;a href=&quot;https://www.polymer-project.org/2.0/docs/tools/polymer-json&quot;&gt;build settings&lt;/a&gt; for our app when using the Polymer CLI. We’ll update the &lt;code class=&quot;language-text&quot;&gt;fragments&lt;/code&gt; array with our renamed views. These are HTML files that are loaded on-demand or asynchronously.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// polymer.json&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token string&quot;&gt;&quot;fragments&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;src/home-quotes.html&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;src/register-login.html&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;src/secret-quotes.html&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;src/not-found.html&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Click between the routes to make sure everything works. We’re now ready to start developing the features of our app.&lt;/p&gt;
&lt;h2&gt;Building a Polymer Element&lt;/h2&gt;
&lt;p&gt;We’ll start with the home view. When we’re finished with this step, our app should look like this:  &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/screenshot_home-quotes-867a03067634d4a65a4e780a6e925267-f5621.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 67.37288135593221%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAAB+ElEQVQoz31Sy27TQBSdb4QVG8SOJX8BYlNWLJAQCMEKoaoIGtSkajFxm+C87DilUklSJX4kJJ6xx4/xPOyYcUIqUCOOju8dyefcc8cyuDr8YOvtq7oyaqqO3naN9tzQnJ42H/Rcs2eZ+qRvTAxjbPRHfXNoDkaDyyu9b2ottaYAu98WReGH0QKimKQoosNZMvGEhXLHl8w2dP+iDfn1IlXqBhhrKo6TVZ4JIYesjDF98Gz58Dm8v+fdeby8+2QnF/f28KOnLeAO9KyQLgnZChTyet9v/ghV0/+qo5087cGzi+jjkQ6GnVaAQ0ZZsUYmOCU4wpAzWuyGjMll62gd8NMwEkICP9hEM87DMERLO4lgUXAhUkKoFFDGCEkp41KV56VSqalgZF6U0/J8M1ZwBjE50Nj7evj2BHeHpFgJSpkQnHORZX+uKOtp7Rx0G5o85Vl+s/Z8iV9V0ZsaelFBzctYmqWNb8EYozQVq6Jb/QSOlUbp2SZLnY8QjVEalzXCyIP/ACEEoRdE5LpRAep3vUy+WVsI+dqDUoHWyh2AnodjMlAOwbfz9m3z/yHNEUm1yj6oHivl2ts7yynhLWBcMsDYD7AvD0Egv9/+wWfw5eRM/l5RlMRxIp/A9y3LsiXWpeyW7TrOzHF+uc5y7i5mznQ6lfEvX7/7DXvCvelzL018AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Polymer app element home quotes&quot;
        title=&quot;&quot;
        src=&quot;/static/screenshot_home-quotes-867a03067634d4a65a4e780a6e925267-7476a.png&quot;
        srcset=&quot;/static/screenshot_home-quotes-867a03067634d4a65a4e780a6e925267-5131c.png 250w,
/static/screenshot_home-quotes-867a03067634d4a65a4e780a6e925267-37136.png 500w,
/static/screenshot_home-quotes-867a03067634d4a65a4e780a6e925267-7476a.png 1000w,
/static/screenshot_home-quotes-867a03067634d4a65a4e780a6e925267-a41db.png 1500w,
/static/screenshot_home-quotes-867a03067634d4a65a4e780a6e925267-f5621.png 1888w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Open the &lt;code class=&quot;language-text&quot;&gt;/src/home-quotes.html&lt;/code&gt; file. This is our &lt;code class=&quot;language-text&quot;&gt;home-quotes&lt;/code&gt; custom element. Right now it contains some lorem ipsum and lacks JS functionality beyond instantiation. We’ll add an Ajax call to the &lt;a href=&quot;https://github.com/auth0-blog/nodejs-jwt-authentication-sample&quot;&gt;Chuck Norris API&lt;/a&gt; and bindings to display the response on the page. We’ll also add a button to get a new random quote when clicked.&lt;/p&gt;
&lt;h3&gt;HTML Imports&lt;/h3&gt;
&lt;p&gt;The first thing we’ll do is install some Polymer elements. We can leverage &lt;a href=&quot;https://www.webcomponents.org/element/PolymerElements/iron-ajax&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;iron-ajax&lt;/code&gt;&lt;/a&gt; to call the API and &lt;a href=&quot;https://www.webcomponents.org/element/PolymerElements/paper-button&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;paper-button&lt;/code&gt;&lt;/a&gt; for the UI.&lt;/p&gt;
&lt;p&gt;Install these components using Bower:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;bower &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; PolymerElements/iron-ajax PolymerElements/paper-button --save&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;We need to import the elements into &lt;code class=&quot;language-text&quot;&gt;home-quotes&lt;/code&gt; using &lt;a href=&quot;https://www.webcomponents.org/community/articles/introduction-to-html-imports/&quot;&gt;HTML imports&lt;/a&gt;. Since we’re building web components, we want to import all the dependencies for a specific element in that element’s HTML file. We don’t want to rely on a parent element loading them first–that could create a missing dependency somewhere down the line. &lt;/p&gt;
&lt;p&gt;Doing this would be dangerous if we were loading scripts in the traditional way: we might get the same dependency called multiple times throughout the app. We would need to centralize file requests or use a dependency manager. However, with web components, we don’t need to worry about loading the same imports multiple times because HTML imports dedupe: if an HTML import has already been loaded, it skips loading it again.&lt;/p&gt;
&lt;p&gt;The Polymer library and &lt;code class=&quot;language-text&quot;&gt;shared-styles&lt;/code&gt; element are already being imported in our &lt;code class=&quot;language-text&quot;&gt;home-quotes&lt;/code&gt; element. We’ll add the two elements we just installed with Bower:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- home-quotes.html --&gt;&lt;/span&gt;
...
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/iron-ajax/iron-ajax.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/paper-button/paper-button.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Now we can take advantage of these elements.&lt;/p&gt;
&lt;h3&gt;Calling an API with iron-ajax&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Make sure you have the &lt;a href=&quot;https://github.com/auth0-blog/nodejs-jwt-authentication-sample&quot;&gt;Chuck Norris Node API&lt;/a&gt; cloned and running so that the API is accessible on &lt;a href=&quot;http://localhost:3001&quot;&gt;http://localhost:3001&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We’re going to call the API using HTML. The only JavaScript we need to write in this element will be a simple handler to re-send the Ajax request when a button is clicked. Pretty cool, huh?&lt;/p&gt;
&lt;p&gt;After the closing &lt;code class=&quot;language-text&quot;&gt;&amp;lt;/style&amp;gt;&lt;/code&gt; tag (we’ll come back to styling shortly), add the following &lt;code class=&quot;language-text&quot;&gt;iron-ajax&lt;/code&gt; element:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;iron-ajax&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;getQuoteAjax&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;auto&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;http://localhost:3001/api/random-quote&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;handle-as&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;last-response&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{quote}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;iron-ajax&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: It’s always worthwhile to take a look at the &lt;a href=&quot;https://github.com/PolymerElements/iron-ajax&quot;&gt;source code&lt;/a&gt; for any custom elements you’re using, including &lt;a href=&quot;https://github.com/PolymerElements&quot;&gt;Polymer elements&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We gave &lt;code class=&quot;language-text&quot;&gt;iron-ajax&lt;/code&gt; a descriptive &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt; so we can access its instance in JS using &lt;code class=&quot;language-text&quot;&gt;this.$.getQuoteAjax&lt;/code&gt;. Setting the &lt;code class=&quot;language-text&quot;&gt;auto&lt;/code&gt; attribute re-sends the request anytime the URL or parameters change. For our purposes, this fetches a quote when the element first loads. Since we won’t change the URL or parameters again after initialization, we’ll generate subsequent requests with a button click handler. We’re using the &lt;code class=&quot;language-text&quot;&gt;GET&lt;/code&gt; method. The API returns the response as a string, so we’ll set &lt;code class=&quot;language-text&quot;&gt;handle-as=&amp;quot;text&amp;quot;&lt;/code&gt; (other options include &lt;code class=&quot;language-text&quot;&gt;xml&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;json&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;blob&lt;/code&gt;, etc.). &lt;/p&gt;
&lt;p&gt;Finally, &lt;code class=&quot;language-text&quot;&gt;last-response&lt;/code&gt; can bind the response from the most recent request. We’re &lt;a href=&quot;https://www.polymer-project.org/2.0/docs/devguide/data-binding#two-way-bindings&quot;&gt;automatic/two-way data binding&lt;/a&gt; it to a property called &lt;code class=&quot;language-text&quot;&gt;quote&lt;/code&gt; with &lt;a href=&quot;https://www.polymer-project.org/2.0/docs/devguide/data-binding#binding-annotation&quot;&gt;double curly braces&lt;/a&gt; as delimiters. &lt;code class=&quot;language-text&quot;&gt;iron-ajax&lt;/code&gt; is bundled with a dependency element called &lt;a href=&quot;https://github.com/PolymerElements/iron-ajax/blob/master/iron-request.html&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;iron-request&lt;/code&gt;&lt;/a&gt; which performs the Ajax request. The response needs to be two-way bound to communicate up and down between the request and our instance of the &lt;code class=&quot;language-text&quot;&gt;iron-ajax&lt;/code&gt; element. You can read more about &lt;a href=&quot;https://www.polymer-project.org/2.0/docs/devguide/data-system#data-flow&quot;&gt;data flow in Polymer here&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Binding and Fetching Quotes&lt;/h3&gt;
&lt;p&gt;We now have the response from the API. We need to display the quote in the view. Locate the card div &lt;code class=&quot;language-text&quot;&gt;&amp;lt;div class=&amp;quot;card&amp;quot;&amp;gt;&lt;/code&gt; and delete the lipsum contents.&lt;/p&gt;
&lt;p&gt;Add a heading and a &lt;code class=&quot;language-text&quot;&gt;&amp;lt;blockquote&amp;gt;&lt;/code&gt;. Inside the blockquote element, one-way bind the &lt;code class=&quot;language-text&quot;&gt;quote&lt;/code&gt; API response using &lt;a href=&quot;https://www.polymer-project.org/2.0/docs/devguide/data-binding#binding-annotation&quot;&gt;double square bracket delimiters&lt;/a&gt; (&lt;code class=&quot;language-text&quot;&gt;[[quote]]&lt;/code&gt;). We’re using one-way binding here because data is flowing downward from host to target but not upwards. In order to get new quotes, let’s add a button below the blockquote.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;card&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Quotes&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;blockquote&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;[[quote]]&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;blockquote&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;paper-button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;raised&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;on-tap&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;getQuote&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;primary&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Get a New Quote&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;paper-button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Check out the &lt;a href=&quot;https://elements.polymer-project.org/elements/paper-button&quot;&gt;paper-button documentation&lt;/a&gt; to read about button styling and API. We’ve added an &lt;a href=&quot;https://www.polymer-project.org/2.0/docs/devguide/events#annotated-listeners&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;on-tap&lt;/code&gt;&lt;/a&gt; &lt;a href=&quot;https://www.polymer-project.org/2.0/docs/devguide/events&quot;&gt;event listener&lt;/a&gt; so when we click or tap the button, we can request another quote from the API by executing a function.&lt;/p&gt;
&lt;p&gt;In our JS, let’s add the &lt;code class=&quot;language-text&quot;&gt;getQuote()&lt;/code&gt; function and generate another Ajax request. We’ll use the &lt;code class=&quot;language-text&quot;&gt;iron-ajax&lt;/code&gt; method &lt;a href=&quot;https://elements.polymer-project.org/elements/iron-ajax#method-generateRequest&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;generateRequest()&lt;/code&gt;&lt;/a&gt; to do this. Remember, we can reference this instance by its ID:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HomeQuotes&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Polymer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Element&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;home-quotes&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;getQuote&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;getQuoteAjax&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;generateRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;customElements&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;HomeQuotes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;is&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; HomeQuotes&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;We should now be able to click the “Get a New Quote” button in our app to get and display random Chuck Norris quotes.&lt;/p&gt;
&lt;h3&gt;Styling&lt;/h3&gt;
&lt;p&gt;Web component elements use &lt;a href=&quot;https://developers.google.com/web/fundamentals/primers/shadowdom/#styling&quot;&gt;shadow DOM styling rules&lt;/a&gt;. Styles defined in the shadow root are local. This means we can target IDs and classes within our custom element without contaminating the rest of the page or application. &lt;/p&gt;
&lt;p&gt;The quote and button look a bit shabby so let’s spruce them up with CSS. Head back up to the top of the &lt;code class=&quot;language-text&quot;&gt;/src/home-quotes.html&lt;/code&gt; file and find the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;style&amp;gt;&lt;/code&gt; tag. Notice that this tag &lt;code class=&quot;language-text&quot;&gt;include&lt;/code&gt;s the &lt;code class=&quot;language-text&quot;&gt;shared-styles&lt;/code&gt; element. Since we’ll be using the &lt;code class=&quot;language-text&quot;&gt;blockquote&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;paper-button&lt;/code&gt; styles elsewhere in the app for the &lt;code class=&quot;language-text&quot;&gt;secret-quotes&lt;/code&gt; element too, we’ll want to put our styles somewhere they can be accessed globally.&lt;/p&gt;
&lt;p&gt;Open &lt;code class=&quot;language-text&quot;&gt;/src/shared-styles.html&lt;/code&gt;. We can add our common styles here as well as clean up some CSS we won’t be using anymore.&lt;/p&gt;
&lt;p&gt;Delete the &lt;code class=&quot;language-text&quot;&gt;.circle&lt;/code&gt; ruleset and add the following:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;...
:root&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;--primary-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #4285f4&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;a,
paper-button&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-weight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bold&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--primary-color&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;paper-button&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fff&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;paper-button.primary&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--primary-color&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;blockquote&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;border-left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 4px solid #eee&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;margin-left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 4px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;padding-left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 20px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;As you can see, we can use &lt;a href=&quot;https://www.polymer-project.org/2.0/docs/devguide/custom-css-properties&quot;&gt;custom CSS properties&lt;/a&gt; with Polymer:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;:root&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token property&quot;&gt;--primary-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #4285f4&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;...
a&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--primary-color&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;...
paper-button.primary&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token property&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--primary-color&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Many of &lt;a href=&quot;https://www.webcomponents.org/collection/PolymerElements/paper-elements&quot;&gt;Polymer’s Material Design Paper elements&lt;/a&gt; can be customized by setting variables. We can also create our own. We’ll set the primary color on the &lt;code class=&quot;language-text&quot;&gt;:root&lt;/code&gt; selector so that it &lt;a href=&quot;https://www.polymer-project.org/2.0/docs/devguide/custom-css-properties&quot;&gt;applies to all custom elements&lt;/a&gt;. We’ll then use the variable to style our &lt;code class=&quot;language-text&quot;&gt;paper-button&lt;/code&gt; element with a &lt;code class=&quot;language-text&quot;&gt;.primary&lt;/code&gt; class.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: By setting the &lt;code class=&quot;language-text&quot;&gt;--primary-color&lt;/code&gt; variable now, the focus color for inputs will also be preset when we use &lt;a href=&quot;https://www.webcomponents.org/element/PolymerElements/paper-input?active=paper-input-container#styling&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;paper-input-container&lt;/code&gt;&lt;/a&gt; later.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Now the &lt;code class=&quot;language-text&quot;&gt;.primary&lt;/code&gt; class that we added to our button will be styled in the &lt;code class=&quot;language-text&quot;&gt;home-quotes&lt;/code&gt; element.&lt;/p&gt;
&lt;h2&gt;Authenticating Users in a Polymer App&lt;/h2&gt;
&lt;p&gt;Users should be able to register so they can log in and access secret quotes. We’ll create a form for visitors to enter credentials and &lt;code class=&quot;language-text&quot;&gt;POST&lt;/code&gt; data to the API to sign up or log in and receive a &lt;a href=&quot;http://jwt.io&quot;&gt;JWT access token&lt;/a&gt;. We also need to handle sign up and login errors as well as save to local storage to persist logins. &lt;/p&gt;
&lt;p&gt;When this step is complete, our login view will look like this:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/screenshot_login-7cc3f58659d76775c61dd7d5304a925b-90984.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 67.79303062302007%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAACF0lEQVQoz31SS2/TQBD2H0NcuYE4Ig48jj0XcaECVcGuStIqkKQBpKgQhYoeaNrGcQtKeVRNVSRQOFT0QAqViET8dta7fuyuGa95tBD49Gk0M55vZ2a9Uq+5vK+1PnY2Pndffem+Ptp5ebC5dqCt7mvrvXbrvdp+p7bftrRddbOrvdjROt2NrU5T3VrTmo0VyUW+YTmDoW66noPQVxMN9NHQ8HRzZACtH9QziuTgm3V4NKzXliUH+SyOoyhKeDy0w6tF40rRvlS0z942z/2D52XzQsG+NlWXaJJwzniSgoRM3bPVPWd913q2bf6Hq12rVHkqecgnBAttwhmLAy8mLqMhREnC/iLNyGP/UW1JIkFgmRbnaW/KmON6n/qHlu1EEQ3DOAgjYOZEMYUqUZggHxeVsgQeYyzrTCn1PC8MQ4wxQogQ4gtACBbyyU9ggmdz96VMk6XgFBDDqST4XXccXCAVY7w4ffOEmNJUzGLMKaEC8ThAHobZLl2XslWPd/7QH/X6GPaEOfk4ZJ218q0/xY7jza2400uOBQ8AjRiDPzAG0PnJjYlUDB2yecAxdN21dNfWDcMwTVMXMAwRCqaursOnqcnJbGf260rSqyYBECBMauElAD0fewgckQvDi5cnpIXqw+qDWqVUmSsUCvm8nMvJOVmRFUWWZxTA7Hy+0CjPL96bf15feNOoPL6bV2buVEvlU6fPfAcL3eD7pIA3NgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Polymer register login app view&quot;
        title=&quot;&quot;
        src=&quot;/static/screenshot_login-7cc3f58659d76775c61dd7d5304a925b-7476a.png&quot;
        srcset=&quot;/static/screenshot_login-7cc3f58659d76775c61dd7d5304a925b-5131c.png 250w,
/static/screenshot_login-7cc3f58659d76775c61dd7d5304a925b-37136.png 500w,
/static/screenshot_login-7cc3f58659d76775c61dd7d5304a925b-7476a.png 1000w,
/static/screenshot_login-7cc3f58659d76775c61dd7d5304a925b-a41db.png 1500w,
/static/screenshot_login-7cc3f58659d76775c61dd7d5304a925b-90984.png 1894w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h3&gt;Creating the User Credentials Form&lt;/h3&gt;
&lt;p&gt;Open &lt;code class=&quot;language-text&quot;&gt;/src/register-login.html&lt;/code&gt;. This is our &lt;code class=&quot;language-text&quot;&gt;register-login&lt;/code&gt; element. We’ll use some more Polymer elements from the catalog, so let’s start by installing &lt;a href=&quot;https://www.webcomponents.org/element/PolymerElements/iron-input&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;iron-input&lt;/code&gt;&lt;/a&gt; and &lt;a href=&quot;https://www.webcomponents.org/element/PolymerElements/paper-input&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;paper-input&lt;/code&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;bower &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; PolymerElements/iron-input PolymerElements/paper-input PolymerElements/iron-localstorage --save&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Now we’ll import these new dependencies along with &lt;code class=&quot;language-text&quot;&gt;iron-ajax&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;paper-button&lt;/code&gt;, and &lt;code class=&quot;language-text&quot;&gt;iron-localstorage&lt;/code&gt;. We don’t need to install &lt;code class=&quot;language-text&quot;&gt;iron-localstorage&lt;/code&gt; with Bower because it came packaged with the starter kit.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: You can check your &lt;code class=&quot;language-text&quot;&gt;/bower_components&lt;/code&gt; directory to see what other Polymer components are automatically installed.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The HTML imports for &lt;code class=&quot;language-text&quot;&gt;register-login&lt;/code&gt; should now look like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- register-login.html --&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/polymer/polymer-element.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/iron-ajax/iron-ajax.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/iron-localstorage/iron-localstorage.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/iron-input/iron-input.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/paper-input/paper-input.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/paper-button/paper-button.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;shared-styles.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;First we’ll set up the basic markup for the form with a username and password. Logging in and signing up require the same fields so we’ll use the same form for both. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: A potential future enhancement might be to split register and login into separate views and add a Confirm Password field when signing up.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Delete the lorem ipsum inside the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;div class=&amp;quot;card&amp;quot;&amp;gt;&lt;/code&gt; element. We want to create two potential UIs for this area: one for if the user is authenticated and one for if they aren’t. We’ll start with the unauthenticated view, which is the register / login form.&lt;/p&gt;
&lt;p&gt;Create a container for the unauthenticated UI and add input elements using &lt;a href=&quot;https://www.webcomponents.org/element/PolymerElements/iron-input&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;iron-input&lt;/code&gt;&lt;/a&gt; and &lt;a href=&quot;https://www.webcomponents.org/element/PolymerElements/paper-input?active=paper-input-container&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;paper-input-container&lt;/code&gt;&lt;/a&gt;, which comes bundled with &lt;code class=&quot;language-text&quot;&gt;paper-input&lt;/code&gt;. The reason we aren’t using &lt;code class=&quot;language-text&quot;&gt;paper-input&lt;/code&gt; by itself is because &lt;code class=&quot;language-text&quot;&gt;iron-input&lt;/code&gt; allows us to two-way bind input values. It also provides validation options. We won’t do validation in this tutorial, but using this element provides more room for extensibility. Using &lt;code class=&quot;language-text&quot;&gt;paper-input-container&lt;/code&gt; applies Material Design styles to labels and inputs. This way we can utilize both the iron element utilities &lt;em&gt;and&lt;/em&gt; the paper element styles.&lt;/p&gt;
&lt;p&gt;Our initial markup should look like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;card&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;unauthenticated&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Log In&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;strong&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Log in&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;strong&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; or &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;strong&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;sign up&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;strong&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; to access secret Chuck Norris quotes!&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;paper-input-container&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;label&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;slot&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;input&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Username&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;label&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;iron-input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;slot&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;input&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;bind-value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{formData.username}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;username&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{formData.username}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;placeholder&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;Username&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;iron-input&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;paper-input-container&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;paper-input-container&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;label&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Password&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;label&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;iron-input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;slot&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;input&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;bind-value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{formData.password}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;password&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;password&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{formData.password}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;placeholder&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;Password&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;iron-input&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;paper-input-container&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;wrapper-btns&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;paper-button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;raised&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;primary&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;on-tap&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;postLogin&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Log In&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;paper-button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;paper-button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;link&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;on-tap&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;postRegister&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Sign Up&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;paper-button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;We’ll also add some local CSS in the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;style&amp;gt;&lt;/code&gt; tags:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;...
.wrapper-btns&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token property&quot;&gt;margin-top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 15px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;paper-button.link&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #757575&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Now we have a form, but it doesn’t do anything. We’ll wire it up with JS to take advantage of &lt;code class=&quot;language-text&quot;&gt;iron-input&lt;/code&gt; and bind the values to data that we can submit to the API. Create a property that holds an object for our form data:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RegisterLogin&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Polymer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Element&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;register-login&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      formData&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        type&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        value&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://www.polymer-project.org/2.0/docs/devguide/properties&quot;&gt;Polymer properties&lt;/a&gt; are members of the element’s public API and can be declared on the prototype. We’ll set the default value of &lt;code class=&quot;language-text&quot;&gt;formData&lt;/code&gt; to an empty object so we can add properties to it simply by typing in the input fields.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: Why weren’t we required to declare &lt;code class=&quot;language-text&quot;&gt;quote&lt;/code&gt; as a property in the &lt;code class=&quot;language-text&quot;&gt;home-quotes&lt;/code&gt; element? The fetched &lt;code class=&quot;language-text&quot;&gt;quote&lt;/code&gt; is not a member of the element’s public API &lt;em&gt;and&lt;/em&gt; did not need a default value or options. The &lt;code class=&quot;language-text&quot;&gt;quote&lt;/code&gt; property could be added as type &lt;code class=&quot;language-text&quot;&gt;String&lt;/code&gt; to &lt;code class=&quot;language-text&quot;&gt;home-quotes&lt;/code&gt; to no ill effect, but it was left off to demonstrate that Polymer will bind without it and there is no need to expose it to the element’s API: we won’t set the quote as an attribute when calling the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;home-quotes&amp;gt;&lt;/code&gt; element.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We already bound the &lt;code class=&quot;language-text&quot;&gt;formData&lt;/code&gt; object to the inputs in the HTML using &lt;code class=&quot;language-text&quot;&gt;bind-value&lt;/code&gt; attributes. This allows the data to flow between the markup (declarative API) and the JS (imperative API).&lt;/p&gt;
&lt;h3&gt;Submitting the Form with Ajax&lt;/h3&gt;
&lt;p&gt;We’ll use &lt;code class=&quot;language-text&quot;&gt;iron-ajax&lt;/code&gt; again to post our form data to the API to register or log in users:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;iron-ajax&lt;/span&gt;
	&lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;registerLoginAjax&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token attr-name&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;post&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token attr-name&quot;&gt;content-type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;application/json&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token attr-name&quot;&gt;handle-as&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token attr-name&quot;&gt;on-response&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;handleUserResponse&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token attr-name&quot;&gt;on-error&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;handleUserError&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;iron-ajax&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;We’ll use the &lt;code class=&quot;language-text&quot;&gt;POST&lt;/code&gt; method and set the content type to JSON. We’re going to handle the response as text because although a successful login returns JSON, a failure returns a string. This way we can easily parse the JSON on success or handle plain text in case of an error.&lt;/p&gt;
&lt;p&gt;There is no &lt;code class=&quot;language-text&quot;&gt;url&lt;/code&gt; attribute on our &lt;code class=&quot;language-text&quot;&gt;iron-ajax&lt;/code&gt; element this time. We’ll set the URL based on whether the user clicks “Log In” or “Sign Up”. We’ve already added &lt;code class=&quot;language-text&quot;&gt;on-tap&lt;/code&gt; attributes to the two buttons to attach handlers.&lt;/p&gt;
&lt;p&gt;Now we’ll add the corresponding &lt;code class=&quot;language-text&quot;&gt;postLogin()&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;postRegister()&lt;/code&gt; event handlers to the JS. We also need to set the request body containing the form data when the user clicks a button to submit. Then we’ll generate the Ajax request. Add the following to the &lt;code class=&quot;language-text&quot;&gt;Polymer()&lt;/code&gt; function in the JS:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_setReqBody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;registerLoginAjax&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;formData&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;postLogin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;registerLoginAjax&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;url &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;http://localhost:3001/sessions/create&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;_setReqBody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;registerLoginAjax&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;generateRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;postRegister&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;registerLoginAjax&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;url &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;http://localhost:3001/users&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;_setReqBody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;registerLoginAjax&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;generateRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Handling API Responses&lt;/h3&gt;
&lt;p&gt;We’re successfully &lt;code class=&quot;language-text&quot;&gt;POST&lt;/code&gt;ing to the API. Next we need to handle the API response. At this time, we have listener methods defined in the markup but not in the JS:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;iron-ajax&lt;/span&gt;
	&lt;span class=&quot;token attr-name&quot;&gt;...&lt;/span&gt;
	&lt;span class=&quot;token attr-name&quot;&gt;on-response&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;handleUserResponse&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token attr-name&quot;&gt;on-error&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;handleUserError&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;iron-ajax&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Let’s add &lt;code class=&quot;language-text&quot;&gt;handleUserResponse()&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;handleUserError()&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
    storedUser&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    error&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; String
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;handleUserResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;detail&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id_token&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;error &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;storedUser &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;formData&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;username&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      id_token&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id_token&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      access_token&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;access_token&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      loggedin&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// reset form data&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;formData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;handleUserError&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;error &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;detail&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;We’re adding two more properties: &lt;code class=&quot;language-text&quot;&gt;storedUser&lt;/code&gt; (an object to store name, id token, access token, and state of an authenticated user), and &lt;code class=&quot;language-text&quot;&gt;error&lt;/code&gt; (a string to display when the API returns a failure). Later we’ll add &lt;code class=&quot;language-text&quot;&gt;storedUser&lt;/code&gt; to local storage and access it in other areas of the app. We can use shorthand &lt;code class=&quot;language-text&quot;&gt;property: [Type]&lt;/code&gt; because we don’t need any additional options set.&lt;/p&gt;
&lt;p&gt;Next we’ll handle a successful API response: &lt;code class=&quot;language-text&quot;&gt;handleUserResponse()&lt;/code&gt;. Recall that we’re handling all responses as text, so we need to parse the JSON. If a token is present we’ll clear any errors from previous failures, define the &lt;code class=&quot;language-text&quot;&gt;storedUser&lt;/code&gt; object and its properties, and reset &lt;code class=&quot;language-text&quot;&gt;formData&lt;/code&gt; to an empty object.&lt;/p&gt;
&lt;p&gt;We’ve also defined a handler for errors: &lt;code class=&quot;language-text&quot;&gt;handleUserError()&lt;/code&gt;. When the sample API fails, it returns an error message as a string. We’ll set the &lt;code class=&quot;language-text&quot;&gt;error&lt;/code&gt; property to this XHR response. You can &lt;code class=&quot;language-text&quot;&gt;console.log()&lt;/code&gt; the &lt;code class=&quot;language-text&quot;&gt;event&lt;/code&gt; parameter in these two handlers to become more familiar with its structure.&lt;/p&gt;
&lt;p&gt;Now we have the error message but we’re not displaying it to the user. We’d like to show something like this:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/screenshot_login-error-06c86cc049d0369089dc87fd1e5b63ee-90984.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 68.21541710665258%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAACJElEQVQoz3WS72/SQBjH7580/gGLia99rQwcsIUY0DF9YSLxjXvjNjboUAGNjBG2bLrEVEGn/Nig/Gh7d70WpO1d67XdFha3bz65e9I83/vekyv4mkmfbK6LQrZZFNqVcnuv3KkUG7ubDWFLzGdPcjtHO3nOwbZQyxWq+Q9VocQpb+VL2V3QrJSwbsgqlMYyJDo2JgNoDGQyljVFnYfIKglWjjRCzV9d0Nz/xM3Uti3Tch1bUsx7aeX+C7yQRncS8DbuPsELTwegdVy3XddxmON6msxYrg5zdbRdg2/31NvY2EcbnyXQPKjp04lpmr7XZYxSkzBTdxj/wlyXXocH2Y7DV0awDMTDQ2MygarqOF42pRRrpH12jojOvEaXBriu5Re8ifmdw6EMvh998QNZkEwZ0wnRen2105Vbbdg9UzmdLofX0+GIIWyr0CX6aDACx9VaEHhlNjQNij+Q2ODwIkD5Jho/T61Wx/zdmp3+od1zWeqDwvuPvvkimY9MCMGaFkwxLyeQt3vNcDwAxUo9CLxIplTXdduaOcxmvuiV2KX8a8LxEJRvMo9VQ8V/Ayf7T8GMylACOaHIK/5Uwen8X1Egjqyj8BuIkKZp2PZFfbiP8c22+NX7vR54V6rMzxxoanlcG9iHv691+VQIYfDgYTz1bG117WUqmVqOx+Ox2GLoUTSyGH0cjoQ9hUKRRCz2OrnyKpkoZFbLmeTzlejSUjwWXf4H0jfjbgchmDgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Polymer register login with error&quot;
        title=&quot;&quot;
        src=&quot;/static/screenshot_login-error-06c86cc049d0369089dc87fd1e5b63ee-7476a.png&quot;
        srcset=&quot;/static/screenshot_login-error-06c86cc049d0369089dc87fd1e5b63ee-5131c.png 250w,
/static/screenshot_login-error-06c86cc049d0369089dc87fd1e5b63ee-37136.png 500w,
/static/screenshot_login-error-06c86cc049d0369089dc87fd1e5b63ee-7476a.png 1000w,
/static/screenshot_login-error-06c86cc049d0369089dc87fd1e5b63ee-a41db.png 1500w,
/static/screenshot_login-error-06c86cc049d0369089dc87fd1e5b63ee-90984.png 1894w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Let’s add some markup after the instructions paragraph to support this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;...
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;dom-if&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[error]]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;alert-error&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;strong&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Error:&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;strong&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; [[error]]&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
...
```html

Templates with `is=&quot;dom-if&quot;` are [conditionally stamped](https://www.polymer-project.org/2.0/docs/devguide/templates#dom-if) when their `if` property is truthy. 

We can now see an error message if we try to submit empty or invalid credentials to the API. Let&apos;s add some styling to make error messages more prominent. Add the following ruleset to the `register-login` element&apos;s local `&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;` tag:

```css
...
.alert-error {
	background: #ffcdd2;
	border: 1px solid #f44336;
	border-radius: 3px;
	color: #333;
	font-size: 14px;
	padding: 10px;
}&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Saving Data to Local Storage&lt;/h3&gt;
&lt;p&gt;To persist user sessions, add the &lt;a href=&quot;https://www.webcomponents.org/element/PolymerElements/iron-localstorage&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;iron-localstorage&lt;/code&gt;&lt;/a&gt; element near the top of our element markup:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;iron-localstorage&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;user-storage&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{storedUser}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;iron-localstorage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Now users don’t have to log in repeatedly after refresh or return visit.&lt;/p&gt;
&lt;h3&gt;Showing UI Based on Authentication State&lt;/h3&gt;
&lt;p&gt;We’re now authenticating, but there’s no indication to the user that they’re logged in. We’ll hide the form and show a message upon successful authentication.&lt;/p&gt;
&lt;p&gt;Add a &lt;code class=&quot;language-text&quot;&gt;hidden&lt;/code&gt; attribute to the &lt;code class=&quot;language-text&quot;&gt;#authenticated&lt;/code&gt; div:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;unauthenticated&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;hidden$&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[storedUser.loggedin]]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;We want &lt;code class=&quot;language-text&quot;&gt;hidden&lt;/code&gt; to have a binding and be conditionally applied. If we don’t do this, its presence implies truthiness regardless of its value. To &lt;a href=&quot;https://www.polymer-project.org/2.0/docs/devguide/data-binding#attribute-binding&quot;&gt;bind to an attribute&lt;/a&gt;, we need to add a dollar sign &lt;code class=&quot;language-text&quot;&gt;$&lt;/code&gt; after the attribute name.&lt;/p&gt;
&lt;p&gt;We’ll show the user a logged-in UI if they’re authenticated. Add another div:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;...
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;authenticated&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;hidden$&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[!storedUser.loggedin]]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Hello, [[storedUser.name]]!&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;You are currently logged in. You can access &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[rootPath]]secret-quotes&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Secret Quotes&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;!&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Now when the user logs in, they won’t see the form anymore and will see this greeting instead. However, we can take this one step further and redirect them to the Secret Quotes view on successful authentication.&lt;/p&gt;
&lt;h3&gt;Redirecting After Authentication&lt;/h3&gt;
&lt;p&gt;To redirect the user to another view with Polymer app routing in place, we need to include the &lt;a href=&quot;https://www.webcomponents.org/element/PolymerElements/app-route?active=app-location&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;app-location&lt;/code&gt;&lt;/a&gt; element. This synchronizes browser location and application state and gives us access to a &lt;code class=&quot;language-text&quot;&gt;route&lt;/code&gt; object. &lt;/p&gt;
&lt;p&gt;Add &lt;code class=&quot;language-text&quot;&gt;app-location&lt;/code&gt; to the imports at the top of the file. It’s already installed because it came bundled with the starter kit (we’ve seen it in &lt;code class=&quot;language-text&quot;&gt;/src/my-app.html&lt;/code&gt;):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/app-route/app-location.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Now add the element:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;app-location&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;route&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{route}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;app-location&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;In our &lt;code class=&quot;language-text&quot;&gt;handleUserResponse()&lt;/code&gt; function, we can now set the &lt;code class=&quot;language-text&quot;&gt;route.path&lt;/code&gt; to the path we want to redirect to:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;handleUserResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id_token&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;// redirect to Secret Quotes&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;route.path&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/secret-quotes&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: Using &lt;code class=&quot;language-text&quot;&gt;this.set(&amp;#39;property.subproperty&amp;#39;, ...)&lt;/code&gt; instead of &lt;code class=&quot;language-text&quot;&gt;this.property.subproperty =&lt;/code&gt; ensures that &lt;a href=&quot;https://www.polymer-project.org/2.0/docs/devguide/data-system#make-observable-changes&quot;&gt;we’re making observable changes&lt;/a&gt; to object subproperties.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Making User Data Available Globally&lt;/h3&gt;
&lt;p&gt;What if we want to access and manipulate user authentication state from other areas of the app? For instance, the header still says “Log In” when the user is authenticated. We should change this to a greeting and a “Log Out” button. We can also see “Secret Quotes” in the menu while logged out. This should be hidden from unauthenticated users. But most importantly, we need to use the authenticated user’s token to access the protected API to get secret quotes.&lt;/p&gt;
&lt;p&gt;Recall that &lt;code class=&quot;language-text&quot;&gt;iron-localstorage&lt;/code&gt; has a binding to &lt;code class=&quot;language-text&quot;&gt;storedUser&lt;/code&gt; which is a property of the &lt;code class=&quot;language-text&quot;&gt;register-login&lt;/code&gt; element. Even though local storage is accessible globally, we don’t have a &lt;em&gt;simple&lt;/em&gt; way to be sure that changes are observed on all parents and children throughout the app.&lt;/p&gt;
&lt;p&gt;Polymer does not have an elegant, out-of-the-box solution to this problem at this time. This is something any full-featured JS framework would make short work of, but it’s important to remember that Polymer is &lt;em&gt;not&lt;/em&gt; a framework: it’s a library that helps us leverage web components.&lt;/p&gt;
&lt;p&gt;To solve this, we’re going to install and use the component &lt;code class=&quot;language-text&quot;&gt;brum-global-variable&lt;/code&gt;. This makes data available across the application and notifies on changes.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;bower &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; SieBrum/brum-global-variable --save&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: To learn more about &lt;code class=&quot;language-text&quot;&gt;brum-global-variable&lt;/code&gt; &lt;a href=&quot;https://www.webcomponents.org/element/SieBrum/brum-global-variable&quot;&gt;check out its docs&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In &lt;code class=&quot;language-text&quot;&gt;/src/register-login.html&lt;/code&gt;, import the new &lt;code class=&quot;language-text&quot;&gt;brum-global-variable&lt;/code&gt; dependency:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/brum-global-variable/brum-global-variable.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Add the &lt;code class=&quot;language-text&quot;&gt;brum-global-variable&lt;/code&gt; element to the markup. We need to supply an identifying &lt;code class=&quot;language-text&quot;&gt;key&lt;/code&gt; and the &lt;code class=&quot;language-text&quot;&gt;value&lt;/code&gt; we want is, of course, the &lt;code class=&quot;language-text&quot;&gt;storedUser&lt;/code&gt; object.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;brum-global-variable&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;userData&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{storedUser}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;brum-global-variable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;We can now add the &lt;code class=&quot;language-text&quot;&gt;brum-global-variable&lt;/code&gt; element to any other components that need access to this global data. All instances will be notified when the data is changed.&lt;/p&gt;
&lt;h2&gt;Creating a Log Out Element&lt;/h2&gt;
&lt;p&gt;Now that we can register and authenticate users, we need a way for them to log out. This should be a component that can live in a couple of locations, so we’re going to build a new element.&lt;/p&gt;
&lt;p&gt;Create a new file: &lt;code class=&quot;language-text&quot;&gt;/src/log-out.html&lt;/code&gt;. Import Polymer, &lt;code class=&quot;language-text&quot;&gt;paper-button&lt;/code&gt;, and &lt;code class=&quot;language-text&quot;&gt;brum-global-variable&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- log-out.html --&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/polymer/polymer-element.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/paper-button/paper-button.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/brum-global-variable/brum-global-variable.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Now we’ll scaffold our new element by adding &lt;code class=&quot;language-text&quot;&gt;&amp;lt;dom-module id=&amp;quot;log-out&amp;quot;&amp;gt;&lt;/code&gt;. We’ll set up the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;template&amp;gt;&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;&amp;lt;style&amp;gt;&lt;/code&gt;, and &lt;code class=&quot;language-text&quot;&gt;&amp;lt;script&amp;gt;&lt;/code&gt; tags as well. The &lt;code class=&quot;language-text&quot;&gt;:host&lt;/code&gt; styles should have no margin or padding.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dom-module&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;log-out&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token style language-css&quot;&gt;
      &lt;span class=&quot;token selector&quot;&gt;:host&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- MARKUP GOES HERE --&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;LogOut&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Polymer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Element&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;log-out&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

          window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;customElements&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;LogOut&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;is&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; LogOut&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dom-module&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Here are our plans for the &lt;code class=&quot;language-text&quot;&gt;log-out&lt;/code&gt; element:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Display a log out link in the app’s global header when the user is authenticated.&lt;/li&gt;
&lt;li&gt;Display a log out button in the authenticated &lt;code class=&quot;language-text&quot;&gt;register-login&lt;/code&gt; view.&lt;/li&gt;
&lt;li&gt;When the link or button is clicked, clear the user’s token and information from global app data.&lt;/li&gt;
&lt;li&gt;Call the element, pass in the &lt;code class=&quot;language-text&quot;&gt;storedUser&lt;/code&gt;, and be able to add an optional &lt;code class=&quot;language-text&quot;&gt;link&lt;/code&gt; attribute to toggle the &lt;code class=&quot;language-text&quot;&gt;paper-button&lt;/code&gt; styling between button and text.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Keeping these requirements in mind, let’s build out our element, starting with the markup:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;brum-global-variable&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;userData&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{storedUser}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;brum-global-variable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;dom-if&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{!link}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;paper-button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;raised&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;indigo&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;on-tap&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;logout&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Log Out [[[storedUser.name]]]&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;paper-button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;template&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;dom-if&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{link}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;paper-button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;link&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;on-tap&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;logout&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Log Out [[[storedUser.name]]]&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;paper-button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This should look familiar. We’re accessing &lt;code class=&quot;language-text&quot;&gt;brum-global-variable&lt;/code&gt; so when we log out, changes to the data are set throughout the app. We’ll check for a &lt;code class=&quot;language-text&quot;&gt;link&lt;/code&gt; property and if it’s false, show a different button. Both buttons will call the same &lt;code class=&quot;language-text&quot;&gt;on-tap&lt;/code&gt; handler, &lt;code class=&quot;language-text&quot;&gt;logout()&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: You may have noticed that we didn’t include &lt;code class=&quot;language-text&quot;&gt;iron-localstorage&lt;/code&gt;. Changes to &lt;code class=&quot;language-text&quot;&gt;storedUser&lt;/code&gt; in &lt;code class=&quot;language-text&quot;&gt;log-out&lt;/code&gt; use &lt;code class=&quot;language-text&quot;&gt;brum-global-variable&lt;/code&gt; to notify other instances which update &lt;code class=&quot;language-text&quot;&gt;iron-localstorage&lt;/code&gt;. In turn, local storage is retrieved by the parent upon app initialization and the property is then sent to the child &lt;code class=&quot;language-text&quot;&gt;log-out&lt;/code&gt; via its &lt;code class=&quot;language-text&quot;&gt;stored-user&lt;/code&gt; attribute.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Here’s the JS to facilitate our required &lt;code class=&quot;language-text&quot;&gt;log-out&lt;/code&gt; behavior:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;LogOut&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Polymer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Element&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            storedUser&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            link&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                type&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Boolean&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                value&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;logout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;storedUser &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;storedUser&lt;/code&gt; object will be passed into the element from the parent but we’ll need to manipulate it to perform logout. The &lt;code class=&quot;language-text&quot;&gt;link&lt;/code&gt; property will be true if it’s present as an attribute on the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;log-out&amp;gt;&lt;/code&gt; element. The default value of a boolean property must be set to false in order for it to &lt;a href=&quot;https://www.polymer-project.org/2.0/docs/devguide/properties#configuring-boolean-properties&quot;&gt;function as an attribute&lt;/a&gt; that can be configured by markup.&lt;/p&gt;
&lt;p&gt;To log out, all we need to do is set the &lt;code class=&quot;language-text&quot;&gt;storedUser&lt;/code&gt; object to &lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Now let’s finish up by adding some styles: &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;:host&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;paper-button&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fff&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;paper-button.link&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fff&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inline-block&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 13px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;paper-button.indigo&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--paper-indigo-500&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; white&lt;span class=&quot;token selector&quot;&gt;;
  --paper-button-raised-keyboard-focus:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--paper-pink-a200&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token important&quot;&gt;!important&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; white &lt;span class=&quot;token important&quot;&gt;!important&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;paper-button.indigo:hover&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--paper-indigo-400&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The link style will display in the blue header area so the text should be white. If we need to add additional links in other contexts, we can always adjust the styling to add variables or other options.&lt;/p&gt;
&lt;p&gt;Now that we have our &lt;code class=&quot;language-text&quot;&gt;log-out&lt;/code&gt; element, let’s add it to the &lt;code class=&quot;language-text&quot;&gt;/src/register-login.html&lt;/code&gt; view:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- register-login.html --&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;authenticated&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;hidden$&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[!storedUser.loggedin]]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
	...
	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;log-out&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;stored-user&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{storedUser}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;log-out&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Our authenticated &lt;code class=&quot;language-text&quot;&gt;register-login&lt;/code&gt; now looks like this in the browser:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/screenshot_logout-3835d7936136c065ae1f9a84e7566bf2-e6542.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 67.76595744680851%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAACDUlEQVQoz3WSzYvTQBjG8+8JHkQQRFCEvXrQi7CIoCJbxVU8yMLinkSouG6TprZJozRtta2wfh5W68fB1W3tZjIzmUyaNulMxmnSFdxtn3l4GV7y432YN8rH4uZOtfzVtnY7jd1O81e73q3qXVP/bJY+GZX3FeNdxdgum28qVsd82TZrnapt60atZOj5ooIJAcjrOwD51KPDHgz6DnFcH0DfhdN6YPrv3h/An7/3848KCgmChLM4ioWY7Dnjs/fA0gN87j4+sQIX+WQOnr7rLV97orAkEYmUkApGXGuhYhurLbTZhE8bi+xuvcZr63IypVEUZTTnjMe+4KFIRkKMhWALzcP842eKT6mHcQYzxjzi/wGugzCmAZcdnnAuq5iklWcpExGOxmurDxXJJDwNncLU90Pg0H6P9PYoIeEwHA4Dnw4HiO3jSTyZfRlF49XcxhTmjM1gzimCzp3rvYtLgxuXJxBMu8kMyJRlDMdR/nYuhWWyg8kYIffHN/BlB3zvEizXJ6McFfF8ur1x9TAMEYKehwiRdiF05wkAIJ+mur5yGEZSEM68SBDKydrNS1M4jmOWSu4MzJObVTc1AI4z3catK8v/TZaPEcyTTwN55B9BaHqnNI6jM+cvKI3Gq3qzZdeblmWZpqkWtlS1oKlqUdMKBVVVtZKuN4znL8qltzXzg23aFV32zap17Pipv3bp4K6Q9HXXAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Polymer login view when authenticated show log out button&quot;
        title=&quot;&quot;
        src=&quot;/static/screenshot_logout-3835d7936136c065ae1f9a84e7566bf2-7476a.png&quot;
        srcset=&quot;/static/screenshot_logout-3835d7936136c065ae1f9a84e7566bf2-5131c.png 250w,
/static/screenshot_logout-3835d7936136c065ae1f9a84e7566bf2-37136.png 500w,
/static/screenshot_logout-3835d7936136c065ae1f9a84e7566bf2-7476a.png 1000w,
/static/screenshot_logout-3835d7936136c065ae1f9a84e7566bf2-a41db.png 1500w,
/static/screenshot_logout-3835d7936136c065ae1f9a84e7566bf2-e6542.png 1880w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Recall that after login, users are redirected to the &lt;code class=&quot;language-text&quot;&gt;secret-quotes&lt;/code&gt; view. We’ll replace the “Log In” link in the header shortly. However, the &lt;code class=&quot;language-text&quot;&gt;/register-login&lt;/code&gt; route will be accessible regardless of authentication state: the user can access it via the URL or the browser Back button. If they visit this route while logged in, they’ll see this message and be able to log out.&lt;/p&gt;
&lt;h2&gt;Fetching Secret Quotes&lt;/h2&gt;
&lt;p&gt;It’s time to access the protected API to get secret quotes. When we’re finished with this step, our app will look like this:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/screenshot_secret-quotes-b4a311f3e368b8cd738d638c5605fed1-d418e.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 68.15286624203821%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAACMElEQVQoz22QzWsTQRjG9w8Tz94F6dGDFq+5Fo2nKljRUrINRjcJsUtas+bTQkhojalQ7aFFlOjFJCqF7sfM7NfMfu86u5uEBH34MfPuzjwz7zPMucB/e9f40euMB73JoD8ZdEcdYdQWvrbr563mWbP9udk+bXQ+Ng+Hre6Hdm/Y6feFdr9x2OKbjKobMkCXVyLUdQ0TSTVFRQNAQ0hHSJtDax0m0EKUwJ/Lqwp3wCDd8D3XcZwocEXorOeUe3l0l1VvbcGYJ/+wBdeewts7aCNbZsIoCsMgpFMUYTsQhrB2olKqA5U/BntHyhIghT8C1QHc3qkymmFalhUloqf4tuZZqkuQb6tR5EaRP8dbJvTNEsczJiEIoTC5OggCmnA6/f1zPB1PfmFiu17guL5DpzCaXZBgYvJ8M8eknnTB933DMBzHJoRYFtHmUlXV8zzXjZ+GjnQn3fDoIcuknoXZNGkKIkmiosgYY3qWLMuSJNHuCCbYxGlGan6VfZCaZzcHgY9Ug+ubmzX9Wct4LBgve9j15x0viXY23M4k5mBhppnVs+/w+AIMv4D3F+DTCBom7QCbS6Kfmq532exK5sSMiAEdPMMyIfifIEL7G+uxmT6Dl4gWNKEoSqK4GOWFgBKjpDUA9zOZlczpQfaqLNuO39CyDEx0bGEr/ke33Vy7w+wfCNU3b3meLxWLHMexuVyeZfO7uym05AqF1utircyd1PdO6xWhVNjNv6iUK9eu3/gLkwvZmdHsPqAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Polymer secret quotes view when logged in&quot;
        title=&quot;&quot;
        src=&quot;/static/screenshot_secret-quotes-b4a311f3e368b8cd738d638c5605fed1-7476a.png&quot;
        srcset=&quot;/static/screenshot_secret-quotes-b4a311f3e368b8cd738d638c5605fed1-5131c.png 250w,
/static/screenshot_secret-quotes-b4a311f3e368b8cd738d638c5605fed1-37136.png 500w,
/static/screenshot_secret-quotes-b4a311f3e368b8cd738d638c5605fed1-7476a.png 1000w,
/static/screenshot_secret-quotes-b4a311f3e368b8cd738d638c5605fed1-a41db.png 1500w,
/static/screenshot_secret-quotes-b4a311f3e368b8cd738d638c5605fed1-d418e.png 1884w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Open &lt;code class=&quot;language-text&quot;&gt;/src/secret-quotes.html&lt;/code&gt; and add the following dependencies: &lt;code class=&quot;language-text&quot;&gt;iron-ajax&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;iron-localstorage&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;paper-button&lt;/code&gt;, and &lt;code class=&quot;language-text&quot;&gt;brum-global-variable&lt;/code&gt;. Clean up the contents of the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;div class=&amp;quot;card&amp;quot;&amp;gt;&lt;/code&gt; element:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- secret-quotes.html --&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/polymer/polymer-element.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/iron-ajax/iron-ajax.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/iron-localstorage/iron-localstorage.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/paper-button/paper-button.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;shared-styles.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
...
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;card&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Secret Quotes&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Add the &lt;code class=&quot;language-text&quot;&gt;iron-localstorage&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;brum-global-variable&lt;/code&gt; elements:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;iron-localstorage&lt;/span&gt; 
  &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;user-storage&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; 
  &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{storedUser}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; 
  &lt;span class=&quot;token attr-name&quot;&gt;on-iron-localstorage-load&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;initStoredUser&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;iron-localstorage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;brum-global-variable&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;userData&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{storedUser}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;brum-global-variable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;We’ll use the &lt;code class=&quot;language-text&quot;&gt;on-iron-localstorage-load&lt;/code&gt; event to get a quote automatically if an authenticated user enters the app on this page.&lt;/p&gt;
&lt;p&gt;Next add &lt;code class=&quot;language-text&quot;&gt;iron-ajax&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;iron-ajax&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;getSecretQuoteAjax&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;http://localhost:3001/api/protected/random-quote&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;handle-as&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;last-response&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{secretQuote}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;iron-ajax&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This looks similar to the &lt;code class=&quot;language-text&quot;&gt;iron-ajax&lt;/code&gt; element we used to get public quotes in the &lt;code class=&quot;language-text&quot;&gt;home-quotes&lt;/code&gt; element except that we’re not using the &lt;code class=&quot;language-text&quot;&gt;auto&lt;/code&gt; attribute. We’ll add authorization to this request in the JS when we generate the request.&lt;/p&gt;
&lt;p&gt;We’ll display the quotes in the UI. We want to show authenticated users a greeting and private quotes. If an unauthenticated user visits this route, we should show a message instructing them to log in:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/screenshot_secret-quotes_unauth-c49088f3e611750a5ef46df174c859cf-f5621.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 68.0084745762712%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAAB7klEQVQoz5WQy2sTQRzH9x8Tr95F6dGDBDzao9LmpAcrKDEPDGwSYpemuiabjcWSWEkbodRDLz4ogkbRQtPsPPYxM/uaHSe7ColB0A8fmB8/5vsbfqMc69r7F52Tfu/LsD8eDsbD3Y89/YOpvzPbx13jrWEeGeZhp/fG2Dno7u6b/YPeYKCbrzo7hmYo2HGnAJ2eTaDjYELPsTexbABshOZ1pDBVFpNz8P30rKluK8hx4ygMgkDwcAKD3CPrRgXlyvjKBrwqvbfkBly5D68V0K31hpIIkSQ8kYcQxOf6COojLG3tY+012Nyz5gSZ2h5oDeHDwpZiux6jVE4Q6ZTYt0OKYoYiCpLYF4ILEQsR/WESe3VVUzxKAQBJ+jTnHCI8/vrt8/jHyacxtp0w4swPYs6TdHymxCP0wZ2ikmXSjojj2HGcMAxcGhHGKSGu68qO/BE5nc9BCLmbLytZJgvLLkqxMcIY2b9By2Cs5vNZmM+HwQyY+gu4DMKjwmoa5gth+A/Ip1+W1hd2/o8wxq3buVlY/keUIovp37GsqTWdKZG7rK3eXNg5G+QvwnzfY4wy5hLqEEbYrCevXV65rrS29a2nzzVNq9dqqqqWisVKqVQplzNlqVar3Se1Zw111N48bDf1erVcedxsNC9cvPQT50/bZ6ma+vEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Polymer unauthenticated view of secret quotes&quot;
        title=&quot;&quot;
        src=&quot;/static/screenshot_secret-quotes_unauth-c49088f3e611750a5ef46df174c859cf-7476a.png&quot;
        srcset=&quot;/static/screenshot_secret-quotes_unauth-c49088f3e611750a5ef46df174c859cf-5131c.png 250w,
/static/screenshot_secret-quotes_unauth-c49088f3e611750a5ef46df174c859cf-37136.png 500w,
/static/screenshot_secret-quotes_unauth-c49088f3e611750a5ef46df174c859cf-7476a.png 1000w,
/static/screenshot_secret-quotes_unauth-c49088f3e611750a5ef46df174c859cf-a41db.png 1500w,
/static/screenshot_secret-quotes_unauth-c49088f3e611750a5ef46df174c859cf-f5621.png 1888w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Add the following markup:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;card&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Secret Quotes&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;hidden$&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[!storedUser.loggedin]]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Hello, [[storedUser.name]]! You have access to secret quotes:&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;blockquote&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;[[secretQuote]]&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;blockquote&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;paper-button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;primary&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;raised&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;on-tap&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;getSecretQuote&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Get a New Secret Quote&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;paper-button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;hidden$&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[storedUser.loggedin]]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;You must &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[rootPath]]register-login&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;log in&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; to access secret quotes!&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;We can use &lt;code class=&quot;language-text&quot;&gt;hidden&lt;/code&gt; because although the authenticated content is stamped in the template on initiation, unauthenticated users cannot access the protected quotes API.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: Using &lt;code class=&quot;language-text&quot;&gt;hidden&lt;/code&gt; is much faster than creating and destroying elements with &lt;code class=&quot;language-text&quot;&gt;dom-if&lt;/code&gt;, which can cause noticeable runtime latency. You can read more about this in the &lt;a href=&quot;https://www.polymer-project.org/2.0/docs/devguide/templates#dom-if&quot;&gt;dom-if Polymer docs&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In JS, add the &lt;code class=&quot;language-text&quot;&gt;storedUser&lt;/code&gt; property, &lt;code class=&quot;language-text&quot;&gt;initStoredUser()&lt;/code&gt;, and &lt;code class=&quot;language-text&quot;&gt;getSecretQuote()&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SecretQuotes&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Polymer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Element&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;secret-quotes&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            storedUser&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Object
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;initStoredUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// if entering site on the secret quotes page, verify if logged in and if so, preload a secret quote&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;storedUser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;loggedin&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getSecretQuote&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;getSecretQuote&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// add token authorization and generate Ajax request&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;getSecretQuoteAjax&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Authorization&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Bearer &apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;storedUser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;access_token&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;getSecretQuoteAjax&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;generateRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;customElements&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;SecretQuotes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;is&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; SecretQuotes&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;getSecretQuote()&lt;/code&gt; is executed when the user clicks the button to fetch a new quote from the API. We’ll use the &lt;code class=&quot;language-text&quot;&gt;generateRequest()&lt;/code&gt; method and provide an &lt;code class=&quot;language-text&quot;&gt;Authorization&lt;/code&gt; header with the user’s access token.&lt;/p&gt;
&lt;p&gt;Authenticated users can now get secret quotes!&lt;/p&gt;
&lt;h2&gt;Header and Menu States&lt;/h2&gt;
&lt;p&gt;The last thing we’ll do is improve the user experience. When the user is logged in, let’s hide the Secret Quotes link and add a greeting and log out link in the header. &lt;/p&gt;
&lt;p&gt;Open &lt;code class=&quot;language-text&quot;&gt;/src/my-app.html&lt;/code&gt;. Import &lt;code class=&quot;language-text&quot;&gt;iron-localstorage&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;brum-global-variable&lt;/code&gt;, and &lt;code class=&quot;language-text&quot;&gt;log-out&lt;/code&gt; dependencies and add the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;iron-localstorage&amp;gt;&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;&amp;lt;brum-global-variable&amp;gt;&lt;/code&gt; elements to the DOM:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- my-app.html --&gt;&lt;/span&gt;
...
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/brum-global-variable/brum-global-variable.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/iron-localstorage/iron-localstorage.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;log-out.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
...
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;iron-localstorage&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;user-storage&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{storedUser}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;iron-localstorage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;brum-global-variable&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;userData&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{storedUser}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;brum-global-variable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Hiding “Secret Quotes” in the Menu&lt;/h3&gt;
&lt;p&gt;Locate the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;iron-selector&amp;gt;&lt;/code&gt; element inside the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;app-drawer&amp;gt;&lt;/code&gt;. Each &lt;code class=&quot;language-text&quot;&gt;&amp;lt;a&amp;gt;&lt;/code&gt; tag  needs to be wrapped in its own container element in order to be hidden and shown conditionally. You can read more about &lt;a href=&quot;https://www.webcomponents.org/element/PolymerElements/iron-selector&quot;&gt;iron-selector here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Change the code to:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;...
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;home-quotes&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[rootPath]]home-quotes&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Home&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;secret-quotes&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;hidden$&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[!storedUser.loggedin]]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[rootPath]]secret-quotes&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Secret Quotes&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;As you can see, we’ve moved the &lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt; attributes to the containing divs and added a &lt;code class=&quot;language-text&quot;&gt;hidden&lt;/code&gt; attribute to the Secret Quotes link.&lt;/p&gt;
&lt;p&gt;The result is that we no longer see a link to the &lt;code class=&quot;language-text&quot;&gt;secret-quotes&lt;/code&gt; page while we are logged out.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/screenshot_quotes-link-auth-14d06da7add3c61d7115f4624383c5ee-d418e.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 67.94055201698514%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAAB6klEQVQoz52R72vTQBjH88fpW1+ICL7wlQP9A9wbQUoFQX2lc5uvJiiODgdZW+/SlrSk3bJfRRzKpL4QnE7HsiaXyyVtc727nJfEOjsUhl8+PPdcuM9xd9H29NI+rHwy4cF6K6Vj9uBaD+j7oLz3pvq2CrpVsFOBm9WaDRobwLSNZlMHzbJRWS5rmIR9hH84fUTCYDB0/IHjkr6LPUTQBC/HTyvyw2PH+3508mrptYbDkDNGYyrF+ATRG3PuzQU8M4+vPET/4uoj7/oTcqfwUuOJlImKVBnGQrfR2hbWN/0Vyz1L+5RVG8/Nr2iUcZmr6SaCjQI68BklUgopeVb/bBQskUwmoxdLJS11hMhlIYSPg8NvX53jo3TGWUzHdMzGjKuqUFMu0mOOYvr4/uK0zHkYRod9/vFL9P4z7h0EgyjNcDjMxiiMIp4tppQ+KGaymMhqF+STZwYuLKN7JbwAg8l1ft0rX6wyovR5sTglp8f2feyj3+RRHxE67dVE/WD76exZGZ0jnucpub5Y+E85CKPVu7dSmXOeZFGNd464rksIKc7enn6wJAn/FkIUJCAEqyHrKY0vX5vRdrvdre3u9s5up9NuW5YBAYTAgLBWU0Wl1qjX7WajbTberbc+2K0Nsw4AtKzOhYuXfgJSFuGS5A58qgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Polymer unauthenticated user menu&quot;
        title=&quot;&quot;
        src=&quot;/static/screenshot_quotes-link-auth-14d06da7add3c61d7115f4624383c5ee-7476a.png&quot;
        srcset=&quot;/static/screenshot_quotes-link-auth-14d06da7add3c61d7115f4624383c5ee-5131c.png 250w,
/static/screenshot_quotes-link-auth-14d06da7add3c61d7115f4624383c5ee-37136.png 500w,
/static/screenshot_quotes-link-auth-14d06da7add3c61d7115f4624383c5ee-7476a.png 1000w,
/static/screenshot_quotes-link-auth-14d06da7add3c61d7115f4624383c5ee-a41db.png 1500w,
/static/screenshot_quotes-link-auth-14d06da7add3c61d7115f4624383c5ee-d418e.png 1884w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h3&gt;Authentication State in the Header&lt;/h3&gt;
&lt;p&gt;We want our logged in user to see something like this in the app header:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/screenshot_quotes-header-auth-375c745c51afcc39ace8829936bf32c4-b4be3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 67.76947705442903%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAACMklEQVQoz22SzU8TQRjG91/0JnrBhH/Am148eKiJabCJRk3EaKLxIKlYtqUWS4u0stCW3bXEA6UgBkVidztf+70zO767aBHrk1+ezGbeZ953Jqsc651Ba32obXw3uidG99TsHPe0E7P3zex9NfRD3TjQjeGOMdgx94z+nrm73//c3+qa293a0jsllhJR9sOyMGPU80+RO6IR8RMWpDjhBAEwX7BA2CQYs6CqNpQxoYngURhJEdskvFYYzd23Zwv2pZw1zZW8PZO3ZgvWzDy7mVtR4kTKBCRBQSRKm2h5Cy9ruNjGixv26w8XKLZS3rStJY0+e1FXYNowDGWmJBGxT3hA44CCyySSUkjJM48nJAl4VC2/Vwhj4/H4LCyEQJgMD4/2h18A5vgxT6KYA2ejZQ2gLOGJeLWwqKTfQkzCjDEpAsk9APqHPgEhhIIgiOMYZoQamR4knj4upmHB+d9h/cBf7aGmSeo6bu0Sx/F83wO5rgu7UQR3SW+iPnqonGUmYUzo8zrJLaJ7b/HdInpQwV6Y7v6ZOq0RPA6E/PTyzr9huD9GNkE2TrHAp2WNRtjx+qUn/wmDEDpnWpBmflgr3ErDnHN4QEjCk9hWKvC0Q7a0rfOe48xHP0eu7y/M5y90hn/Fy+Rmz/PbXZc6LnMczBxMHeo4lFIovn7jtqJp25vbO9pWp9loNNbWysslVVUr5XJ1pQILtVyprlR7zdV2fXWgNY8663qzViqp7fbHy1fnfgGxu+riTXEFqAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Polymer authenticated user state in header&quot;
        title=&quot;&quot;
        src=&quot;/static/screenshot_quotes-header-auth-375c745c51afcc39ace8829936bf32c4-7476a.png&quot;
        srcset=&quot;/static/screenshot_quotes-header-auth-375c745c51afcc39ace8829936bf32c4-5131c.png 250w,
/static/screenshot_quotes-header-auth-375c745c51afcc39ace8829936bf32c4-37136.png 500w,
/static/screenshot_quotes-header-auth-375c745c51afcc39ace8829936bf32c4-7476a.png 1000w,
/static/screenshot_quotes-header-auth-375c745c51afcc39ace8829936bf32c4-a41db.png 1500w,
/static/screenshot_quotes-header-auth-375c745c51afcc39ace8829936bf32c4-b4be3.png 1874w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Let’s update the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;app-header&amp;gt;&lt;/code&gt; to show the “Log In” link when the user is logged out and a greeting with the &lt;code class=&quot;language-text&quot;&gt;log-out&lt;/code&gt; element when authenticated.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;...
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;app-header&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;condenses&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;reveals&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;effects&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;waterfall&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;app-toolbar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    ...
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;register-login&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[rootPath]]register-login&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;hidden$&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[storedUser.loggedin]]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Log in&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;hidden$&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[!storedUser.loggedin]]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;greeting&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Hi [[storedUser.name]]!&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;log-out&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;stored-user&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{storedUser}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;link&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;log-out&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;app-toolbar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;app-header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Add the &lt;code class=&quot;language-text&quot;&gt;storedUser&lt;/code&gt; object to the Polymer properties in the JS:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyApp&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Polymer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Element&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;my-app&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
            storedUser&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;customElements&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;MyApp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;is&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; MyApp&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Finally, we’ll add some CSS in the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;style&amp;gt;&lt;/code&gt; block:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;...
app-header .greeting,
app-header a&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fff&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 13px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;app-header .greeting&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;border-right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1px solid &lt;span class=&quot;token function&quot;&gt;rgba&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;255,255,255,.5&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inline-block&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;padding-right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 6px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;We now have a functioning user state in the global header. When we log in or out, no matter what view we’re on, the header and menu will update according to authentication status.&lt;/p&gt;
&lt;h2&gt;Aside: Authenticating a Polymer App with Auth0&lt;/h2&gt;
&lt;p&gt;Let’s explore authenticating the client side of a Polymer app with a more robust solution. We’ll do a quick implementation of &lt;a href=&quot;https://auth0.com/docs/hosted-pages/login&quot;&gt;Auth0’s Centralized Login Page&lt;/a&gt; to manage user identity. We’ll leverage local storage and the &lt;code class=&quot;language-text&quot;&gt;brum-global-variable&lt;/code&gt; package again to ensure users aren’t logged out unexpectedly. You can clone the full code from &lt;a href=&quot;https://github.com/auth0-blog/polymer2-with-auth0&quot;&gt;this GitHub repo&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/screenshot_auth0-js-593a25e7269768152848c0452e5cc369-d8343.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 68.29268292682927%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAADDklEQVQozyVSWWsTURSe36ImaaudZjIzd+7MvXf2pGmtVeNSIuKKy4Mo4oMoiqBWrD5ILPqgID5UKy64gSBCVdypTQLWJTVJM5O22kpqbWwTGzXeVDgcDpzvO9/ZmLH4K+fpw/SzvszzJ18T/V/ib/JvX48l4yOJuJNIZOPJzEAyPZAcir9LJQZTyQ+p5Pvky/6BF/33eu8x334Ux0ZHPw87Q9nhrJvP5kdq3nGH3XzOcZ18Pue6w47j5F3HdbO5XH50JJ3N0NTVy7eYgIgxNmVZVxQDIYPGkqSKIgayISEbAEJjmsXYogAINShrgogQNo8dOsN46zkuAAO8AoAqiMQ0Wy5evHTl2s0r3bGeU8d7eq5d7b2+ZevOpiYoQY0XUYCXWRZwAbnrRDfT6JdoMVk2ELZlxVi+Yq2TyxV+TE+nB6cHnk5+nywWpzs7u/wc1LSQrJhUnBcUIGknO7sZjkdIMTG2Nb2ZqKFIJJpOZ1KpoUyWDu5++PhpfHyckmtNWa2EBBVkAqhCWT+w6wjD12a2VTVkmq2aHu7o2FAs/iyVypXK72q1WiqVqI/FztGhgqF2KkDB8wsyd28/yoiSSuZlLWupYbRE122empqam5ubmZmlTBpQ8tmz5yWoh5rbdSNM1CCUDawYp3dsYyDUEbY0rUbW9XA0ummyUCiXZmd+Fn+VS38qlf/KNXKonQIIsSlZRfr9gx0MPYaCLKLaVJY2v7Zjw2y5/Ktanf3zt1ytzvyuNR87d0EQcDC4TNVC9Ga0EEFa7+GtjCAguuR5fhCTYKRt5cSjW1OPbxf67hT67k48vFF59aBr394A0Aw9jJBFwQJQIUCxTW1MUxOgqxdETG8gYbtVQf0rGwZXLR6M8u/Xg+SqJek1DQdNgZNtDZuKrAOJ0KcQeGVjJMLYdgu1pW0R3WiRoEGQsVola6iRedPIaoIIJBzQGwOozq+wAcRxcAkrsqLFsBxU1LAEFJ+3ftFCn2eRz+Nb7Klr9Naznjp2gc/Pc2A5klYguKfd2r8MG37W423k/ZK3QfwH/a5+KExNufMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Polymer register login app view with auth0.js&quot;
        title=&quot;&quot;
        src=&quot;/static/screenshot_auth0-js-593a25e7269768152848c0452e5cc369-7476a.png&quot;
        srcset=&quot;/static/screenshot_auth0-js-593a25e7269768152848c0452e5cc369-5131c.png 250w,
/static/screenshot_auth0-js-593a25e7269768152848c0452e5cc369-37136.png 500w,
/static/screenshot_auth0-js-593a25e7269768152848c0452e5cc369-7476a.png 1000w,
/static/screenshot_auth0-js-593a25e7269768152848c0452e5cc369-a41db.png 1500w,
/static/screenshot_auth0-js-593a25e7269768152848c0452e5cc369-d8343.png 1886w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;When users are logged in, they’ll see something like this:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/screenshot_auth0-loggedin-9a55bee818fce928a7131ceea4db514a-f5621.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 1000px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 68.22033898305084%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAACIElEQVQoz22SS2/TQBSF/asQa34BKxbdAUVCInukUDawQ6nzaB5Ko6glJW2iRGniqIW0Sts0SAgWICFALFCQmqcfM+O3Y4/tMJ6IKmn66Yx17etz5o5s5lul+KNZ+91q/r1o9c4/9NrHv7jKT676vVH7Wq9/qTc+H3Kfalz38KjTeN/hWpfNk9Mqd1o7ahQbDFJUAaChIMiabnu+bLkTSZGATKUAKum/RFETJGU4lv70+m9zB4xqmB7G0+l05jlDyQll4dMMWtuEK0JrrPQw219PovWU8ijGh1/mGctxPNedURTDrXZBtYv2z2HxDKxIKl3ypQtQ7sD9Nh+NvWPGvGCZ1tzskRhbNVXRw8ZsRhLxiuYPPUuH+e09cmYlmJmCMVY1/epqoOtGkOXflE9FkCQYeZVgdMMkzM2u66qqOuj3R6ORg/HsVqgZAPh6Y4uh03rXZk3TJAopdDKAEWTrtCaFTyFvIgC2N14wc8+iWRRFQRDIlecntOYFCs8LJBQh5Hq+AkH7TeiWnUkbQIBkWQ6WDCEgFQECSG4ty/J8X0HgOBG+aSZtbQEyrbYMPYspTsaF508Cs+M4xEYibNuez7yIeC1RkIImT4YfDgbh0LOlnenn8b1lSO4UuzZ2TdsxbEyK4HdStfsPHjM7u3u7hYN8Pp9Jp9KpJBuJRFk2Fo3GyYqym2wsm0xWcplSLnNW3vlYzhUyiXg8mdpK37l77x/ju9xcNBjOlwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Polymer logged in with Auth0&quot;
        title=&quot;&quot;
        src=&quot;/static/screenshot_auth0-loggedin-9a55bee818fce928a7131ceea4db514a-7476a.png&quot;
        srcset=&quot;/static/screenshot_auth0-loggedin-9a55bee818fce928a7131ceea4db514a-5131c.png 250w,
/static/screenshot_auth0-loggedin-9a55bee818fce928a7131ceea4db514a-37136.png 500w,
/static/screenshot_auth0-loggedin-9a55bee818fce928a7131ceea4db514a-7476a.png 1000w,
/static/screenshot_auth0-loggedin-9a55bee818fce928a7131ceea4db514a-a41db.png 1500w,
/static/screenshot_auth0-loggedin-9a55bee818fce928a7131ceea4db514a-f5621.png 1888w&quot;
        sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h3&gt;Sign Up for Auth0&lt;/h3&gt;
&lt;p&gt;You’ll need an &lt;a href=&quot;https://auth0.com&quot;&gt;Auth0&lt;/a&gt; account to manage authentication. You can sign up for a &lt;a href=&quot;https://auth0.com/signup&quot; data-amp-replace=&quot;CLIENT_ID&quot; data-amp-addparams=&quot;anonId=CLIENT_ID(cid-scope-cookie-fallback-name)&quot;&gt;free account here&lt;/a&gt;. Next, set up an Auth0 Client and API so Auth0 can interface with your app and API.&lt;/p&gt;
&lt;h3&gt;Set Up a Client App&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Go to your &lt;a href=&quot;https://manage.auth0.com/#/&quot;&gt;&lt;strong&gt;Auth0 Dashboard&lt;/strong&gt;&lt;/a&gt; and click the ”&lt;a href=&quot;https://manage.auth0.com/#/clients/create&quot;&gt;create a new client&lt;/a&gt;” button. &lt;/li&gt;
&lt;li&gt;Name your new app and select “Single Page Web Applications”. &lt;/li&gt;
&lt;li&gt;In the &lt;strong&gt;Settings&lt;/strong&gt; for your newly created app, add &lt;code class=&quot;language-text&quot;&gt;http://localhost:8081&lt;/code&gt; to the Allowed Callback URLs and Allowed Logout URLs.&lt;/li&gt;
&lt;li&gt;If you’d like, you can &lt;a href=&quot;https://manage.auth0.com/#/connections/social&quot;&gt;set up some social connections&lt;/a&gt;. You can then enable them for your app in the &lt;strong&gt;Client&lt;/strong&gt; options under the &lt;strong&gt;Connections&lt;/strong&gt; tab. The example shown in the screenshot above utilizes username/password database, Facebook, Google, and Twitter.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Setup and Dependencies&lt;/h3&gt;
&lt;p&gt;Create a new directory, &lt;code class=&quot;language-text&quot;&gt;init&lt;/code&gt; a fresh Polymer starter kit app, then &lt;code class=&quot;language-text&quot;&gt;serve&lt;/code&gt; it:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;polymer init starter-kit
polymer serve --open&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Creating the Auth0 Login Element&lt;/h3&gt;
&lt;p&gt;Create a new file: &lt;code class=&quot;language-text&quot;&gt;/src/auth0-login.html&lt;/code&gt;. This will be our &lt;code class=&quot;language-text&quot;&gt;auth0-login&lt;/code&gt; custom element.&lt;/p&gt;
&lt;p&gt;Our &lt;code class=&quot;language-text&quot;&gt;auth0-login&lt;/code&gt; element will include the following: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;An element containing &lt;a href=&quot;https://cdn.auth0.com/js/auth0/9.0.0/auth0.min.js&quot;&gt;auth0.js v9&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;A link with an event handler to open authenticate with Auth0js.&lt;/li&gt;
&lt;li&gt;Auth0 configuration.&lt;/li&gt;
&lt;li&gt;A greeting with profile image and logout button to show when the user is authenticated.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Important security note:&lt;/strong&gt; In this demo, we’re adding authentication to the client side but we are not securing a backend. If you have an API for your application, the API should &lt;em&gt;always&lt;/em&gt; be secured. The &lt;a href=&quot;https://auth0.com/blog/why-should-use-accesstokens-to-secure-an-api&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;id_token&lt;/code&gt; should not be used to secure an API&lt;/a&gt;; instead, use an &lt;code class=&quot;language-text&quot;&gt;access_token&lt;/code&gt; with the appropriate configuration. You can read about how to &lt;a href=&quot;https://auth0.com/docs/apis&quot;&gt;implement API authentication with Auth0&lt;/a&gt; with &lt;a href=&quot;https://auth0.com/docs/api-auth/tutorials/implicit-grant&quot;&gt;implicit grant&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Let’s create the dependency element: &lt;code class=&quot;language-text&quot;&gt;/src/auth0-js.html&lt;/code&gt;. Create a new file and add the following:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- auth0-js.html --&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://cdn.auth0.com/js/auth0/9.0.0/auth0.min.js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This is best practice in Polymer for loading third party dependencies. This way, we can use HTML import to load this file and be certain that it will only be imported once. If it’s called again, it will be deduped.&lt;/p&gt;
&lt;p&gt;Now we can build &lt;code class=&quot;language-text&quot;&gt;/src/auth0-login.html&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- auth0-login.html --&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/polymer/polymer-element.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/iron-localstorage/iron-localstorage.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/brum-global-variable/brum-global-variable.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/paper-button/paper-button.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;auth0-js.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dom-module&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;auth0-login&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token style language-css&quot;&gt;
      &lt;span class=&quot;token selector&quot;&gt;:host&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fff&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 13px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token selector&quot;&gt;.greeting&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;border-right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1px solid &lt;span class=&quot;token function&quot;&gt;rgba&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;255,255,255,.5&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inline-block&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;padding-right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 6px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token selector&quot;&gt;.greeting img&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;border-radius&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inline-block&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 24px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;margin-right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 4px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;vertical-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; middle&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 24px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token selector&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fff&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token selector&quot;&gt;paper-button&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fff&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token selector&quot;&gt;paper-button.link&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fff&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inline-block&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 13px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token selector&quot;&gt;paper-button.indigo&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--paper-indigo-500&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; white&lt;span class=&quot;token selector&quot;&gt;;
        --paper-button-raised-keyboard-focus:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--paper-pink-a200&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token important&quot;&gt;!important&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; white &lt;span class=&quot;token important&quot;&gt;!important&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token selector&quot;&gt;paper-button.indigo:hover&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--paper-indigo-400&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;iron-localstorage&lt;/span&gt; 
      &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;user-storage&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; 
      &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{storedUser}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; 
      &lt;span class=&quot;token attr-name&quot;&gt;on-iron-localstorage-load&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;_setProfileImg&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;iron-localstorage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;brum-global-variable&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;userData&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{storedUser}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;brum-global-variable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;paper-button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;link&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;on-tap&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;authorize&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;hidden$&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[storedUser.loggedin]]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Log In&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;paper-button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;hidden$&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[!storedUser.loggedin]]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;greeting&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[profileImgSrc]]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;[[storedUser.profile.nickname]]&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;paper-button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;link&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;on-tap&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;logOut&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Log Out&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;paper-button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; webAuth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;auth0&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;WebAuth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              domain&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;DOMAIN&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
              clientID&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;CLIENTID&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
              responseType&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;token&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
              redirectUri&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;REDIRECT_URI&gt;&apos;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

          &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Auth0Login&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Polymer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Element&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;auth0-login&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

              &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                      storedUser&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                      profileImgSrc&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                          type&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                          value&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;
                      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

              &lt;span class=&quot;token function&quot;&gt;connectedCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                  &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;connectedCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; _self &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

                  &lt;span class=&quot;token comment&quot;&gt;// Parse the hash&lt;/span&gt;
                  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;location&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hash&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                      webAuth&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parseHash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; hash&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;location&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hash &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; authResult&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                              console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Error reading hash:&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                              &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

                          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;authResult&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                              webAuth&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;userInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;authResult&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;accessToken&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; profile&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                                  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                                      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Error getting profile:&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                                      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                                  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

                                  _self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;storedUser &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                                      name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; profile&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                      id_token&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; authResult&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;idToken&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                      access_token&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; authResult&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;accessToken&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                      loggedin&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                      profile&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; profile
                                  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                                  _self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;profileImgSrc &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; profile&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;picture&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

              &lt;span class=&quot;token function&quot;&gt;_setProfileImg&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;profileImgSrc &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;storedUser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;profile&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;picture&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

              &lt;span class=&quot;token function&quot;&gt;authorize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                  webAuth&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;authorize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

              &lt;span class=&quot;token function&quot;&gt;logOut&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;storedUser &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;profileImgSrc &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

          window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;customElements&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Auth0Login&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;is&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Auth0Login&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dom-module&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Make sure you update your &lt;code class=&quot;language-text&quot;&gt;auth0.js&lt;/code&gt; configuration. To get your &lt;code class=&quot;language-text&quot;&gt;client ID&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;domain&lt;/code&gt;, find your app in the &lt;a href=&quot;https://manage.auth0.com/#/clients&quot;&gt;Auth0 Dashboard&lt;/a&gt; and look in &lt;strong&gt;Settings&lt;/strong&gt;. Your &lt;code class=&quot;language-text&quot;&gt;redirect uri&lt;/code&gt; will be &lt;a href=&quot;http://localhost:8081&quot;&gt;http://localhost:8081&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; webAuth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;auth0&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;WebAuth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    domain&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;DOMAIN&gt;.auth0.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    clientID&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;CLIENTID&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    responseType&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;token&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    redirectUri&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;http://localhost:8081&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;You can read all about &lt;code class=&quot;language-text&quot;&gt;auth0.js&lt;/code&gt; in the &lt;a href=&quot;https://auth0.com/docs/hosted-pages/login&quot;&gt;Auth0’s Centralized Login Page&lt;/a&gt; docs. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: We’re setting the profile image with JS rather than binding directly to &lt;code class=&quot;language-text&quot;&gt;storedUser.profile.picture&lt;/code&gt; because if we don’t, the image &lt;code class=&quot;language-text&quot;&gt;src&lt;/code&gt; will populate as &lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt; and result in a 404 network error when not set.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We now have an &lt;code class=&quot;language-text&quot;&gt;auth0.js&lt;/code&gt; element that can be launched by clicking a “Log In” button. We need to place it in our app and pass in the appropriate Auth0 configuration.&lt;/p&gt;
&lt;h3&gt;Adding auth0.js to a Polymer App&lt;/h3&gt;
&lt;p&gt;Open &lt;code class=&quot;language-text&quot;&gt;/src/my-app.html&lt;/code&gt; and import the &lt;code class=&quot;language-text&quot;&gt;iron-localstorage&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;brum-global-variable&lt;/code&gt;, and &lt;code class=&quot;language-text&quot;&gt;auth0-login&lt;/code&gt; dependencies. Add the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;iron-localstorage&amp;gt;&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;&amp;lt;brum-global-variable&amp;gt;&lt;/code&gt; elements to the DOM and add the &lt;code class=&quot;language-text&quot;&gt;storedUser&lt;/code&gt; object to the Polymer properties in the JS.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- my-app.html --&gt;&lt;/span&gt;
...
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/iron-localstorage/iron-localstorage.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;../bower_components/brum-global-variable/brum-global-variable.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;import&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;auth0-login.html&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
...
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;iron-localstorage&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;user-storage&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{storedUser}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;iron-localstorage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;brum-global-variable&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;userData&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{storedUser}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;brum-global-variable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
...
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;
    &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyApp&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Polymer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Element&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;my-app&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
                storedUser&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Now we’ll add our &lt;code class=&quot;language-text&quot;&gt;&amp;lt;auth0-login&amp;gt;&lt;/code&gt; element to the DOM. We want to display the “Log In” link/user greeting in the header, just like we did in the Chuck Norris app.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;...
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;app-header&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;condenses&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;reveals&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;effects&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;waterfall&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;app-toolbar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;paper-icon-button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;icon&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;menu&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;drawer-toggle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;paper-icon-button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;main-title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;My App&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;auth0-login&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;auth0-login&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;app-toolbar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;app-header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
...&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Now users can sign up for an account, log in, and log out. You can utilize the techniques we learned earlier to access protected API routes, show and hide UI, set up redirection, and more. Check out the &lt;a href=&quot;https://auth0.com/docs&quot;&gt;Auth0 Docs&lt;/a&gt; to read about features, APIs, guides, and more.&lt;/p&gt;
&lt;h2&gt;The Future of Web (Components)&lt;/h2&gt;
&lt;p&gt;The beauty of web components is that they’re composed of native DOM features: they’re literally the future of the web. Web developers have a long history of struggling with DOM encapsulation and CSS scoping—and subsequently &lt;a href=&quot;https://www.smashingmagazine.com/2011/12/an-introduction-to-object-oriented-css-oocss/&quot;&gt;inventing&lt;/a&gt; &lt;a href=&quot;http://getbem.com/introduction/&quot;&gt;paradigms&lt;/a&gt; &lt;a href=&quot;https://smacss.com/&quot;&gt;to compensate&lt;/a&gt;. Web components offer solutions.&lt;/p&gt;
&lt;p&gt;Remember that Polymer itself is &lt;em&gt;not a framework&lt;/em&gt;. It’s a library to facilitate easy, compatible web component usage. When you use Polymer, your framework is the DOM. It’s also important to know that &lt;a href=&quot;http://blog.thoughtram.io/angular/2015/06/29/shadow-dom-strategies-in-angular2.html&quot;&gt;JS frameworks like Angular 2 are currently leveraging web component concepts&lt;/a&gt;. &lt;/p&gt;
&lt;p&gt;Web components may be the future, but there’s no reason not to get started with them today. Google uses Polymer in many of its sites, &lt;a href=&quot;http://webcomponents.org/articles/interview-with-joshua-peek/&quot;&gt;GitHub uses web components&lt;/a&gt;, and &lt;a href=&quot;https://youtu.be/fD2As5RmM8Q?t=15m56s&quot;&gt;there are&lt;/a&gt; many others leveraging these technologies. Custom elements are being built and shared with the community every day. In addition to Google’s &lt;a href=&quot;https://elements.polymer-project.org/&quot;&gt;Polymer Element Catalog&lt;/a&gt;, developers can take advantage of &lt;a href=&quot;https://vaadin.com/elements&quot;&gt;element libraries like Vaadin&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Polymer&lt;/strong&gt; delivers a way to use web components cross-browser while learning the native spec at the same time. Learning Polymer isn’t like tackling a massive JS framework: it’s a veneer over native features. You can build something simple or complex with web components. Polymer is intuitive to learn and the experience with web components will be invaluable for many projects, frameworks, and libraries to come.&lt;/p&gt;</content:encoded></item></channel></rss>